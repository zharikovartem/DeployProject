(this["webpackJsonpepam-app"]=this["webpackJsonpepam-app"]||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},268:function(e,t,n){"use strict";n.r(t);var a=n(10),s=n(0),c=n.n(s),o=n(25),i=n.n(o),r=(n(149),n(150),n(65)),l=n(52),u=n(272),j=n(140),d=n(274),b=n(277),h=n(40),f=n.n(h),p=n(57),m=n(275),O=n(273),g=n(105),k=n(271),x=n(92),D={labelCol:{span:8},wrapperCol:{span:16}},T={wrapperCol:{offset:8,span:16}},Y=m.a.TextArea,L=function(e){return console.log(e),Object(a.jsxs)(O.a,Object(p.a)(Object(p.a)({},D),{},{name:"basic",initialValues:{remember:!0},onFinish:function(t){console.log("Success:",t),t.user_id="1",t.taskTime=t.taskTime.format("HH:mm"),t.date=t.date.format("YYYY-MM-DD"),e.newTask(t)},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(a.jsx)(O.a.Item,{label:"Task name",name:"taskName",rules:[{required:!0,message:"Please input task name!"}],children:Object(a.jsx)(m.a,{})}),Object(a.jsx)(O.a.Item,{label:"Task date",name:"date",children:Object(a.jsx)(g.a,{})}),Object(a.jsx)(O.a.Item,{label:"Task time",name:"taskTime",rules:[{required:!0,message:"Please input time!"}],children:Object(a.jsx)(k.a,{onChange:function(e,t){console.log(e,t)},format:"HH:mm"})}),Object(a.jsx)(O.a.Item,{label:"Description",name:"description",children:Object(a.jsx)(Y,{rows:2})}),Object(a.jsx)(O.a.Item,Object(p.a)(Object(p.a)({},T),{},{children:Object(a.jsx)(x.a,{type:"primary",htmlType:"submit",children:"Create"})}))]}))},C="SET_TASK_LIST",v={taskList:null},M=function(e){return{type:C,taskList:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=Object(p.a)({},e);switch(t.type){case C:return n.taskList=t.taskList.Tasks,n;default:return e}},S=Object(r.b)((function(e){return{taskList:e.task.taskList}}),{newTask:function(e){return function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};console.log("requestOptions: ",n),fetch("https://81.90.181.175/api/tasks",n).then((function(e){return console.log("response: ",e),e.json()})).then((function(e){console.log("response: ",e),t(M(e))})).catch((function(e){return console.log("Can\u2019t access  Error:.",e)}))}}})(L),w=n(278),F=n(276),N=g.a.RangePicker,E=function(e){var t=Object(s.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(s.useState)("date"),r=Object(l.a)(i,2),u=r[0],j=r[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("label",{children:["Select ",u,":"]}),c?Object(a.jsx)(N,{onChange:e.onGapDateChange,defaultValue:[e.selectedDate,e.selectedDate],format:"DD-MM-YYYY",style:{marginLeft:10}}):Object(a.jsx)(g.a,{onChange:e.onDateChange,defaultValue:e.selectedDate,format:"DD-MM-YYYY",style:{marginLeft:10}}),Object(a.jsx)(w.a,{className:"ml-3",onChange:function(e){o(e.target.checked),e.target.checked?j("interval"):j("date")},children:"Date interval"}),Object(a.jsx)(x.a,{type:"primary",shape:"round",icon:Object(a.jsx)(F.a,{}),style:{marginLeft:10},size:"small",onClick:e.showDrawer,disabled:e.isAddActive,children:"Add"})]})},I=function(e){var t=Object(s.useState)(f()()),n=Object(l.a)(t,2),c=n[0],o=n[1],i=Object(s.useState)(!1),r=Object(l.a)(i,2),h=r[0],p=r[1],m=Object(s.useState)(!1),O=Object(l.a)(m,2),g=O[0],k=O[1],x=Object(s.useState)(null),D=Object(l.a)(x,2),T=D[0],Y=D[1];Object(s.useEffect)((function(){e.getTaskList(c.format("YYYY-MM-DD"))}),[c]),Object(s.useEffect)((function(){Y(function(){var t=[];null!==e.taskList&&t.push(Object(a.jsxs)("h3",{children:[f()(e.taskList[0].date).format("DD-MMMM"),":"]}));for(var n=0;n<24;n++)if(t.push(Object(a.jsxs)(u.a,{orientation:"left",children:[n<=9?"0":null,n,":00"]},n)),null!==e.taskList)for(var s=0;s<e.taskList.length;s++){var c=e.taskList[s],o=Number(c.time.split(":",1));o>=n&&o<n+1&&t.push(Object(a.jsx)(j.a,{placement:"topLeft",title:c.descriptions,children:Object(a.jsxs)("p",{className:"ml-5",children:[c.time.split(":",2).join(":")," - ",c.name]})},n+"-"+s))}return t}())}),[e.taskList]);return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"site-card-border-less-wrapper",children:[Object(a.jsx)(d.a,{title:Object(a.jsx)(E,{onDateChange:function(e,t){console.log("onDateChange value:",e),null!==e?(o(e),k(!1)):(o(f()(null)),k(!0))},selectedDate:c,showDrawer:function(){p(!0)},isAddActive:g,onGapDateChange:function(t){console.log("onGapDateChange value",t),e.getTaskListForGap(t[0].format("YYYY-MM-DD"),t[1].format("YYYY-MM-DD"))}}),bordered:!1,children:T}),Object(a.jsx)(b.a,{title:"Create New Task for "+c.format("DD MMM YYYY"),placement:"right",closable:!1,onClose:function(){p(!1)},visible:h,width:"80%",children:Object(a.jsx)(S,{selectedDate:c})})]})})},A=Object(r.b)((function(e){return{taskList:e.task.taskList}}),{getTaskList:function(e){return function(t){fetch("https://81.90.181.175/api/tasks?date="+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("response getTaskList: ",e),t(M(e))})).catch((function(e){return console.log("Can\u2019t access  Error:.",e)}))}},getTaskListForGap:function(e,t){return function(n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:e,end_date:t})};fetch("https://81.90.181.175/api/tasks/part",a).then((function(e){return e.json()})).then((function(e){console.log("response getTaskListForGap: ",e),n(M(e))})).catch((function(e){return console.log("Can\u2019t access  Error:.",e)}))}}})(I),G=(n(266),n(267),n(67)),P=n(136),_=Object(G.c)({task:y}),H=Object(G.d)(_,Object(G.a)(P.a)),J=function(e){return Object(a.jsx)(r.a,{store:H,children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)(A,{})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,279)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(J,{})}),document.getElementById("root")),q()}},[[268,1,2]]]);
//# sourceMappingURL=main.9fcb88f8.chunk.js.map