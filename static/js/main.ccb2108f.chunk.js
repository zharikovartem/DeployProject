(this.webpackJsonpFront2=this.webpackJsonpFront2||[]).push([[0],{355:function(e,t,n){},569:function(e,t,n){},573:function(e,t,n){},585:function(e,t,n){},595:function(e,t,n){},643:function(e,t,n){"use strict";n.r(t);var a,s=n(1),c=n(0),r=n(21),i=n.n(r),o=(n(355),n(18)),l=n(30),u=n(11),d=n(29),j=n(17),b=n(652),m=function(e){var t;return e||(t="Required!"),t},h=function(e){var t;return e?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||(t="Invalid email address!"):t="Required!",t},O=function(e){var t;if(e)if(1===e.length)Number(e)||"+"!==e&&(t="NOT NUMBER!");else if(e.length<9)t=Number(e)?"Phone number is short":"NOT NUMBER!";else if(9===e.length){e[0],e[1];t="Wrong prefix"}else e.length<12?"+"!==e[0]?t=Number(e)?"Phone number is short!":"NOT NUMBER!":Number(e)||(t="NOT NUMBER!"):13===e.length?"+"!==e[0]&&(t="Phone number is too long!"):e.length>13&&(t="Phone number is too long!");else t="Required!";return t},p=n(349),f=n(49),x=n(650),g=n(175),v=n(653),k=n(262),S=n(645),y=n(659),L=n(660),C=n(142),N=n.n(C),T=x.a.Item,w=g.a.Option,D=d.e.CheckboxItem,I=v.a.TextArea,_=function(e){return function(t){var n=t.field,a=t.form,c=t.hasFeedback,r=t.label,i=t.selectOptions,o=t.submitCount,l=t.type,d=Object(p.a)(t,["field","form","hasFeedback","label","selectOptions","submitCount","type"]),j=a.touched[n.name],b=o>0,m=a.errors[n.name],h=m&&b,O=m&&j,x=function(e){d.onChange&&(console.log("onChange field in create",e),d.onChange(n.name,e)),void 0===e?"select"!==l&&"time"!==l||a.setFieldValue(n.name,null):null===e?a.setFieldValue(n.name,null):"checkbox"===l?a.setFieldValue(n.name,e.target.checked):e.target?a.setFieldValue(n.name,e.target.value):"time"===l?a.setFieldValue(n.name,e):Array.isArray(e)?d.mode&&"multiple"===d.mode?a.setFieldValue(n.name,e):a.setFieldValue(n.name,e[0]):a.setFieldValue(n.name,e)},g=function(e){d.onChange&&(console.log("onChange field in create"),d.onChange(n.name,e)),"string"!==typeof e&&"checkbox"===e.target.type?a.setFieldValue(n.name,e.target.checked):a.setFieldValue(n.name,e)},v=function(){return a.setFieldTouched(n.name,!0)};return Object(s.jsx)(T,{label:f.isMobile?null:r,hasFeedback:!!(c&&b||c&&j),help:!(!h&&!O)&&m,validateStatus:h||O?"error":"success",children:f.isMobile?Object(s.jsx)(E,Object(u.a)(Object(u.a)({},d),{},{AntComponent:e,onBlur:v,type:l,onInputChange:x,onChange:g,label:r,selectOptions:i,value:n.value,onOk:d.onSelect})):Object(s.jsx)(e,Object(u.a)(Object(u.a)(Object(u.a)({},n),d),{},{allowClear:i?"true":"false",onBlur:v,onChange:l?x:g,checked:n.value,children:i&&i.map((function(e){return Object(s.jsx)(w,{title:e.name,value:e.value,children:e.name},e.name)}))}))})}},E=function(e){var t=Object(c.useState)("select"===e.type?[e.value]:e.value),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){"select"!==e.type||Array.isArray(e.value)?r(e.value):r([e.value])}),[e.value,e.type]);var i;i=null!==e.selectOptions&&void 0!==e.selectOptions?e.selectOptions.map((function(e){return{label:e.name,value:e.value,key:e.name}})):[];var l,j=e.type,b="textarea"===e.type?{autoHeight:!0}:null,m=(e.type,function(e){r(e)}),h=e.disabled?{disabled:!0}:null;return e.AntComponent.onOk&&(l=function(t){r(t),e.onOk&&e.onOk(t)}),e.disabled,Object(s.jsx)(d.j,{children:Object(s.jsx)(e.AntComponent,Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({onBlur:e.onBlur,type:e.type,mode:j,defaultValue:a,defaultChecked:a,value:a,title:e.label,locale:N.a},b),h),{},{className:"text"===e.type?"pl-0":null,data:i,cols:1},l),m),{},{onChange:e.type?function(t){r(t),e.onInputChange(t),"checkbox"===e.type&&e.onOk(t)}:e.onChange,children:Object(s.jsx)(d.j.Item,{className:"pl-0",children:e.label})}),e.label)})},M=f.isMobile?_(d.o):_(g.a),A=f.isMobile?_(d.f):_(k.a),R=f.isMobile?_(d.i):_(v.a),F=f.isMobile?_(d.i):_(v.a.Password),P=f.isMobile?_(d.f):_(S.a),V=f.isMobile?_(D):_(y.a),Y=f.isMobile?_(d.s):_(I),U=(f.isMobile?_(L.a):_(d.i),n(27)),z=n.n(U),H=function(e){var t=new Date,n=[];return e&&(n=e.split(":")),t.setHours(n[0]?Number(n[0]):0),t.setMinutes(n[1]?Number(n[1]):0),t.setSeconds(n[2]?Number(n[2]):0),t.setMilliseconds(n[3]?Number(n[3]):0),t},q=H(),B=z()(q),K=H("23:00"),J=z()(K),W={timeScaleInrerval:!1,completeInrerval:!0,timeScaleSingle:!0,completeSingle:!0,timeStart:f.isMobile?q:B,timeEnd:f.isMobile?K:J},G=function(e){var t=null!==e.viewSettings?function(e){var t=e.timeStart.split(":"),n=e.timeEnd.split(":");return Object(u.a)(Object(u.a)({},e),{},{timeStart:f.isMobile?H(e.timeStart):z()().hours(t[0]).minutes(t[1]).seconds(0).milliseconds(0),timeEnd:f.isMobile?H(e.timeEnd):z()().hours(n[0]).minutes(n[1]).seconds(0).milliseconds(0)})}(e.viewSettings.ToDo):W;return Object(s.jsx)(b.a,{title:"Task display settings",visible:e.isModalVisible,onOk:e.handleOk,onCancel:e.handleCancel,children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t){e.changeSettings("ToDo",t),e.handleOk()},enableReinitialize:!0,children:$})})},$=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsxs)(d.j,{renderHeader:function(){return"Single date settings"},children:[Object(s.jsx)(j.a,{component:V,name:"timeScaleSingle",label:"is time scale visible",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"completeSingle",label:"is complete visible",submitCount:e.submitCount})]}),Object(s.jsxs)(d.j,{renderHeader:function(){return"Inrerval date settings"},children:[Object(s.jsx)(j.a,{component:V,name:"timeScaleInrerval",label:"is time scale visible",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"completeInrerval",label:"is complete visible",submitCount:e.submitCount})]}),Object(s.jsxs)(d.j,{renderHeader:function(){return"Work day info"},children:[Object(s.jsx)(j.a,{component:P,name:"timeStart",type:"time",label:"Start time",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:P,name:"timeEnd",type:"time",label:"End time",validate:m,submitCount:e.submitCount,hasFeedback:!0})]}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},X=n(22),Q=n.n(X),Z=n(38),ee=n(330),te=n.n(ee).a.create({withCredentials:!0,baseURL:"https://crmapiserver.h1n.ru/api/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={}));var ne=function(){return localStorage.getItem("remember_token")&&(te.defaults.headers.common["X-Auth-Token"]=localStorage.getItem("remember_token")),sessionStorage.getItem("remember_token")&&(te.defaults.headers.common["X-Auth-Token"]=sessionStorage.getItem("remember_token")),te.defaults.headers.common["X-Auth-Token"]},ae=function(){var e="error";return localStorage.getItem("remember_token")&&(e=localStorage.getItem("remember_token")),sessionStorage.getItem("remember_token")&&(e=sessionStorage.getItem("remember_token")),te.get("authMe/"+e).then((function(e){return e})).catch((function(e){return e.response?(console.log("authMe ERROR: ",e.response),e.response):(e.request,null)}))},se=function(e){return te.post("login",e).then((function(t){return e.remember?null!==t.data.remember_token?localStorage.setItem("remember_token",t.data.remember_token):localStorage.removeItem("remember_token"):null!==t.data.remember_token?sessionStorage.setItem("remember_token",t.data.remember_token):sessionStorage.removeItem("remember_token"),200===t.status?t:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},ce=function(e){return te.post("register",e).then((function(e){return null!==e.data.remember_token?localStorage.setItem("remember_token",e.data.token):localStorage.removeItem("remember_token"),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},re={user:null,remember_token:null,isAuth:!1,viewSettings:{ToDo:{}},authError:null},ie={setAuthUserData:function(e,t){return{type:"SN/AUTH/SET_USER_DATA",user:e,remember_token:t}},logout:function(){return{type:"SN/AUTH/LOGOUT"}},changeSettings:function(e,t){return{type:"SN/AUTH/SET_SETTINGS_DATA",settingType:e,settings:t}},setAuthError:function(e){return{type:"SN/AUTH/SET_AUTH_ERROR",error:e}}},oe=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:(s=t.sent)&&(200===s.status?n(ie.setAuthUserData(s.data.user,s.data.remember_token)):n(ie.setAuthError(s.data.message)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH_ERROR":return Object(u.a)(Object(u.a)({},e),{},{authError:t.error});case"SN/AUTH/SET_SETTINGS_DATA":var n=Object(u.a)({},e.viewSettings),a="";a=z.a.isMoment(t.settings.timeStart)?t.settings.timeStart.format("h:mm A"):t.settings.timeStart.toTimeString().split(" ")[0];var s="";return s=z.a.isMoment(t.settings.timeEnd)?t.settings.timeEnd.format("h:mm A"):t.settings.timeEnd.toTimeString().split(" ")[0],n[t.settingType]=Object(u.a)(Object(u.a)({},t.settings),{},{timeStart:a,timeEnd:s}),Object(u.a)(Object(u.a)({},e),{},{viewSettings:n});case"SN/AUTH/SET_USER_DATA":return null!==t.user?Object(u.a)(Object(u.a)({},e),{},{user:t.user,remember_token:t.remember_token,isAuth:!0,viewSettings:JSON.parse(t.user.view_settings),authError:null}):re;case"SN/AUTH/LOGOUT":return localStorage.removeItem("remember_token"),sessionStorage.removeItem("remember_token"),re;default:return e}},ue=Object(l.b)((function(e){return{viewSettings:e.auth.viewSettings}}),{changeSettings:ie.changeSettings})(G),de=n(102),je=n(665),be=n(666),me=k.a.RangePicker,he=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)({startDate:z()(),endDate:z()()}),l=Object(o.a)(i,2),u=l[0],d=l[1];Object(c.useEffect)((function(){e.dateInterval.startDate.isSame(u.startDate.format("YYYY-MM-DD"),"day")&&e.dateInterval.endDate.isSame(u.endDate.format("YYYY-MM-DD"),"day")||e.setIsInterval(a,u)}),[a,u,e]);return Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsxs)("div",{className:"col-12 col-md-9 col-lg-9 col-xl-7 w-100",children:[Object(s.jsx)("div",{className:"d-none d-sm-inline",children:Object(s.jsxs)("label",{children:[a?"Date interval":"Date",":"]})}),Object(s.jsx)("div",{className:"d-none d-inline",children:a?Object(s.jsx)(me,{onChange:function(e,t){null!==e&&null!==e[0]&&null!==e[1]&&d({startDate:e[0],endDate:e[1]})},defaultValue:[e.dateInterval.startDate,e.dateInterval.endDate],value:[e.dateInterval.startDate,e.dateInterval.endDate],format:"DD-MM-YYYY",style:{marginLeft:10}}):Object(s.jsx)(k.a,{onChange:function(e,t){null!==e&&d({startDate:e,endDate:e})},defaultValue:e.dateInterval.startDate,format:"DD-MM-YYYY",style:{marginLeft:10}})})]}),Object(s.jsx)("div",{className:"col-12 col-md-3 col-lg-3 col-xl-2 m-2 m-md-0",children:Object(s.jsx)(y.a,{className:"ml-3",onChange:function(t){t.target.checked||d({startDate:u.startDate,endDate:u.startDate}),r(t.target.checked),e.setIsInterval(t.target.checked,e.dateInterval)},children:"Date interval"})}),e.isReadOnly?null:Object(s.jsxs)("div",{className:"col-12 col-md-12 col-lg-4 col-xl-3 mt-lg-2",children:[Object(s.jsx)(de.a,{type:"primary",shape:"round",icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(je.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Add"})]}),style:{marginLeft:10},onClick:e.showDrawer}),Object(s.jsx)(de.a,{className:"",type:"primary",shape:"round",style:{marginLeft:10},onClick:e.showModal,icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(be.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Settings"})]})})]})]})},Oe=function(e){return te.post("tasks",e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},pe=function(e){return ne(),te.post("tasks/part",e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},fe=function(e){return ne(),te.delete("tasks/".concat(e)).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},xe=function(e,t){return ne(),te.put("tasks/".concat(t),e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},ge={taskList:null,taskListIsFetching:!1,taskSaveStatus:"no",errorMessage:null,isInterval:!1,dateInterval:{startDate:z()(),endDate:z()()}},ve={setTaskList:function(e){return{type:"SN/TASK/SET_TASK_LIST",taskList:e}},setTaskSaveStatus:function(e){return{type:"SN/TASK/SET_TASK_SAVE_STATUS",taskSaveStatus:e}},setErrorMessage:function(e){return{type:"SN/TASK/SET_ERROR_MESSAGE",message:e}},setTaskListIsFetching:function(e){return{type:"SN/TASK/SET_TASK_LIST_IS_FETCHING",isFetchingValue:e}},setIsInterval:function(e,t){return{type:"SN/TASK/SET_IS_INTERVAL",isInterval:e,date:t}},editTaskList:function(e){return{type:"SN/TASK/EDIT_TASK_LIST",task:e}}},ke=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c,r,i,o;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ve.setTaskSaveStatus("inProgress")),n.next=3,Oe(e);case 3:(c=n.sent)&&c.status&&200===c.status?(t&&(r=s(),i=r.task.dateInterval.startDate.format("YYYY-MM-DD"),o=r.task.dateInterval.endDate.format("YYYY-MM-DD"),a(Se(i,o))),a(ve.setTaskSaveStatus("success")),a(ve.setTaskSaveStatus("no"))):c&&c.data&&(a(ve.setErrorMessage(c.data.message)),a(ve.setTaskSaveStatus("error")),a(ve.setTaskSaveStatus("no")),a(ve.setErrorMessage(null)));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Se=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c,r;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ve.setTaskListIsFetching(!0)),c={start_date:e,end_date:t},n.next=4,pe(c);case 4:void 0!==(r=n.sent)&&null!==r&&a(ve.setTaskList(r.data)),a(ve.setTaskListIsFetching(!1));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ye=function(e,t,n){return function(){var a=Object(Z.a)(Q.a.mark((function a(s,c){return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe(e);case 2:null!==a.sent&&(s(ve.setErrorMessage("Task deletion was successful")),s(Se(t,n)),s(ve.setErrorMessage(null)));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Le=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xe(e,t);case 2:c=n.sent,console.log(c),a(ve.editTaskList(c.data[0]));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/TASK/EDIT_TASK_LIST":if(null!==e.taskList){var n=e.taskList.map((function(e){return t.task.id===e.id?t.task:e}));return Object(u.a)(Object(u.a)({},e),{},{taskList:n})}return e;case"SN/TASK/SET_TASK_LIST":return Object(u.a)(Object(u.a)({},e),{},{taskList:t.taskList.Tasks});case"SN/TASK/SET_TASK_SAVE_STATUS":return Object(u.a)(Object(u.a)({},e),{},{taskSaveStatus:t.taskSaveStatus});case"SN/TASK/SET_ERROR_MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{errorMessage:t.message});case"SN/TASK/SET_TASK_LIST_IS_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{taskListIsFetching:t.isFetchingValue});case"SN/TASK/SET_IS_INTERVAL":var a={startDate:t.date.startDate,endDate:t.date.endDate};return Object(u.a)(Object(u.a)({},e),{},{isInterval:t.isInterval,dateInterval:a});default:return e}},Ne=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)(d.f,{locale:N.a,mode:"date",value:e.dateInterval.startDate.toDate(),onChange:function(t){a?e.setIsInterval(a,{startDate:z()(t),endDate:e.dateInterval.endDate}):e.setIsInterval(a,{startDate:z()(t),endDate:z()(t)})},children:Object(s.jsx)(d.j.Item,{className:"w-100",children:a?"Start:":"Date:"})}),a?Object(s.jsx)(d.f,{locale:N.a,mode:"date",value:e.dateInterval.endDate.toDate(),onChange:function(t){e.setIsInterval(a,{startDate:e.dateInterval.startDate,endDate:z()(t)})},children:Object(s.jsx)(d.j.Item,{children:"End:"})}):null,Object(s.jsx)(d.j.Item,{extra:Object(s.jsx)(d.r,{checked:a,onChange:function(t){t?e.setIsInterval(!a,{startDate:e.dateInterval.startDate,endDate:e.dateInterval.endDate}):e.setIsInterval(!a,{startDate:e.dateInterval.startDate,endDate:e.dateInterval.startDate}),r(!a)}}),children:"Date interval"}),e.isReadOnly?null:Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3",onClick:e.showDrawer?e.showDrawer:function(){},type:"primary",children:e.isOpen?"Close":"Add"}),Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3",onClick:e.showModal?e.showModal:function(){},type:"primary",children:"Settings"})]})]})},Te=Object(l.b)((function(e){return{dateInterval:e.task.dateInterval}}),{setIsInterval:ve.setIsInterval})(f.isMobile?Ne:he),we=function(e){var t="readOnly"===e.initialStatus;return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,disabled:t}),Object(s.jsx)(j.a,{component:A,name:"date",type:"date",label:"Task date",validate:m,submitCount:e.submitCount,disabled:t}),Object(s.jsx)(j.a,{component:P,name:"time",type:"time",label:"Task time",validate:m,submitCount:e.submitCount,disabled:t}),Object(s.jsx)(j.a,{component:Y,name:"descriptions",type:"textarea",label:"Descriptions",submitCount:e.submitCount,disabled:t}),Object(s.jsx)(j.a,{component:P,name:"time_to_complete",type:"time",label:"Time to complete",submitCount:e.submitCount}),t?null:Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},De=n(157),Ie=n(646),_e={header:"Create New Task",taskId:!1},Ee=H(),Me={name:"",time:Ee,date:new Date,time_to_complete:Ee,descriptions:""},Ae=function(e){Object(c.useEffect)((function(){null===e.taskList&&e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e]),Object(c.useEffect)((function(){e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e.dateInterval,e.getTaskList]),Object(c.useEffect)((function(){e.isInterval?k(e.viewSettings.ToDo.timeScaleInrerval):k(e.viewSettings.ToDo.timeScaleSingle)}),[e.isInterval,e.viewSettings]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),b=l[0],m=l[1],h=Object(c.useState)(_e),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(c.useState)(e.viewSettings.ToDo.timeScaleSingle),g=Object(o.a)(x,2),v=g[0],k=g[1],S=Object(c.useState)(Me),y=Object(o.a)(S,2),L=y[0],C=y[1],N=function(){a&&(C(Me),f(_e)),r(!a)},T=function(t){var n=Object(u.a)(Object(u.a)({},t),{},{isCompleted:!t.isCompleted});e.updateTask(n,t.id)};return null!==e.taskList?Object(s.jsxs)(d.u,{size:"lg",children:[Object(s.jsx)(d.t,{size:"lg"}),Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.d.Header,{title:Object(s.jsx)(Te,{showDrawer:N,showModal:function(){m(!0)},isOpen:a})}),Object(s.jsx)(ue,{isModalVisible:b,handleOk:function(){m(!1)},handleCancel:function(){m(!1)}}),Object(s.jsx)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(j.c,{initialValues:L,onSubmit:function(t,n){var a=Object(u.a)(Object(u.a)({},t),{},{time:z()(t.time).format("HH:mm:ss"),date:z()(t.date).format("YYYY-MM-DD"),time_to_complete:z()(t.time_to_complete).format("HH:mm:ss"),user_id:e.userId});p.taskId?e.updateTask(a,p.taskId):e.createNewTask(a,!0),n.resetForm(),N()},enableReinitialize:!0,children:we})}),open:a,children:Object(s.jsx)(d.j,{children:v?Object(s.jsx)(Fe,{taskList:e.taskList,dateInterval:e.dateInterval,deleteTask:e.deleteTask,setDrawerData:f,setInitialFormValues:C,showDrawer:N,onComplete:T}):Object(s.jsx)(Pe,{taskList:e.taskList,dateInterval:e.dateInterval,deleteTask:e.deleteTask,setDrawerData:f,setInitialFormValues:C,showDrawer:N,onComplete:T})})})]})]}):Object(s.jsx)(De.a,{})},Re=function(e){return e.isReadOnly?Object(s.jsx)(d.j.Item,{wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-2 ",children:Object(s.jsx)("span",{className:"ml-3",children:e.element.time.split(/:/)[0]+":"+e.element.time.split(/:/)[1]})}),Object(s.jsx)("div",{className:"col-10",children:e.element.isCompleted?Object(s.jsx)("span",{className:"text-break ml-3",style:{textDecoration:e.element.isCompleted?"line-through":""},children:e.element.name}):Object(s.jsx)("span",{className:"text-break ml-3",children:e.element.name})})]},e.element.id.toString())},e.element.id.toString()):Object(s.jsx)(d.q,{style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"Delete",onPress:function(){return e.deleteTask(e.element.id,e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))},style:{backgroundColor:"#F4333C",color:"white"}}],left:[{text:"Edit",onPress:function(){!function(t){e.setDrawerData({header:'Edite "'+t.name+'"',taskId:t.id});var n=H(t.time),a=t.date.split(/-/),s=new Date;s.setFullYear(parseInt(a[0])),s.setMonth(parseInt(a[1])-1),s.setDate(parseInt(a[2])),e.setInitialFormValues({name:t.name,time:n,date:s,time_to_complete:H(t.time_to_complete),descriptions:t.descriptions?t.descriptions:null}),e.showDrawer()}(e.element)},style:{backgroundColor:"#108ee9",color:"white"}},{text:e.element.isCompleted?"Not Done":"Done",onPress:function(){return e.onComplete(e.element)},style:{backgroundColor:"green",color:"white"}}],onOpen:function(){},onClose:function(){},children:Object(s.jsx)(d.j.Item,{wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-2 ",children:Object(s.jsx)("span",{className:"ml-3",children:e.element.time.split(/:/)[0]+":"+e.element.time.split(/:/)[1]})}),Object(s.jsx)("div",{className:"col-10",children:e.element.isCompleted?Object(s.jsx)("span",{className:"text-break ml-3",style:{textDecoration:e.element.isCompleted?"line-through":""},children:e.element.name}):Object(s.jsx)("span",{className:"text-break ml-3",children:e.element.name})})]},e.element.id.toString())},e.element.id.toString())},e.element.id)},Fe=function(e){for(var t=z()(e.dateInterval.startDate),n=[];z()(t.format("YYYY-MM-DD")).isSameOrBefore(z()(e.dateInterval.endDate.format("YYYY-MM-DD")));)n.push(z()(t)),t.add(1,"days");var a=function(t,n){var a=[];return null!==e.taskList&&(a=e.taskList.filter((function(e){return e.date===t&&z()().hours(n).format("HH")===e.time.split(":")[0]})).map((function(t){return Object(s.jsx)(Re,{element:t,dateInterval:e.dateInterval,deleteTask:e.deleteTask?e.deleteTask:function(){},setDrawerData:e.setDrawerData?e.setDrawerData:function(){},setInitialFormValues:e.setInitialFormValues?e.setInitialFormValues:function(){},showDrawer:e.showDrawer?e.showDrawer:function(){},onComplete:e.onComplete?e.onComplete:function(){},isReadOnly:!!e.isReadOnly&&e.isReadOnly},t.id.toString())}))),a},c=function(e){for(var t=[],n=0;n<24;n++)t.push(Object(s.jsxs)("div",{children:[Object(s.jsxs)(Ie.a,{orientation:"left",children:[n<=9?"0":null,n,":00"]},n+"to"+e),a(e,n)]},n+"div"));return t};return Object(s.jsx)(s.Fragment,{children:n.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:e.format("DD MMMM")},e.format("DD MMMM")+"dateHeader"),c(e.format("YYYY-MM-DD"))]},e.format("DD MMMM")+"divBlock")}))})},Pe=function(e){for(var t=z()(e.dateInterval.startDate),n=[];z()(t.format("YYYY-MM-DD")).isSameOrBefore(z()(e.dateInterval.endDate.format("YYYY-MM-DD")));)n.push(z()(t)),t.add(1,"days");return Object(s.jsx)(s.Fragment,{children:n.map((function(t){var n;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.format("DD MMMM")}),null===(n=e.taskList)||void 0===n?void 0:n.map((function(n){return n.date===t.format("YYYY-MM-DD")?Object(s.jsx)(Re,{element:n,dateInterval:e.dateInterval,deleteTask:e.deleteTask?e.deleteTask:function(){},setDrawerData:e.setDrawerData?e.setDrawerData:function(){},showDrawer:e.showDrawer?e.showDrawer:function(){},setInitialFormValues:e.setInitialFormValues?e.setInitialFormValues:function(){},onComplete:e.onComplete?e.onComplete:function(){},isReadOnly:!!e.isReadOnly&&e.isReadOnly},n.id.toString()):null}))]},t.format("DD MMMM"))}))})},Ve=n(661),Ye=n(654),Ue=n(348),ze=n(331),He=n(151),qe=n(156),Be=n(92),Ke=n(649),Je=n(668),We=n(669),Ge=n(667),$e=function(e){switch(e.action){case 2:return Object(s.jsx)(Xe,Object(u.a)({},e));default:return Object(s.jsx)(s.Fragment,{})}},Xe=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=JSON.parse(e.action_data),l="tel:";return i&&(l+=i.phone),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(de.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){r(!0)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Ge.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsxs)(b.a,{title:"Call to "+i.name,visible:a,onOk:function(){r(!1)},onCancel:function(){r(!1)},width:1e3,centered:!0,children:[i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:Object(s.jsxs)("a",{href:l,children:["Call to: ",i.name]})}),Object(s.jsxs)("p",{children:["number: ",i.phone]})]}):null,Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(e){console.log(e)},enableReinitialize:!0,children:Qe})]})]})},Qe=function(e){return Object(s.jsxs)(j.b,{className:"form-container mt-4",onSubmit:e.handleSubmit,children:["Call result:",Object(s.jsx)(j.a,{component:Y,name:"call_description",type:"textarea",label:"",submitCount:e.submitCount}),Object(s.jsxs)("div",{className:"submit-container",children:[Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"}),Object(s.jsx)("button",{className:"ant-btn ant-btn-primary ml-4",type:"submit",children:"Save and complete"})]})]})},Ze=function(e){var t=Object(c.useState)(e.element.isCompleted),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),d=l[0],j=l[1],b=e.element.time_to_complete.split(":"),m=e.element.time.split(":");console.log(m);var h=z()().hours(parseInt(m[0])).minutes(parseInt(m[1]));console.log(e.element.name,": ",h.format("HH:mm"));var O=h.add({hour:parseInt(b[0]),minute:parseInt(b[1])}),p=e.isReadOnly?{disabled:!0}:null;return Object(s.jsx)(Ke.a.Item,{as:"li",action:!0,className:"",children:Object(s.jsxs)(qe.a,{className:"px-0 ml-0 ml-sm-5",children:[Object(s.jsx)(Be.a,{className:"mx-2",children:Object(s.jsx)(y.a,Object(u.a)({onChange:function(t){console.log(e.isReadOnly),r(!a);var n={isCompleted:t.target.checked};e.element.id,e.updateTask(n,e.element.id)},checked:a},p))}),Object(s.jsxs)(Be.a,{className:"mx-2",children:[e.element.time.split(":",2).join(":")," - ",O.format("HH:mm")]}),Object(s.jsx)(Be.a,{className:"mx-2",children:Object(s.jsx)(He.a,{placement:"topLeft",title:e.element.descriptions,children:Object(s.jsx)("span",{style:{textDecoration:a?"line-through":""},children:e.element.name})},e.element.id)}),e.isReadOnly?null:Object(s.jsxs)(Be.a,{className:"mr-auto ml-0 mr-sm-2 ml-sm-auto",children:[Object(s.jsx)($e,Object(u.a)({},e.element)),Object(s.jsx)(de.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){var t;t=e.element,e.onEdit(t)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Je.a,{className:"ml-1",style:{fontSize:"14px"}})})}),d?Object(s.jsx)(ze.a,{size:"small"},"spin"):Object(s.jsx)(de.a,{danger:!0,type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){var t;t=e.element.id,j(!0),e.deleteTask(t,e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(We.a,{className:"ml-1",style:{fontSize:"14px"}})})})]})]})},e.element.id)},et=Object(l.b)((function(e){return{dateInterval:e.task.dateInterval}}),{deleteTask:ye,getTaskList:Se,updateTask:Le})(Ze),tt=function(e){return"date"===e?function(e,t){return e.date>t.date?1:-1}:function(e,t){return e.time>t.time?-1:1}},nt=function(e){var t=Object(c.useState)({startDate:z()(null),endDate:z()()}),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){e.dateInterval.startDate.isSame(a.startDate.format("YYYY-MM-DD"),"day")&&e.dateInterval.endDate.isSame(a.endDate.format("YYYY-MM-DD"),"day")||null!==e.dateInterval.startDate&&(e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD")),r(e.dateInterval))}),[e.dateInterval,e.getTaskList,a]),Object(c.useEffect)((function(){null!==e.errorMessage&&Ue.b.success(e.errorMessage)}),[e.errorMessage]),void 0!==e.taskList?null!==e.taskList?Object(s.jsx)(s.Fragment,{children:at(e.taskList,e.isInterval,e.onEdit,!!e.isReadOnly&&e.isReadOnly)}):Object(s.jsx)(ze.a,{size:"large"},"spin"):Object(s.jsx)("div",{children:"Authorization required to get a list of tasks"})},at=function e(t,n,a,c){var r=[],i=[];t.sort(tt("time")).sort(tt("date"));var o=function(e){return z()(e.date).format("D MMMM")},l=null;null!==t&&t.length>0&&(l=o(t[0]),r.push(Object(s.jsxs)("h5",{className:n?"text-left":"",children:[l,":"]},l)));for(var u=0;u<24;u++){if(!(t.length>0)){r.push(Object(s.jsx)("h3",{children:"no tasks"},"noTasks"+u));break}if(!n&&u>7&&r.push(Object(s.jsxs)(Ie.a,{orientation:"left",children:[u<=9?"0":null,u,":00"]},u+"to"+l)),null!==t)for(var d=0;d<t.length;d++){var j=t[d],b=Number(j.time.split(":",1));b>=u&&b<u+1&&(o(j)===l?r.push(Object(s.jsx)(He.a,{placement:"topLeft",title:j.descriptions,children:Object(s.jsx)(Ke.a,{as:"ul",children:Object(s.jsx)(et,{element:j,onEdit:a,isReadOnly:c},u)},u)},u+"-"+j.id)):i.push(j))}}return i.length>0&&(r=r.concat(e(i,n,a,c))),r},st=Object(l.b)((function(e){return{taskList:e.task.taskList,taskSaveStatus:e.task.taskSaveStatus,taskListIsFetching:e.task.taskListIsFetching,dateInterval:e.task.dateInterval,errorMessage:e.task.errorMessage,isInterval:e.task.isInterval,settings:e.auth.viewSettings}}),{getTaskList:Se})(nt),ct={header:"Create New Task",taskId:!1},rt=z()();rt.hours(0),rt.minutes(0),rt.seconds(0),rt.milliseconds(0);for(var it={name:"",time:rt,date:z()(),descriptions:"",time_to_complete:rt},ot=function(e){Object(c.useEffect)((function(){null===e.taskList&&e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e.taskList,e.getTaskList,e.dateInterval]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),d=l[0],b=l[1],m=Object(c.useState)(ct),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(it),x=Object(o.a)(f,2),g=x[0],v=x[1];Object(c.useEffect)((function(){}),[g]);var k=function(){r(!0)},S=function(){v(it),p(Object(u.a)({},ct)),r(!1)};return Object(s.jsxs)(Ve.a,{title:Object(s.jsx)(Te,{showDrawer:k,showModal:function(){b(!0)}}),bordered:!1,children:[Object(s.jsx)(ue,{isModalVisible:d,handleOk:function(){b(!1)},handleCancel:function(){b(!1)}}),Object(s.jsx)(st,{onEdit:function(e){p({header:'Edite "'+e.name+'"',taskId:e.id});var t=e.time.split(/:/),n=e.time_to_complete.split(/:/);v({name:e.name,time:z()().hours(Number(t[0])).minutes(Number(t[1])).seconds(0),date:z()(e.date),descriptions:e.descriptions?e.descriptions:null,time_to_complete:z()().hours(Number(n[0])).minutes(Number(n[1])).seconds(0)}),k()}}),Object(s.jsx)(Ye.a,{title:O.header,placement:"right",closable:!0,onClose:S,visible:a,width:"90%",children:Object(s.jsx)(j.c,{initialValues:g,onSubmit:function(t,n){console.log(t.time_to_complete.format("HH:mm:ss"));var a=Object(u.a)(Object(u.a)({},t),{},{time:t.time.format("HH:mm:ss"),date:t.date.format("YYYY-MM-DD"),user_id:e.userId,time_to_complete:t.time_to_complete.format("HH:mm:ss")});O.taskId?e.updateTask(a,O.taskId):e.createNewTask(a,!0),n.resetForm(),S()},enableReinitialize:!0,children:we})})]})},lt=Object(l.b)((function(e){var t;return{taskList:e.task.taskList,viewSettings:e.auth.viewSettings,isInterval:e.task.isInterval,dateInterval:e.task.dateInterval,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id}}),{getTaskList:Se,createNewTask:ke,updateTask:Le,deleteTask:ye})(f.isMobile?Ae:ot),ut=n(61),dt=n(63),jt=(n(569),n(570),n(571),n(572),n(113)),bt=n(334),mt={initialized:!1,location:"/"},ht=function(){return{type:"SN/APP/INITIALIZED_SUCCESS"}},Ot=function(e){return{type:"SN/APP/SET_LOCATION",location:e}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALIZED_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});case"SN/APP/SET_LOCATION":return Object(u.a)(Object(u.a)({},e),{},{location:t.location});default:return e}},ft={isModalVisible:!1,codeRowsArray:[],codeType:"model",codeTargetName:""},xt={setShowCodeModal:function(e,t,n,a,s){return{type:"SN/CODE/SET_SHOW_CODE_MODAL",isShow:e,codeType:t,codeRowsArray:n,codeTargetName:a,codeData:s}},setCodeTarget:function(e,t){return{type:"SN/CODE/SET_CODE_TARGET",codeTargetName:e,codeData:t}}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CODE/SET_SHOW_CODE_MODAL":return console.log("SN/CODE/SET_SHOW_CODE_MODAL"),Object(u.a)(Object(u.a)({},e),{},{isModalVisible:t.isShow,codeRowsArray:t.codeRowsArray});case"SN/CODE/SET_CODE_TARGET":return console.log(t.codeTargetName),console.log(t.codeData),Object(u.a)(Object(u.a)({},e),{},{codeTargetName:t.codeTargetName,codeData:t.codeData});default:return e}},vt=function(){return ne(),te.get("project").then((function(e){return console.log("projectAPI.getProjects:",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},kt=function(e){return ne(),te.get("project/"+e).then((function(e){return console.log("projectAPI.getBackendData:",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},St=function(e,t){return ne(),te.put("backend/".concat(t),e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},yt=function(e){return ne(),te.get("models/"+e).then((function(e){return console.log("modelsAPI.getModelsList",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Lt=function(e,t){return console.log(e),console.log("modelId",t),te.put("models/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Ct=function(e){return te.post("models",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Nt=function(e){return ne(),te.get("currentControllers/"+e).then((function(e){return console.log("controllersAPI.getControllersList",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Tt=function(e){return te.post("controllers",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},wt=function(e,t){return console.log(e),console.log("controllerId",t),te.put("controllers/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Dt=function(){return ne(),te.get("controllerMethods").then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},It=function(e){return te.post("controllerMethods",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},_t=function(e,t){return console.log(e),console.log("modelId",t),te.put("controllerMethods/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Et={projectList:[],isProjectLoaded:!1,modelsList:[],controllersList:[],controllerMethodsList:[]},Mt=function(e){return{type:"SN/PROJECT/SET_PROJECT_LIST",projectList:e}},At=function(e){return{type:"SN/PROJECT/SET_IS_LOADED",isLoaded:e}},Rt=function(e,t){return{type:"SN/PROJECT/SET_BACKEND_DATA",backendData:t,projectId:e}},Ft=function(e){return{type:"SN/PROJECT/SET_MODELS_LIST",modelsList:e}},Pt=function(e){return{type:"SN/PROJECT/SET_CONTROLLERS_LIST",controllersList:e}},Vt=function(e){return{type:"SN/PROJECT/SET_CONTROLLER_METHOD_LIST",controllerMethodsList:e}},Yt=function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vt();case 2:void 0!==(a=e.sent)&&null!==a&&(t(At(!0)),t(Mt(a.data.projects)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ut=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(e);case 2:s=t.sent,n(Ft(s.data.models));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},zt=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Tt(e);case 2:s=t.sent,console.log(s),n(Pt(s.data.controllers));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Ht=function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dt();case 2:a=e.sent,t(Vt(a.data.controllerMethods));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},qt=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_t(e,t);case 2:c=n.sent,a(Vt(c.data.controllerMethods));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Bt=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It(e);case 2:s=t.sent,console.log(s),n(Vt(s.data.controllerMethods));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROJECT/SET_CONTROLLER_METHOD_LIST":return Object(u.a)(Object(u.a)({},e),{},{controllerMethodsList:t.controllerMethodsList});case"SN/PROJECT/SET_CONTROLLERS_LIST":return Object(u.a)(Object(u.a)({},e),{},{controllersList:t.controllersList});case"SN/PROJECT/SET_MODELS_LIST":return Object(u.a)(Object(u.a)({},e),{},{modelsList:t.modelsList});case"SN/PROJECT/SET_PROJECT_LIST":return Object(u.a)(Object(u.a)({},e),{},{projectList:t.projectList});case"SN/PROJECT/SET_IS_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isProjectLoaded:t.isLoaded});case"SN/PROJECT/SET_BACKEND_DATA":return Object(u.a)(Object(u.a)({},e),{},{projectList:e.projectList.map((function(e){return t.projectId===e.id?(e.backendData=t.backendData,e):e}))});default:return e}},Jt=function(){return te.get("providers").then((function(e){return console.log("getProvidersList: ",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Wt=function(e){return te.post("providers",e).then((function(e){return console.log("createNewProvider: ",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Gt=function(e,t){return ne(),te.put("providers/".concat(t),e).then((function(e){return console.log("updateProvider",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},$t=function(e){return ne(),te.post("contacts",e).then((function(e){return console.log("createNewProvider: ",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log("createNewProvider ERROR: ",e.response),e.response):(e.request,null)}))},Xt={providersList:[]},Qt=function(e){return{type:"SN/PROVIDER/SET_PROVIDER_LIST",providersList:e}},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROVIDER/SET_PROVIDER_LIST":return Object(u.a)(Object(u.a)({},e),{},{providersList:t.providersList});default:return e}},en=n(60),tn=function(){return ne(),te.get("taskList").then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},nn=function(e){return console.log(e),te.post("taskList",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},an=function(e){return te.delete("taskList/".concat(e)).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},sn=function(e,t){return console.log(e),te.put("taskList/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},cn={taskList:[],taskListIsFetching:!1,isTaskListLoaded:!1,selectedTasks:[]},rn={setTaskList:function(e){return{type:"SN/TASK_LIST/SET_TASK_LIST",taskList:e}},setSelectedTasks:function(e){return{type:"SN/TASK_LIST/SET_SELECTED_TASK",taskId:e}},backSelectedTasks:function(){return{type:"SN/TASK_LIST/BACK_SELECTED_TASK"}}},on=function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tn();case 2:void 0!==(a=e.sent)&&null!==a&&t(rn.setTaskList(a.data.Tasks));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ln=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nn(e);case 2:s=t.sent,n(rn.setTaskList(s.data.Tasks));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},un=function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,an(e);case 2:s=t.sent,n(rn.setTaskList(s.data.Tasks));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},dn=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sn(e,t);case 2:c=n.sent,a(rn.setTaskList(c.data.Tasks));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},jn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/TASK_LIST/BACK_SELECTED_TASK":var n=Object(en.a)(e.selectedTasks);return n.length>0&&n.pop(),Object(u.a)(Object(u.a)({},e),{},{selectedTasks:n});case"SN/TASK_LIST/SET_SELECTED_TASK":return Object(u.a)(Object(u.a)({},e),{},{selectedTasks:[].concat(Object(en.a)(e.selectedTasks),[t.taskId])});case"SN/TASK_LIST/SET_TASK_LIST":return Object(u.a)(Object(u.a)({},e),{},{taskList:t.taskList,isTaskListLoaded:!0});default:return e}},bn=function(){return ne(),te.get("account").then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},mn=function(e,t){return ne(),te.put("account/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},hn={usersList:[],isUsersDataChanged:!1},On={setUsersList:function(e){return{type:"SN/USERS/SET_USERS_LIST",usersList:e}},updateUserList:function(e){return{type:"SN/USERS/UPDATE_USERS_LIST",changedUserData:e}},setUsersDataChanged:function(e){return{type:"SN/USERS/SET_IS_USERS_DATA_CHANGED",isUsersDataChanged:e}}},pn=function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bn();case 2:a=e.sent,t(On.setUsersList(a.data.UsersList));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},fn=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c,r,i;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mn(e,t);case 2:c=n.sent,a(On.updateUserList(c.data.changedUserData)),a(On.setUsersDataChanged(!0)),(r=s()).auth.user&&r.auth.user.id===c.data.changedUserData.id&&(i=c.data.changedUserData,a(ie.setAuthUserData(i,null)));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},xn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/SET_IS_USERS_DATA_CHANGED":return Object(u.a)(Object(u.a)({},e),{},{isUsersDataChanged:t.isUsersDataChanged});case"SN/USERS/UPDATE_USERS_LIST":var n=Object(u.a)({},e),a=n.usersList.map((function(e){return e.id!==t.changedUserData.id?e:t.changedUserData}));return Object(u.a)(Object(u.a)({},e),{},{usersList:a});case"SN/USERS/SET_USERS_LIST":return Object(u.a)(Object(u.a)({},e),{},{usersList:t.usersList});default:return e}},gn=function(e){return ne(),te.get("getVocabularyPart/"+e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},vn=function(e,t){return ne(),te.put("vocabulary/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},kn=function(e,t){return console.log("wordId: ",t),ne(),te.post("checkTestResult/".concat(t),e).then((function(e){return console.log("checkTestResult: ",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log("checkTestResult ERROR: ",e.response),e.response):(e.request,null)}))},Sn=function(){return ne(),te.get("vocabulary").then((function(e){return console.log("getWordsToLern: ",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},yn=function(e){return ne(),te.get("skipWord/"+e).then((function(e){return console.log("getWordsToLern: ",e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Ln={vocabularyList:[],part:1,count:0,toLern:[]},Cn={setVocabularyList:function(e,t,n,a){return{type:"SN/VOCABULARY/SET_VOCABULARY_LIST",vocabularyList:e,part:t,count:n,toLern:a}},setLerningTarget:function(e){return{type:"SN/VOCABULARY/SET_LEARNING_TARGET",learningTarget:e}},setVocabularyList2:function(e){return{type:"SN/VOCABULARY/SET_VOCABULARY_LIST2",vocabularyList:e}},setToLern:function(e){return{type:"VOCABULARY/SET_TO_LERN",toLern:e}},setResults:function(e){return{type:"VOCABULARY/SET_RESULT",result:e}}},Nn=function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vn(e,t);case 2:c=n.sent,console.log(c);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Tn=function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sn();case 2:a=e.sent,t(Cn.setToLern(a.data.toLearn));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},wn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"VOCABULARY/SET_RESULT":return console.log("VOCABULARY/SET_RESULT: ",t.result),Object(u.a)({},e);case"VOCABULARY/SET_TO_LERN":return Object(u.a)(Object(u.a)({},e),{},{toLern:t.toLern});case"SN/VOCABULARY/SET_VOCABULARY_LIST":return Object(u.a)(Object(u.a)({},e),{},{vocabularyList:t.vocabularyList,part:t.part,count:t.count,learningTarget:t.vocabularyList[0]});case"SN/VOCABULARY/SET_LEARNING_TARGET":return Object(u.a)(Object(u.a)({},e),{},{learningTarget:t.learningTarget});case"SN/VOCABULARY/SET_VOCABULARY_LIST2":return Object(u.a)(Object(u.a)({},e),{},{vocabularyList:t.vocabularyList});default:return e}},Dn={contactList:[]},In=function(e){return{type:"SN/CONTACTS/SET_CONTACT_LIST",contactList:e}},_n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CONTACTS/SET_CONTACT_LIST":return Object(u.a)(Object(u.a)({},e),{},{contactList:t.contactList});default:return e}},En=Object(jt.c)({task:Ce,app:pt,auth:le,taskList:jn,users:xn,projects:Kt,code:gt,vocabulary:wn,providors:Zt,contacts:_n}),Mn=Object(jt.e)(En,Object(jt.a)(bt.a)),An=Mn,Rn=n(648),Fn=n(658),Pn=(n(573),d.p.Item),Vn=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.jsx)("div",{className:"mr-3",children:Object(s.jsx)(d.p,{mask:!0,visible:a,overlay:[Object(s.jsx)(Pn,{children:"Logout"},"1"),Object(s.jsx)(Pn,{children:"Info"},"2"),Object(s.jsx)(Pn,{children:"Help"},"3")],onVisibleChange:function(e){r(e)},onSelect:function(t,n){switch(r(!1),t.props.children){case"Logout":e.onLogout()}},children:Object(s.jsx)("div",{style:{height:"100%",padding:"0 15px",marginRight:"-20px",display:"flex",alignItems:"center"},children:Object(s.jsx)(d.h,{type:"ellipsis"})})})})},Yn=function(e){var t,n=Object(ut.g)(),a=Object(ut.h)(),r=Object(c.useState)(!1),i=Object(o.a)(r,2),l=i[0],u=i[1],j=Object(c.useState)(function(){var t=[e.menuData[0].value,""];return e.menuData.forEach((function(e){e.children&&e.children.forEach((function(n){n.value===a.pathname&&(t=[e.value,n.value])}))})),t}()),b=Object(o.a)(j,2),m=b[0],h=b[1],O=function(t){if(t){var a=t[0];e.menuData.forEach((function(e){e.value===t[0]&&(a=t[0],e.children&&t[1]&&e.children.forEach((function(e){e.value===t[1]&&(n.replace("".concat(e.value)),u(!1))})))})),""===a&&(a=e.menuData[0].value),h([a,t[1]])}},p=Object(s.jsx)(d.l,{className:"foo-menu",data:e.menuData,value:m,onChange:O,height:.6*document.documentElement.clientHeight}),f=Object(s.jsx)("div",{style:{width:"100%",height:.6*document.documentElement.clientHeight,display:"flex",justifyContent:"center"},children:Object(s.jsx)(d.b,{size:"large"})});return Object(s.jsxs)("div",{className:l?"menu-active":"",children:[Object(s.jsx)("div",{children:Object(s.jsx)(d.m,{leftContent:"",mode:"light",icon:Object(s.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/iXVHARNNlmdCGnwWxQPH.svg",className:"am-icon am-icon-md",alt:""}),onLeftClick:function(e){e.preventDefault(),u(!l)},className:"top-nav-bar",rightContent:e.isAuth?Object(s.jsx)(Vn,{onLogout:function(){O(["",""]),n.replace(e.appLocation+"login"),e.logout()}}):null,children:e.isAuth?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:null===(t=e.user)||void 0===t?void 0:t.name})}):Object(s.jsx)(dt.b,{to:e.appLocation+"login",onClick:function(){O(["",""])},children:Object(s.jsx)("span",{className:"text-white",children:"Login"})})})}),l?e.menuData?p:f:null,l?Object(s.jsx)("div",{className:"menu-mask",onClick:function(){u(!1)}}):null]})},Un=n(657),zn=Un.a.SubMenu,Hn=function(e){var t,n,a=Object(ut.g)();return Object(s.jsxs)(Un.a,{onClick:function(){},mode:"horizontal",theme:"dark",children:[e.menuData.map((function(e){return Object(s.jsx)(zn,{title:e.label,children:e.children?(t=e.children,t.map((function(e){var t=e.disabled?{disabled:!0}:null;return Object(s.jsx)(Un.a.Item,Object(u.a)(Object(u.a)({},t),{},{children:Object(s.jsx)(dt.b,{to:e.value,children:e.label})}),e.value)}))):null},e.value);var t})),e.isAuth?Object(s.jsxs)(zn,{title:null===(n=e.user)||void 0===n?void 0:n.name,children:[Object(s.jsx)(Un.a.Item,{onClick:function(){a.replace(e.appLocation+"login"),e.logout()},children:"Logout"},"login"),Object(s.jsx)(Un.a.Item,{onClick:function(){},children:"Info"},"info"),Object(s.jsx)(Un.a.Item,{onClick:function(){},children:"Help"},"help")]},null===(t=e.user)||void 0===t?void 0:t.name):Object(s.jsx)(Un.a.Item,{children:Object(s.jsx)(dt.b,{to:e.appLocation+"login",children:"Login"})},"login")]})},qn=Object(l.b)((function(e){return{appLocation:e.app.location,isAuth:e.auth.isAuth,user:e.auth.user}}),{logout:ie.logout})(f.isMobile?Yn:Hn),Bn=function(e){var t=e.user?e.user.status:null;return Object(s.jsx)(qn,{menuData:Kn(e.appLocation,t)})},Kn=function(e,t){var n=[{value:"planning",label:"Planning",children:[{label:"ToDo list",value:e+"toDoList",disabled:!1},{label:"Tasks tree",value:e+"tasksTree"},{label:"Analysis",value:e+"analysis",disabled:!0},{label:"Daily schedule",value:e+"schedule",disabled:!1}]},{value:"catalog",label:"Catalog",children:[{label:"Products",value:e+"products"},{label:"Providers",value:e+"providers"}]},{value:"orders",label:"Orders",children:[{label:"Orders",value:e+"orders"},{label:"Leads",value:e+"leads"}]},{value:"english",label:"English",children:[{label:"Vocabulary",value:e+"vocabulary"},{label:"Grammer",value:e+"grammer"}]}];return"admin"!==t&&"superAdmin"!==t||(n.push({value:"admin",label:"Admin",children:[{label:"Users",value:e+"users"}]}),n.push({value:"development",label:"Development",children:[{label:"Projects",value:e+"projects"}]})),n},Jn=Object(l.b)((function(e){return{appLocation:e.app.location,user:e.auth.user}}),{logout:ie.logout})(Bn),Wn=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"email",type:"email",label:"Email",validate:h,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:F,name:"password",type:"password",label:"Password",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:V,name:"remember",label:"Remember Me",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Login"})})]})},Gn=function(e){Object(c.useEffect)((function(){e.authError&&Ue.b.error(e.authError)}),[e.authError]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-5 mx-auto",children:"Login Form"}),Object(s.jsx)(j.c,{initialValues:{email:"",password:"",remember:!1},onSubmit:function(t){e.login(t)},children:Wn}),Object(s.jsx)("div",{className:"mt-3",children:Object(s.jsx)(dt.b,{to:e.location+"register",children:Object(s.jsx)(de.a,{type:"link",block:!0,children:"Register"})})})]})},$n=Object(l.b)((function(e){return{auth:e.auth,location:e.app.location,authError:e.auth.authError}}),{login:oe})(Gn),Xn=function(e){return Object(s.jsx)("div",{children:"Orders"})},Qn=Object(l.b)((function(e){return{appLocation:e.app.location}}),{})(Xn),Zn=n(663),ea=function(e){Object(c.useEffect)((function(){e.isBackendNew||e.isProjectListLoaded||e.getProjectList()}),[e,e.isBackendNew,e.isProjectListLoaded]),Object(c.useEffect)((function(){e.projectList&&e.projectList.length>0&&r(e.projectList.map((function(e){return{name:e.name,value:e.name}})))}),[e.projectList]);var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],r=n[1];return e.isBackendNew?Object(s.jsx)(j.a,{component:M,selectOptions:[{name:"Laravel",value:"laravel"},{name:"Other",value:"other"}],name:"backendType",type:"select",label:"Backend type",onSelect:e.onSelectBackEndType,submitCount:e.submitCount}):Object(s.jsxs)(s.Fragment,{children:["get old projects",Object(s.jsx)(j.a,{component:M,selectOptions:a,name:"backend_project",type:"select",label:"Choise backend project",onSelect:e.onSelectBackEndType,submitCount:e.submitCount})]})},ta=Object(l.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Yt})(ea),na=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),u=l[0],d=l[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),O=h[0],p=h[1],f=function(e){r(e.target.checked)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Project Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:V,name:"isHasBackEnd",type:"checkbox",label:"BackEnd",submitCount:e.submitCount,onClick:function(e){d(e.target.checked)}}),u?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:"backend initial options:"}),Object(s.jsx)("br",{}),Object(s.jsx)(j.a,{component:V,type:"checkbox",name:"isBackendNew",label:"New Backend",submitCount:e.submitCount,onClick:function(e){p(e.target.checked)}}),Object(s.jsx)(ta,{isBackendNew:O,onSelectBackEndType:function(e){},submitCount:e.submitCount})]}):null,Object(s.jsx)(j.a,{component:V,name:"isHasFrontEnd",type:"checkbox",label:"FrontEnd",submitCount:e.submitCount,onClick:f,onSelect:f}),a?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:"Frontend initial options:"}),Object(s.jsx)("br",{}),Object(s.jsx)(j.a,{component:V,name:"isCRA",label:"Create React App",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isTS",label:"Type Script",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isMenu",label:"Menu",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isRouter",label:"Router",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isLogin",label:"Login/ Register",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isBAM",label:Object(s.jsx)(He.a,{title:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u0438 \u0411\u042d\u041c \u0434\u0432\u0430\u043e\u043c\u0442\u0432\u0449\u043a\u043c\u0442\u0443\u0449\u043c\u0448\u0441\u0432\u043a\u0443\u043c\u0437\u043a\u0443\u043c\u0437 \u043a\u0443\u0446\u043c\u0437\u043a\u0446\u043c\u043e\u0437\u0443\u0449\u043a\u043c\u0437\u0449\u043a \u0437\u0449\u0441\u043e\u0443\u0446\u0448\u0440 \u0441\u0449\u0440\u0443\u043c\u0449\u043a\u0443\u0446\u043c\u0440\u0449\u043a\u043c\u0443 \u0446\u0440\u0448\u0443\u0446\u0449\u043c\u0448\u0440\u0446\u0449\u043a\u0443\u0448\u043c\u0449\u043c\u043a\u0448\u0446\u0449\u0448 \u0448\u043e\u043c\u0437\u0443\u0449\u0446\u043a\u043e\u043c\u0437\u043a\u0443\u043c\u043e \u0437\u0449\u0443\u043c\u043e\u0437\u04493\u0443\u043e\u043c"}),Object(s.jsx)("p",{children:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0430\u0431\u0437\u0430\u0446"})]}),children:Object(s.jsx)("span",{children:"\u0411\u042d\u041c"})}),submitCount:e.submitCount})]}):null]})},aa=function(e){Object(c.useEffect)((function(){e.isProjectListLoaded||e.getProjectList()}),[e.isProjectListLoaded,e]),Object(c.useEffect)((function(){e.projectList&&e.projectList.length>0&&r(e.projectList.map((function(e){return{name:e.name,value:e.id.toString()}})))}),[e.projectList]);var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.jsx)(j.a,{component:M,selectOptions:a,name:"project_name",type:"select",label:"Choise backend project",onSelect:function(t){console.log("project id: ",t),console.log(e.projectList.filter((function(e){return e.id===Number(t)}))[0])},submitCount:e.submitCount})},sa=Object(l.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Yt})(aa),ca=function(e){var t=Object(c.useState)(0),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:M,selectOptions:[{name:"Old",value:1},{name:"New",value:2},{name:"Load From SRC",value:3}],name:"isNewType",type:"select",label:"\u0412\u0438\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",submitCount:e.submitCount,validate:m,onSelect:function(e){console.log("onSelect"),r(Number(e))}}),1===a?Object(s.jsx)(sa,{submitCount:e.submitCount}):null,2===a?Object(s.jsx)(na,Object(u.a)({},e)):null,3===a?Object(s.jsx)("div",{children:"load"}):null]})},ra=function(e){var t=e.values,n=t.selectOptions,a=t.taskTypes,r=Object(c.useState)(t.taskType),i=Object(o.a)(r,2),l=i[0],u=i[1];Object(c.useEffect)((function(){var t=e.values.task_type;Array.isArray(t)?u(t[0]):u(t)}),[e.values]);return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[3!==l?Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}):null,Object(s.jsx)(j.a,{component:M,selectOptions:n,name:"parent_id",type:"select",label:"Parent",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:Y,name:"descriptions",type:"textarea",label:"Descriptions",submitCount:e.submitCount}),3!==l?Object(s.jsx)(j.a,{component:P,name:"time_to_complete",type:"time",label:"Time to complete",submitCount:e.submitCount}):null,Object(s.jsx)(j.a,{component:M,selectOptions:a,name:"task_type",type:"select",label:"task Types",onSelect:function(e){},submitCount:e.submitCount}),2===l?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:R,name:"phone_number",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"lead_name",type:"text",label:"\u0418\u043c\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430",validate:m,submitCount:e.submitCount,hasFeedback:!0})]}):null,3===l?Object(s.jsx)(ca,{}):null,Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},ia=n(662),oa=n(670),la=n(671),ua=ia.a.Panel,da=function(e){return null===e.item.parent_id?Object(s.jsx)(ba,{item:e.item,taskList:e.taskList,onAddSubtask:function(t){console.log(t),e.setInitialFormValues(Object(u.a)(Object(u.a)({},e.initialValues),{},{parent_id:t})),e.setDrawerData({header:"add subtask",taskId:!1}),e.showDrawer()},onEdit:function(t){console.log(t),e.setDrawerData({header:'Edit: "'+t.name+'"',taskId:t.id});var n=z()().zone("GMT");if(null!==t.time_to_complete){var a=t.time_to_complete.split(/:/);n.hours(parseInt(a[0])).minutes(parseInt(a[1])).seconds(0).milliseconds(0)}else n.hours(0).minutes(0).seconds(0).milliseconds(0);var s=Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:t.name,time_to_complete:n,descriptions:t.descriptions?t.descriptions:void 0,parent_id:t.parent_id?t.parent_id:void 0,task_type:Number(t.task_type)});t.data&&(s=Object(u.a)(Object(u.a)({},s),JSON.parse(t.data))),console.log(s),e.setInitialFormValues(s),e.showDrawer()},deleteTask:function(t){e.deleteTaskList(t)},onStatusChange:function(t){var n={isCompleted:t.target.checked};e.updateTaskList(n,Number.parseInt(t.target.id))},onRunTask:e.onRunTask},String(e.item.id)):null},ja=function(e){return Object(s.jsx)(Zn.b,{size:"small",bordered:!0,dataSource:e.childsTasklList,renderItem:function(t){return Object(s.jsx)(ba,{item:t,taskList:e.taskList,onAddSubtask:e.onAddSubtask,onEdit:e.onEdit,deleteTask:e.deleteTask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask},t.id.toString())}})},ba=function(e){return 0===Oa(e.taskList,e.item).length?Object(s.jsx)(ma,{item:e.item,onEdit:e.onEdit,deleteTask:e.deleteTask,onAddSubtask:e.onAddSubtask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask}):Object(s.jsx)(Zn.b.Item,{className:"p-0",draggable:!0,children:Object(s.jsx)(ia.a,{className:"w-100",defaultActiveKey:[],collapsible:"header",ghost:!0,children:Object(s.jsx)(ua,{header:Object(s.jsx)("span",{className:"float-left pl-2",children:e.item.name},String(e.item.id)),extra:Object(s.jsx)(ha,Object(u.a)({},e)),children:Object(s.jsx)(ja,{childsTasklList:Oa(e.taskList,e.item),taskList:e.taskList,onEdit:e.onEdit,deleteTask:e.deleteTask,onAddSubtask:e.onAddSubtask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask})},e.item.id+"Panel")},String(e.item.id))},e.item.id)},ma=function(e){return Object(s.jsx)(Zn.b.Item,{className:"py-0",draggable:!0,children:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"py-2 pl-3",children:Object(s.jsx)(y.a,{checked:e.item.isCompleted,id:e.item.id.toString(),onClick:e.onStatusChange})}),Object(s.jsxs)("div",{className:"w-100 float-left",children:[Object(s.jsx)("div",{className:"ml-3 float-left",children:e.item.isCompleted?Object(s.jsx)("span",{className:"text-black-50",children:e.item.name}):Object(s.jsx)("span",{"data-toggle":"collapse","aria-controls":e.item.id+"collapseExample",children:e.item.name})}),Object(s.jsx)("div",{className:"ml-3 float-right",children:e.item.time_to_complete})]},String(e.item.id)),Object(s.jsx)("div",{className:"pr-3",children:Object(s.jsx)(ha,Object(u.a)({},e))})]})},String(e.item.id))},ha=function(e){return Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Number(e.item.task_type)>1?Object(s.jsx)(de.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onRunTask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(oa.a,{className:"ml-1",style:{fontSize:"14px"}})})}):null,Object(s.jsx)(de.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onAddSubtask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(la.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsx)(de.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onEdit(e.item)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Je.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsx)(de.a,{className:"",type:"primary",danger:!0,shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.deleteTask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(We.a,{className:"ml-1",style:{fontSize:"14px"}})})})]})},Oa=function(e,t){for(var n=[],a=0;a<e.length;a++){var s=e[a];s.parent_id===t.id&&n.push(s)}return n},pa=Object(l.b)((function(e){var t;return{taskList:e.taskList.taskList,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,isTaskListLoaded:e.taskList.isTaskListLoaded,selectedTasks:e.taskList.selectedTasks}}),{getTaskList:on,createNewTaskList:ln,deleteTaskList:un,updateTaskList:dn})(da),fa=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"date",type:"date",label:"Select Date",validate:m,submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"time",type:"time",label:"Select time",validate:m,submitCount:e.submitCount}),Object(s.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ml-2",children:"Add now"}),Object(s.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ml-2",children:"Auto add by context"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},xa=function(e){switch(console.log(Number(e.task_type)),Number(e.task_type)){case 2:return{lead_name:e.lead_name,phone_number:e.phone_number};default:return null}},ga={header:"Create New Task",taskId:!1},va=function(e){return{selectOptions:ka(e),taskTypes:Ea,task_type:1,name:""}},ka=function(e){return void 0!==e&&e.length>0?e.map((function(e){return{name:e.name,value:e.id}})):[]},Sa=function(e){Object(c.useEffect)((function(){var t=function(){return e.getTaskList};void 0===e.taskList||0!==e.taskList.length||e.isTaskListLoaded?void 0===e.taskList&&t()():t()(),r(!1),f(va(e.taskList))}),[e.taskList,e.getTaskList,e.isTaskListLoaded]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(ga),l=Object(o.a)(i,2),d=l[0],m=l[1],h=Object(c.useState)(va(e.taskList)),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(c.useState)(!1),g=Object(o.a)(x,2),v=g[0],k=g[1],S=Object(c.useState)(null),y=Object(o.a)(S,2),L=y[0],C=y[1],N=function(t){k(!0),C(e.taskList.filter((function(e){return e.id===t}))[0])},T=function(){r(!0)};return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(s.jsxs)(Ve.a,{title:Object(s.jsx)("div",{className:"inline",children:Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:"Tasks Tree"})})}),extra:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(de.a,{type:"primary",shape:"round",icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(je.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Add"})]}),style:{marginLeft:10},onClick:function(){m(ga),T()}}),Object(s.jsx)(de.a,{className:"",type:"primary",shape:"round",style:{marginLeft:10},icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(be.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Settings"})]})})]}),bordered:!1,children:[Object(s.jsx)(Zn.b,{size:"small",bordered:!0,dataSource:e.taskList,renderItem:function(t){return Object(s.jsx)(pa,{item:t,showDrawer:T,setDrawerData:m,initialFormValues:p,setInitialFormValues:f,initialValues:va(e.taskList),onRunTask:N})}}),Object(s.jsx)(Ye.a,{title:d.header,placement:"right",closable:!0,onClose:function(){f(va(e.taskList)),r(!1)},visible:a,width:"90%",children:Object(s.jsx)(j.c,{initialValues:p,onSubmit:function(t){var n=xa(t);console.log(t);var a={name:t.name,task_type:t.task_type.toString(),user_id:e.userId,time_to_complete:t.time_to_complete?t.time_to_complete.format("HH:mm:ss"):void 0,descriptions:t.descriptions,parent_id:t.parent_id?t.parent_id:void 0};n&&(a=Object(u.a)(Object(u.a)({},a),{},{data:n})),d.taskId?e.updateTaskList(a,d.taskId):e.createNewTaskList(a)},enableReinitialize:!0,children:ra})}),Object(s.jsx)(b.a,{title:"Run Task",visible:v,onOk:function(){k(!1)},onCancel:function(){k(!1)},okText:"Ok",cancelText:"Cancel",children:Object(s.jsx)(j.c,{initialValues:{date:z()(),time:z()(),time_to_complete:z()(),action:2},onSubmit:function(t){if(null!==L&&null!==L.data&&e.userId){var n=JSON.parse(L.data),a={name:"Call to "+n.lead_name,description:n.phone_number,date:t.date.format("YYYY-MM-DD"),time:t.time.format("HH:mm:00"),time_to_complete:t.time_to_complete.format("HH:mm:00"),user_id:e.userId,action:Number(L.task_type),action_data:{phone:n.phone_number,name:n.lead_name}};console.log(a),e.createNewToDo(a,!0)}},enableReinitialize:!0,children:fa})})]})})})},ya=(n(585),d.j.Item),La=H(),Ca=function(e){var t=Object(l.c)();return Object(s.jsx)(d.q,{style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"SubTask",onPress:function(){e.setDrawerData({header:'SubTask for: "'+e.taskItem.name+'"',taskId:!1}),e.setInitialFormValues(Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:"",time_to_complete:La,descriptions:"",parent_id:Number(e.taskItem.id),task_type:[0]})),e.showDrawer()},style:{backgroundColor:"green",color:"white"}},{text:"Delete",onPress:function(){return e.deleteTaskList(e.taskItem.id)},style:{backgroundColor:"#F4333C",color:"white"}}],left:[{text:"Edit",onPress:function(){!function(t){e.setDrawerData({header:'Edit: "'+t.name+'"',taskId:t.id});var n=H(t.time_to_complete),a=Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:t.name,time_to_complete:n,descriptions:t.descriptions?t.descriptions:void 0,parent_id:t.parent_id?t.parent_id:void 0,task_type:[Number(t.task_type)]});t.data&&(a=Object(u.a)(Object(u.a)({},a),JSON.parse(t.data))),console.log(a),e.setInitialFormValues(a),e.showDrawer()}(e.taskItem)},style:{backgroundColor:"#108ee9",color:"white"}},{text:e.taskItem.isCompleted?"Not Done":"Done",onPress:function(){return function(){var t={isCompleted:!e.taskItem.isCompleted};e.updateTaskList(t,e.taskItem.id)}()},style:{backgroundColor:"green",color:"white"}},{text:"Run",onPress:function(){return e.onRunTask(e.taskItem.id)},style:{backgroundColor:"#F4333C",color:"white"}}],children:Object(s.jsx)(ya,{onClick:function(){t(rn.setSelectedTasks(e.taskItem.id)),e.setDrawerData({header:e.taskItem.name,taskId:e.taskItem.id})},wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-10",children:e.taskItem.isCompleted?Object(s.jsx)("span",{className:"text-black-50 text-break",children:e.taskItem.name}):Object(s.jsx)("span",{className:"text-break",children:e.taskItem.name})}),Object(s.jsx)("div",{className:"col-2",children:e.taskItem.time_to_complete?e.taskItem.time_to_complete.split(/:/)[0]+":"+e.taskItem.time_to_complete.split(/:/)[1]:null})]},e.taskItem.id)},e.taskItem.id)})},Na={header:"Tasks Tree",taskId:!1},Ta=function(e){return{selectOptions:Da(e),taskTypes:Ea,task_type:[1],time_to_complete:wa}},wa=H(),Da=function(e){return void 0!==e&&e.length>0?e.map((function(e){return{name:e.name,value:e.id}})):[]},Ia=function(e){Object(c.useEffect)((function(){var t=function(){return e.getTaskList};(e.taskList&&0===e.taskList.length&&!e.isTaskListLoaded||void 0===e.taskList)&&t()(),r(!1),m(Ta(e.taskList))}),[e.taskList,e.getTaskList,e.isTaskListLoaded]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(Ta(e.taskList)),l=Object(o.a)(i,2),b=l[0],m=l[1],h=Object(c.useState)(Na),O=Object(o.a)(h,2),p=O[0],f=O[1],x=function(){0!==e.selectedTasks.length?(console.log(e.taskList.filter((function(t){return t.id===Number(e.selectedTasks[e.selectedTasks.length-1])}))[0].name),f({header:e.taskList.filter((function(t){return t.id===Number(e.selectedTasks[e.selectedTasks.length-1])}))[0].name,taskId:!1}),m(Object(u.a)(Object(u.a)({},Ta(e.taskList)),{},{parent_id:Number(e.selectedTasks[e.selectedTasks.length-1])}))):(f({header:"Task Tree",taskId:!1}),m(Object(u.a)(Object(u.a)({},Ta(e.taskList)),{},{parent_id:b.parent_id}))),r(!a)},g=function(){r(!0)},v=function(e){console.log(e)};return Object(s.jsxs)(d.u,{size:"lg",children:[Object(s.jsx)(d.t,{size:"lg"}),Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.d.Header,{title:"Tasks Tree"===p.header?Object(s.jsx)("h5",{className:"w-100 text-center",children:p.header}):Object(s.jsx)("h5",{children:p.header}),extra:Object(s.jsxs)("div",{className:"d-flex flex-row",children:[e.selectedTasks.length>0&&!a?Object(s.jsx)(d.c,{inline:!0,size:"small",className:"mx-3 my-2",onClick:function(){if(e.selectedTasks.length>1){var t=e.selectedTasks[e.selectedTasks.length-2],n=e.taskList.filter((function(e){return e.id===t}))[0].name;f({header:n,taskId:t})}else f({header:"Task Tree",taskId:!1});e.backSelectedTasks()},type:"primary",children:"Back"}):null,Object(s.jsx)(d.c,{inline:!0,size:"small",className:"mx-3 my-2",onClick:x,type:"primary",children:a?"Close":"Add"})]})}),Object(s.jsx)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(j.c,{initialValues:b,onSubmit:function(t){console.log(t);var n=xa(Object(u.a)(Object(u.a)({},t),{},{task_type:Number(t.task_type)}));console.log(n);var a={name:t.name,task_type:t.task_type.toString(),descriptions:t.descriptions,user_id:e.userId,parent_id:t.parent_id?t.parent_id:void 0,time_to_complete:t.time_to_complete?t.time_to_complete.toTimeString().split(" ")[0]:void 0};n&&(a=Object(u.a)(Object(u.a)({},a),{},{data:n})),p.taskId?e.updateTaskList(a,p.taskId):e.createNewTaskList(a)},enableReinitialize:!0,children:ra})}),open:a,onOpenChange:x,children:Object(s.jsx)(d.j,{children:void 0!==e.taskList?e.taskList.map((function(t){var n;return 0!==e.selectedTasks.length?(n=e.selectedTasks[e.selectedTasks.length-1],t.parent_id===n?Object(s.jsx)(Ca,{taskItem:t,deleteTaskList:e.deleteTaskList,showDrawer:g,setDrawerData:f,initialFormValues:b,setInitialFormValues:m,updateTaskList:e.updateTaskList,onRunTask:v},t.id.toString()):null):null===t.parent_id?Object(s.jsx)(Ca,{taskItem:t,deleteTaskList:e.deleteTaskList,showDrawer:g,setDrawerData:f,initialFormValues:b,setInitialFormValues:m,updateTaskList:e.updateTaskList,onRunTask:v},t.id.toString()):null})):null})})]})]})},_a=Object(l.b)((function(e){var t;return{taskList:e.taskList.taskList,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,isTaskListLoaded:e.taskList.isTaskListLoaded,selectedTasks:e.taskList.selectedTasks}}),{getTaskList:on,createNewTaskList:ln,deleteTaskList:un,updateTaskList:dn,backSelectedTasks:rn.backSelectedTasks,createNewToDo:ke})(f.isMobile?Ia:Sa),Ea=[{name:"\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",value:1,isSubform:!1,childTypes:[]},{name:"\u0417\u0432\u043e\u043d\u043e\u043a",value:2,isSubform:!0,childTypes:[{label:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",value:null,name:"phone_number",component:"AntInput",type:"text",validate:"validateRequired",hasFeedback:!0,isSubform:!1},{label:"\u0418\u043c\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430",value:null,name:"lead_name",component:"AntInput",type:"text",validate:"validateRequired",hasFeedback:!0,isSubform:!1}]},{name:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",value:3,isSubform:!0,childTypes:[]}],Ma=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"email",type:"email",label:"Email",validate:h,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:F,name:"password",type:"password",label:"Password",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:F,name:"c_password",type:"password",label:"Confirm",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:V,name:"remember",label:"Remember Me",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:M,selectOptions:Aa,name:"status",type:"select",label:"User Status",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Register"})})]})},Aa=[{name:"Guest",value:"guest",isSubform:!1},{name:"Admin",value:"admin",isSubform:!1}],Ra={email:"",password:"",name:"",remember:!1},Fa=function(e){var t=Object(ut.g)();Object(c.useEffect)((function(){e.isAuth&&t.replace(e.appLocation+"toDoList")}),[e.isAuth,t,e.appLocation]),Object(c.useEffect)((function(){e.authError&&Ue.b.error(e.authError)}),[e.authError]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-5 mx-auto",children:"Register Form"}),Object(s.jsx)(j.c,{initialValues:Ra,onSubmit:function(t){e.register(t)},children:Ma})]})},Pa=Object(l.b)((function(e){return{isAuth:e.auth.isAuth,appLocation:e.app.location,authError:e.auth.authError}}),{register:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s,c,r,i,o;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e);case 2:if(200===(s=t.sent).status)c={email:e.email,password:e.password,remember:!!e.remember&&e.remember},n(oe(c));else{for(i in r="",s.data)Object.prototype.hasOwnProperty.call(s.data,i)&&(o=s.data[i],r=r+i+": "+o[0]+";");n(ie.setAuthError(r))}case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Fa),Va=function(e){Object(c.useEffect)((function(){0===e.usersList.length&&e.getUsersList()}),[e.usersList,e]);var t=Object(ut.i)().url;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Users"}),Object(s.jsx)(Ke.a,{as:"ul",children:e.usersList.map((function(n){return Object(s.jsx)(Ke.a.Item,{as:"li",action:!0,className:"",children:Object(s.jsxs)(qe.a,{className:"px-0 ml-0 ml-sm-5",children:[Object(s.jsx)(Be.a,{className:"mx-2",children:n.id}),Object(s.jsx)(Be.a,{className:"mx-2",children:Object(s.jsx)(dt.b,{to:t+"/"+n.id,children:n.name})}),"superAdmin"===e.UserStatus?Object(s.jsx)(Be.a,{className:"mr-auto ml-0 mr-sm-2 ml-sm-auto",children:Object(s.jsx)(de.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(oa.a,{className:"ml-1",style:{fontSize:"14px"}})})})}):null]})},n.id)}))})]})},Ya=d.j.Item,Ua=function(e){Object(c.useEffect)((function(){0===e.usersList.length&&e.getUsersList()}),[e.usersList,e]);var t=Object(ut.i)().url;return Object(s.jsx)("div",{children:Object(s.jsx)(d.j,{renderHeader:function(){return"Users:"},className:"my-list",children:e.usersList.map((function(e){return Object(s.jsx)(Ya,{onClick:function(){console.log("onClick")},children:Object(s.jsx)(dt.b,{to:t+"/"+e.id,children:e.name})},e.id.toString())}))})})},za=n(338),Ha=Object(za.a)((function(e){return e.users.usersList}),(function(e){return e})),qa=Object(l.b)((function(e){var t;return{usersList:Ha(e),UserStatus:null===(t=e.auth.user)||void 0===t?void 0:t.status}}),{getUsersList:pn})(f.isMobile?Ua:Va),Ba=n(347),Ka=function(e){var t={id:e.userData.id,created_at:e.userData.created_at,updated_at:e.userData.updated_at,name:e.userData.name,email:e.userData.email,phone:e.userData.phone,status:e.userData.status};return Object(s.jsx)("div",{children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t,n){delete t.created_at,delete t.updated_at,e.updateUser(t,e.userData.id)},enableReinitialize:!0,children:Ja})})},Ja=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=function(){r(!0)};return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"id",type:"text",label:"ID",disabled:!0}),Object(s.jsx)(j.a,{component:R,name:"created_at",type:"text",label:"Created at",disabled:!0}),Object(s.jsx)(j.a,{component:R,name:"updated_at",type:"text",label:"Updated at",disabled:!0}),Object(s.jsx)(j.a,{component:R,name:"email",type:"text",label:"Email",disabled:!0}),Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,onChange:i,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"phone",type:"text",label:"Phone number",validate:O,onChange:i,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:M,selectOptions:[{name:"Guest",value:"guest"},{name:"Admin",value:"admin"},{name:"Super Admin",value:"superAdmin"}],name:"status",type:"select",label:"Status",validate:m,onChange:i,submitCount:e.submitCount}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary mb-4",type:"submit",children:"Save"})}):null]})},Wa=ia.a.Panel,Ga=function(e,t){return e.filter((function(e){return e.id.toString()===t}))[0]},$a=function(e,t,n){var a=[];if(e)for(var s=(t-1)*n,c=s+n,r=0;r<e.length;r++){var i=e[r];r>=s&&r<c&&a.push(i)}return a},Xa=function(e){Object(c.useEffect)((function(){var t=function(){return e.getUsersList};0===e.usersList.length&&t()(),e.isUsersDataChanged&&(t()(),e.setUsersDataChanged(!1))}),[e.usersList,e.getUsersList,e.isUsersDataChanged,e.setUsersDataChanged]);var t,n=Object(c.useState)(10),a=Object(o.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(1),u=Object(o.a)(l,2),d=u[0],b=u[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(it),x=Object(o.a)(f,2),g=x[0],v=x[1],k=Object(c.useState)(null),S=Object(o.a)(k,2),y=S[0],L=S[1],C=Object(c.useState)(!1),N=Object(o.a)(C,2),T=N[0],w=N[1],D=Ga(e.usersList,e.match.params.userId),I=Object(c.useState)({startDate:z()(),endDate:z()()}),_=Object(o.a)(I,2),E=_[0],M=_[1];return D?Object(s.jsxs)("div",{className:"mt-2",children:[Object(s.jsxs)("h5",{children:["Name: ",D.name]}),Object(s.jsxs)("p",{children:["User id: ",e.match.params.userId]}),Object(s.jsxs)(ia.a,{defaultActiveKey:[],onChange:function(){},children:[Object(s.jsx)(Wa,{header:"User data",children:Object(s.jsx)(Ka,{userData:D,updateUser:e.updateUser})},"1"),Object(s.jsxs)(Wa,{header:"ToDo List",children:[Object(s.jsx)(Zn.b,{children:D.toDoList?$a(D.toDoList,d,r).map((function(e){return Object(s.jsx)(Qa,{item:e,setToDoFormVisible:p,setInitialFormValues:v},e.id.toString())})):null}),Object(s.jsx)(Ba.a,{total:null===(t=D.toDoList)||void 0===t?void 0:t.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},defaultPageSize:10,defaultCurrent:1,onChange:function(e){b(e)},onShowSizeChange:function(e,t){i(t)}})]},"2"),Object(s.jsxs)(Wa,{header:"Schedule",children:[Object(s.jsxs)("h3",{children:["Schedule for ",D.name,":"]}),Object(s.jsx)(he,{dateInterval:E,setIsInterval:function(e,t){console.log("setIsIntervalValues",e),w(e),M(t)},isReadOnly:!0}),Object(s.jsx)(nt,{onEdit:function(){},dateInterval:E,errorMessage:e.errorMessage,getTaskList:function(e,t){var n=[];if(D.toDoList)for(var a=0;a<D.toDoList.length;a++){var s=D.toDoList[a];z()(s.date).isBetween(z()(E.startDate.format("YYYY-MM-DD")).add(-1,"day"),z()(E.endDate.format("YYYY-MM-DD")).add(1,"day"),"day")&&n.push(s)}L(n)},isInterval:T,settings:e.settings,taskList:y,taskListIsFetching:!1,taskSaveStatus:e.taskSaveStatus,isReadOnly:!0})]},"3"),Object(s.jsx)(Wa,{header:"Related users"},"4"),Object(s.jsx)(Wa,{header:"Permissions"},"5")]}),Object(s.jsx)(Ye.a,{title:g.name,placement:"right",closable:!0,onClose:function(){v(it),p(!1)},visible:O,width:"90%",children:Object(s.jsx)(j.c,{initialValues:g,onSubmit:function(){},enableReinitialize:!0,initialStatus:"readOnly",children:we})})]}):Object(s.jsx)(ze.a,{size:"large"},"spin")},Qa=function(e){return Object(s.jsx)(Zn.b.Item,{actions:[Object(s.jsx)(de.a,{onClick:function(){!function(t){e.setToDoFormVisible(!0);var n=t.time.split(":"),a=t.time_to_complete.split(/:/);e.setInitialFormValues({name:t.name,time:z()().hours(Number(n[0])).minutes(Number(n[1])).seconds(Number(n[2])),date:z()(t.date),time_to_complete:z()().hours(Number(a[0])).minutes(Number(a[1])).seconds(Number(a[2])),descriptions:t.descriptions?t.descriptions:null})}(e.item)},type:"link",block:!0,children:"Show"})],children:e.item.name},e.item.id)},Za=n(339),es=n.n(Za),ts=(n(595),d.j.Item),ns=function(e){var t=Object(c.useState)(1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2),u=l[0],b=l[1],m=Object(c.useState)(Me),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(null),x=Object(o.a)(f,2),g=x[0],v=x[1],k=Object(c.useState)({startDate:z()(),endDate:z()()}),S=Object(o.a)(k,2),y=S[0],L=S[1],C=Ga(e.usersList,e.match.params.userId),N=Object(c.useCallback)((function(e,t){if(C){var n=[];if(C.toDoList)for(var a=0;a<C.toDoList.length;a++){var s=C.toDoList[a];z()(s.date).isBetween(z()(e).add(-1,"day"),z()(t).add(1,"day"),"day")&&n.push(s)}v(n)}else v(null)}),[v,C]);Object(c.useEffect)((function(){var t=function(){return e.getUsersList};console.log(e.isUsersDataChanged),0===e.usersList.length&&t()(),e.isUsersDataChanged&&(t()(),e.setUsersDataChanged(!1)),C&&null===g&&N(y.startDate.format("YYYY-MM-DD"),y.endDate.format("YYYY-MM-DD"))}),[e.usersList,e.getUsersList,y,C,g,N,e.isUsersDataChanged,e.setUsersDataChanged]);var T,w=Object(ut.g)();return C?Object(s.jsxs)("div",{children:[Object(s.jsx)(d.m,{mode:"light",icon:Object(s.jsx)(d.h,{type:"left"}),onLeftClick:function(){return w.replace(e.appLocation+"users")},rightContent:[Object(s.jsxs)("span",{children:["User id: ",e.match.params.userId]},"UserId")],children:Object(s.jsx)("span",{className:"text-dark",children:C.name})}),Object(s.jsxs)(d.a,{defaultActiveKey:"",className:"my-accordion",onChange:function(){},children:[Object(s.jsx)(d.a.Panel,{header:"User data",children:Object(s.jsx)(Ka,{userData:C,updateUser:e.updateUser})}),Object(s.jsx)(d.a.Panel,{header:"ToDo List",children:Object(s.jsxs)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3 mt-3 mb-5",onClick:function(){b(!u)},type:"primary",children:"Close"}),Object(s.jsx)("div",{className:"mt-1",children:Object(s.jsx)(j.c,{initialValues:O,onSubmit:function(){},enableReinitialize:!0,initialStatus:"readOnly",children:we})})]}),open:u,children:[Object(s.jsx)(d.j,{children:C.toDoList?$a(C.toDoList,a,10).map((function(e){return Object(s.jsx)(ts,{onClick:function(){!function(e){b(!u);var t=H(e.time),n=e.date.split(/-/),a=new Date;a.setFullYear(parseInt(n[0])),a.setMonth(parseInt(n[1])-1),a.setDate(parseInt(n[2])),p({name:e.name,time:t,date:a,descriptions:e.descriptions?e.descriptions:null,time_to_complete:H(e.time_to_complete)})}(e)},children:e.name},e.id.toString())})):null}),Object(s.jsx)(d.k,{locale:es.a,children:Object(s.jsx)("div",{className:"pagination-container",children:Object(s.jsx)(d.n,{className:"m-2",total:C.toDoList?Math.ceil((null===(T=C.toDoList)||void 0===T?void 0:T.length)/10):0,current:a,onChange:function(e){r(e)}})})})]})}),Object(s.jsxs)(d.a.Panel,{header:"Schedule",children:[Object(s.jsx)(Ne,{dateInterval:y,setIsInterval:function(e,t){L(t),N(t.startDate.format("YYYY-MM-DD"),t.endDate.format("YYYY-MM-DD"))},isReadOnly:!0}),Object(s.jsx)(Pe,{dateInterval:y,taskList:g,isReadOnly:!0})]}),Object(s.jsx)(d.a.Panel,{header:"Related users"}),Object(s.jsx)(d.a.Panel,{header:"Permissions"})]})]}):Object(s.jsx)(ze.a,{size:"small"},"spin")},as=Object(l.b)((function(e){return{usersList:e.users.usersList,dateInterval:e.task.dateInterval,errorMessage:e.task.errorMessage,isInterval:e.task.isInterval,taskSaveStatus:e.task.taskSaveStatus,settings:e.auth.viewSettings,appLocation:e.app.location,viewSettings:e.auth.viewSettings,isUsersDataChanged:e.users.isUsersDataChanged}}),{getUsersList:pn,updateUser:fn,setUsersDataChanged:On.setUsersDataChanged})(f.isMobile?ns:Xa),ss=function(e){Object(c.useEffect)((function(){e.isProjectListLoaded||e.getProjectList()}),[e,e.isProjectListLoaded,e.projectList]);var t=Object(ut.i)().url;return console.log(e),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h4",{children:"Projects"}),Object(s.jsx)("li",{children:"Add project"}),Object(s.jsx)(Zn.b,{bordered:!0,dataSource:e.projectList,renderItem:function(e){return Object(s.jsx)(Zn.b.Item,{children:Object(s.jsx)(dt.b,{to:t+"/"+e.id,children:e.name})})}})]})},cs=Object(l.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Yt})(ss),rs=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=function(e){r(!0)};return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:i}),Object(s.jsx)(j.a,{component:R,name:"url",type:"text",label:"URL",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:R,name:"ip",type:"text",label:"IP",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:R,name:"login",type:"text",label:"Login",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:R,name:"password",type:"text",label:"Password",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:R,name:"folder",type:"text",label:"folder on server",submitCount:e.submitCount,onChange:i}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null]})},is=n(122),os=n.n(is),ls=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-2 mb-2",children:[Object(s.jsx)(de.a,{type:"primary",className:"mr-1 ml-auto",onClick:function(){console.log("check")},children:"Check"}),Object(s.jsx)(de.a,{type:"primary",className:"mr-4 ml-1",onClick:function(){console.log(e),e.setShowCodeModal(!0,"model",e.fields,e.targetName,[])},children:"Code"})]}),e.fields.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(us,{fieldName:t.name,fieldType:t.type,isNulleble:t.isNulleble,isPrimary:t.isPrimary,isNew:!1,openModalToAddField:e.openModalToAddField,fieldId:t.id,deleteField:e.deleteField,fieldParam:t.fieldParam})},t.name)}))]},"fieldList")},us=function(e){var t=e.isPrimary?"bg-light":null;return Object(s.jsxs)("div",{className:"row py-2 border "+t,children:[Object(s.jsx)("div",{className:"col",children:e.fieldName}),Object(s.jsx)("div",{className:"col",children:e.fieldType}),Object(s.jsx)("div",{className:"col",children:e.isNulleble?"null":null}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(de.a,{type:"ghost",className:"ml-2",size:"small",onClick:function(){e.openModalToAddField(Object(u.a)({},e))},children:"Edit"}),Object(s.jsx)(de.a,{type:"primary",size:"small",className:"ml-2",onClick:function(){var t;t=e.fieldId,e.deleteField(t)},children:"Delete"})]})]})},ds=Object(l.b)((function(e){return{}}),{setShowCodeModal:xt.setShowCodeModal})(ls),js=n(655),bs=function(e){var t=Object(c.useState)(e.initialValues.fieldParam),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.initialValues.fieldParam)}),[e.initialValues]);return console.log(e.initialValues),console.log(a),Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"newFieldName",type:"text",label:"New fieldName",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:M,selectOptions:[{name:"BOOLEAN",value:"boolean"},{name:"BIGINT",value:"bigint"},{name:"VARCHAR",value:"varchar"},{name:"JSON",value:"json"},{name:"TIMESTAMP",value:"timestamp"},{name:"TEXT",value:"text"}],name:"newFieldType",type:"select",label:"Field type",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isNulleble",type:"checkbox",label:"isNulleble",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"isPrimary",type:"checkbox",label:"isPrimary",submitCount:e.submitCount}),Object(s.jsxs)("div",{className:"ant-row ant-form-item",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label",children:Object(s.jsx)("label",{children:"Picked"})}),Object(s.jsx)("div",{className:"mt-1",children:Object(s.jsxs)(js.a.Group,{onChange:function(t){r(t.target.value),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fieldParam:t.target.value})),console.log("\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 fieldParam: ",t.target.value)},value:a,name:"fieldParam",children:[Object(s.jsx)(js.a,{value:"fillable",children:"Fillable"}),Object(s.jsx)(js.a,{value:"hidden",children:"Hidden"}),Object(s.jsx)(js.a,{value:"readOnly",children:"ReadOnly"})]})})]}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},ms=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Model name",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"folder",type:"text",label:"Model folder"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save1"})})]})},hs=function(e){return Object(c.useEffect)((function(){console.log("props.codeTargetName changed")}),[e.codeTargetName]),console.log(e),Object(s.jsxs)("div",{children:[Object(s.jsx)("li",{children:"!!!table name"}),Object(s.jsx)("li",{children:"Field type"}),Object(s.jsx)("li",{children:"namespace"}),Object(s.jsx)("h5",{children:"ModelCode:"}),Object(s.jsx)("code",{children:"<?php"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"namespace App;"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Eloquent\\Model;"}),Object(s.jsx)("br",{}),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:"use Illuminate\\Database\\Eloquent\\SoftDeletes;"}),Object(s.jsx)("br",{})]}):null,e.codeData.db?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:"use Illuminate\\Support\\Facades\\DB;"}),Object(s.jsx)("br",{})]}):null,Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"class "+e.codeTargetName[0].toUpperCase()+e.codeTargetName.slice(1)+" extends Model"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"{"}),Object(s.jsx)("br",{}),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(1,"use SoftDeletes;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}):null,Object(s.jsx)("code",{children:fs(1,'protected $table = "'+e.codeTargetName+'";')}),Object(s.jsx)("br",{}),Object(s.jsx)(Os,{codeRowsArray:e.codeRowsArray}),Object(s.jsx)(ps,{codeRowsArray:e.codeRowsArray}),Object(s.jsx)("code",{children:"}"}),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{children:"Migration code:"}),Object(s.jsx)("code",{children:"<?php"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Migrations\\Migration;"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Schema\\Blueprint;"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Support\\Facades\\Schema;"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"class Create"+e.codeTargetName[0].toUpperCase()+e.codeTargetName.slice(1)+"Table extends Migration"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"{"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"public function up()")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(2,'Schema::create("'+e.codeTargetName+'", function (Blueprint $table) {')}),Object(s.jsx)("br",{}),e.codeRowsArray.map((function(e){var t=e.isNulleble?"->nullable()":"";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(3,"$table->"+xs(e)+'("'+e.name+'")'+t+";")}),Object(s.jsx)("br",{})]})})),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(3,"$table->softDeletes();")}),Object(s.jsx)("br",{})]}):null,Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(3,"$table->timestamps();")}),Object(s.jsx)("br",{})]}),Object(s.jsx)("code",{children:fs(2,"});")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"public function down()")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(2,'Schema::dropIfExists("'+e.codeTargetName+'");')}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"}"}),Object(s.jsx)("br",{})]})},Os=function(e){var t=e.codeRowsArray.filter((function(e){return"fillable"===e.fieldParam}));return t.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"protected $fillable = [")}),Object(s.jsx)("br",{}),t.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)("code",{children:'"'+e.name+'", '}),Object(s.jsx)("br",{})]},e.name)})),Object(s.jsx)("code",{children:fs(1,"];")}),Object(s.jsx)("br",{})]}):Object(s.jsx)(s.Fragment,{})},ps=function(e){var t=e.codeRowsArray.filter((function(e){return"hidden"===e.fieldParam}));return t.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"protected $hidden = [")}),Object(s.jsx)("br",{}),t.map((function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)("code",{children:'"'+e.name+'", '}),Object(s.jsx)("br",{})]})})),Object(s.jsx)("code",{children:fs(1,"];")}),Object(s.jsx)("br",{})]}):Object(s.jsx)(s.Fragment,{})},fs=function(e,t){return Object(s.jsxs)(s.Fragment,{children:[function(){for(var t=1,n=[];t<=e;)t++,n.push(Object(s.jsx)("span",{children:"\xa0\xa0\xa0\xa0"},t));return n}(),t]})},xs=function(e){if(console.log(e.name,"=",e.type),e.isPrimary)return"bigIncrements";switch(e.type){case"bigint":return"bigInteger";case"varchar":return"string";default:return e.type}},gs=Object(l.b)((function(e){return{isModalVisible:e.code.isModalVisible,codeRowsArray:e.code.codeRowsArray,codeType:e.code.codeType,codeTargetName:e.code.codeTargetName,codeData:e.code.codeData}}),{setShowCodeModal:xt.setShowCodeModal})(hs),vs=function(e){var t=function(){e.setShowCodeModal(!1,e.codeType,e.codeRowsArray,e.codeTargetName,[])};return Object(s.jsx)(b.a,{title:"Code modal",visible:e.isModalVisible,onOk:t,onCancel:t,width:1e3,children:function(){switch(e.codeType){case"model":return Object(s.jsx)(gs,{});default:return Object(s.jsx)("div",{children:"No data"})}}()})},ks=Object(l.b)((function(e){return{isModalVisible:e.code.isModalVisible,codeRowsArray:e.code.codeRowsArray,codeType:e.code.codeType,codeTargetName:e.code.codeTargetName}}),{setShowCodeModal:xt.setShowCodeModal})(vs),Ss=ia.a.Panel,ys=function(e){Object(c.useEffect)((function(){e.getModelsList(e.backendId)}),[]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),l=Object(o.a)(i,2);l[0],l[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(de.a,{className:"mr-4 ml-auto mb-3",type:"primary",onClick:function(){console.log("addModel"),r(!a)},children:"Add Model"})}),Object(s.jsx)(ia.a,{defaultActiveKey:[],onChange:function(t){console.log(t),console.log(e.modelsList),console.log(e.modelsList.filter((function(e){return e.id===Number(t[0])}))[0]);var n=e.modelsList.filter((function(e){return e.id===Number(t[0])}))[0];n&&e.setCodeTarget(n.name,{db:n.db,soft_delete:n.soft_delete})},children:e.modelsList?e.modelsList.map((function(t){return Object(s.jsx)(Ss,{header:t.name,children:Object(s.jsx)(Ls,{modelItem:t,changePanel:e.changePanel,updateModel:e.updateModel})},t.id?t.id.toString():"null")})):Object(s.jsx)("div",{children:"No DATA"})}),Object(s.jsx)(os.a,{title:"Create new Model",visible:a,onOk:function(){r(!a)},onCancel:function(){r(!a)},children:Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(t){console.log(t),console.log(e),e.createModel(Object(u.a)(Object(u.a)({},t),{},{backend_id:e.backendId}))},enableReinitialize:!0,children:ms})}),Object(s.jsx)(ks,{})]})},Ls=function(e){var t;console.log(e),t=Array.isArray(e.modelItem.fields)?e.modelItem.fields:JSON.parse(e.modelItem.fields);var n=[],a={};if(t)for(var c=0;c<t.length;c++){var r=t[c];n.push(r),a["field_"+r.name]=r.type}return console.log(Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a)),console.log(e.changePanel),Object(s.jsx)(j.c,{enableReinitialize:!0,initialValues:Object(u.a)(Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a),{},{changePanel:e.changePanel}),onSubmit:function(t){var s=Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a);console.log("formValues: ",t);s.name===t.name&&s.db===t.db&&(s.soft_delete,t.soft_delete),console.log(e.modelItem);var c={fields:JSON.stringify(t.fields),name:t.name,backend_id:e.modelItem.backend_id,id:e.modelItem.id,db:t.db,soft_delete:t.soft_delete};console.log(c),e.updateModel(c,e.modelItem.id?e.modelItem.id:0)},own:e.changePanel,children:Cs})},Cs=function(e){var t=Object(c.useState)(e.initialValues),n=Object(o.a)(t,2),a=n[0],r=n[1],i={newFieldName:"",newFieldType:"",isNulleble:!1,isPrimary:!1,isNew:!0,fieldParam:""},d=Object(c.useState)(i),b=Object(o.a)(d,2),h=b[0],O=b[1],p=Object(c.useState)(e.initialValues),f=Object(o.a)(p,2),x=f[0],g=f[1];Object(c.useEffect)((function(){}),[h]);var v=function(e){console.log("onChange in Models"),C(!0)},k=function(e){console.log("openModalToAddField",e),e.isNew?(O(Object(u.a)({},i)),console.log("\u0421\u041e\u0417\u0414\u0410\u0415\u041c \u041d\u041e\u0412\u042b\u0419 \u0424\u0418\u041b\u0414",h)):(console.log("\u041e\u0411\u041d\u0423\u041b\u042f\u0415\u041c \u0424\u041e\u0420\u041c\u0423",e),O({newFieldName:e.fieldName,newFieldType:e.fieldType,isNulleble:e.isNulleble,isPrimary:e.isPrimary,isNew:!1,id:e.fieldId,fieldParam:e.fieldParam})),D(!0)},S=Object(c.useState)(!1),y=Object(o.a)(S,2),L=y[0],C=y[1],N=Object(c.useState)(!1),T=Object(o.a)(N,2),w=T[0],D=T[1],I=Object(l.c)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:v}),Object(s.jsx)(j.a,{component:R,name:"folder",type:"text",label:"Folder",submitCount:e.submitCount,onChange:v}),Object(s.jsx)(j.a,{component:V,name:"soft_delete",type:"checkbox",label:"Soft delete",onChange:v,submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"db",type:"checkbox",label:"Use DB",onChange:v,submitCount:e.submitCount}),L?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null,Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-2 mb-2",children:[Object(s.jsx)("h5",{children:"Field List:"}),Object(s.jsx)(de.a,{className:"mr-4 ml-auto",type:"primary",onClick:function(){k({isNew:!0})},children:"Add Field"})]}),Object(s.jsx)(ds,{fields:x.fields,openModalToAddField:k,deleteField:function(t){console.log("deleteField",t),console.log(e);var n=a.fields.filter((function(e){return e.id!==t}));console.log(n),g(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:n})),r(Object(u.a)(Object(u.a)({},a),{},{fields:n})),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:n})),e.handleSubmit()},targetName:"user",targetData:[]}),Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-5 mb-2",children:[Object(s.jsx)("h5",{children:"Methods:"}),Object(s.jsx)(de.a,{className:"mr-4 ml-auto",type:"primary",children:"Add method"})]}),Object(s.jsx)("div",{className:"w-100 d-flex flex-row mt-5 mb-2",children:Object(s.jsxs)("h5",{className:"mr-auto ml-auto",children:["Create : ",e.initialValues.name,"Controller",Object(s.jsx)(de.a,{onClick:function(){var t={name:e.initialValues.name+"Controller",models:JSON.stringify([e.initialValues.id]),backend_id:e.initialValues.backend_id,isResource:!0};e.initialValues.changePanel("",["3"]),I(zt(t))},className:"ml-4",type:"primary",children:"Create"})]})})]}),Object(s.jsx)(os.a,{title:"New Field Form",visible:w,onOk:function(){console.log("handleOk"),D(!1)},onCancel:function(){console.log("handleCancel"),O(i),console.log(h),D(!1)},children:Object(s.jsx)(j.c,{initialValues:h,onSubmit:function(t,n){if(console.log("handleSubmit",t),t.isNew){console.log("NEW FIELD");var s=a.fields;s.push({id:e.initialValues.fields.length+1,name:t.newFieldName,isPrimary:t.isPrimary,type:t.newFieldType,isNulleble:t.isNulleble,fieldParam:t.fieldParam,description:""}),g(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:s})),console.log("NEED DML!!!!",e),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:s})),e.handleSubmit()}else{var c=!1,i=a.fields.map((function(e){return t.id===e.id&&(e.name!==t.newFieldName||e.type!==t.newFieldType||e.isNulleble!==t.isNulleble||e.isPrimary!==t.isPrimary||e.fieldParam!==t.fieldParam)?(c=!0,{description:"",id:t.id,name:t.newFieldName,isPrimary:t.isPrimary,type:t.newFieldType,isNulleble:t.isNulleble,fieldParam:t.fieldParam}):e}));c&&(g(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:i})),r(Object(u.a)(Object(u.a)({},a),{},{fields:i})),console.log("NEED DML!!!!",e),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:i})),e.handleSubmit())}n.resetForm(),O(t)},enableReinitialize:!0,children:bs})})]})},Ns=Object(l.b)((function(e){return{modelsList:e.projects.modelsList}}),{getModelsList:Ut,updateModel:function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Lt(e,t);case 2:c=n.sent,console.log(c),a(Ft(c.data.models));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},createModel:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct(e);case 2:s=t.sent,console.log(s),n(Ft(s.data.models));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},setCodeTarget:xt.setCodeTarget})(ys),Ts=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Controller name",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"folder",type:"text",label:"Model folder"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},ws=function(e){var t,n,a,c,r=[];(null===(t=e.methodData)||void 0===t?void 0:t.request)&&(r=JSON.parse(null===(c=e.methodData)||void 0===c?void 0:c.request));return console.log("ControllerMethodsCode props:",e),Object(s.jsxs)("div",{children:[Object(s.jsx)("code",{children:fs(1,"/**")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"* Descriptions")}),Object(s.jsx)("br",{}),r.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("code",{children:fs(1,"* @param  \\Illuminate\\Http\\"+e.type+"  $"+e.name)},e.name),Object(s.jsx)("br",{})]},e.name)})),Object(s.jsx)("code",{children:fs(1,"* @return \\Illuminate\\Http\\Response")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"*/")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"public function "+(null===(n=e.methodData)||void 0===n?void 0:n.name)+"(")}),r.length>0?r.map((function(e,t){return t>0?Object(s.jsx)("code",{children:fs(0,", "+e.type+"  $"+e.name)},e.name):Object(s.jsx)("code",{children:fs(0,e.type+"  $"+e.name)},e.name)})):null,Object(s.jsx)("code",{children:fs(0,")")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"{")}),Object(s.jsx)("br",{}),null!==e.methodData&&e.methodData.body_actions?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("pre",{className:"ml-5",children:null===(a=e.methodData)||void 0===a?void 0:a.body_actions})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(2,"//...")}),Object(s.jsx)("br",{})]}),null!==e.methodData&&e.methodData.response?Ds(2,null!==e.methodData?JSON.parse(e.methodData.response):null):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(2,"//...")}),Object(s.jsx)("br",{})]}),Object(s.jsx)("code",{children:fs(1,"}")}),Object(s.jsx)("br",{})]})},Ds=function(e,t){switch(t.type){case"method":return Is(e,t);case"Response":return _s(e,t)}},Is=function(e,t){var n=t.methodName;return console.log("methodName: ",n),[Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(e,"return self::"+n+"();")}),Object(s.jsx)("br",{})]})]},_s=function(e,t){console.log("response: ",t);var n=[];return n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(e,"return response()->json([")}),Object(s.jsx)("br",{})]})),t.responseItems?(console.log(t.responseItems),t.responseItems.map((function(t,a){n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(e+1,'"'+t.key+'"=> $'+t.variable+", ")}),Object(s.jsx)("br",{})]}))}))):console.log(t.responseItems),n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:fs(e,"], 200);")}),Object(s.jsx)("br",{})]})),console.log("responseBlock: ",n),n},Es=n(647),Ms=n(70),As=function(e){var t=Object(c.useState)(e.item),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.item)}),[e.initialValues]);return Object(s.jsxs)("div",{className:"row mt-1",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label mt-2",children:e.item.label}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsxs)(Es.a,{className:" ml-2 TreeSelect_Request_Type",style:{width:"100%"},showSearch:!0,value:a.type,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Reqest type",allowClear:!0,showCheckedStrategy:"SHOW_PARENT",onChange:function(t,n,s){r(Object(u.a)(Object(u.a)({},a),{},{type:t})),t?e.onRowChange(e.item.id,t,e.item.name):e.onRowChange(e.item.id,"",e.item.name)},children:[Object(s.jsx)(Ms.d,{selectable:!1,per_id:e.item.id,value:"model",title:"Model",children:e.initialValues.modelsList.map((function(t){return Object(s.jsx)(Ms.d,{per_id:e.item.id,value:t.name,title:t.name},t.name)}))}),Object(s.jsx)(Ms.d,{per_id:e.item.id,value:"Request",title:"Request"}),Object(s.jsx)(Ms.d,{selectable:!1,per_id:e.item.id,value:"list",title:"List"})]})}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)(v.a,{className:"w-100 ml-2",value:a.name,name:e.item.id.toString(),onChange:function(t){r(Object(u.a)(Object(u.a)({},a),{},{name:t.target.value})),e.onRowChange(e.item.id,e.item.type,t.target.value)},placeholder:"Param name"})})]},e.item.id)},Rs=function(e){var t=Object(c.useState)(e.responseInit),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.responseInit)}),[e.responseInit]);return console.log("ResponseItem value: ",a),console.log("ResponseItem props: ",e),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"row mt-1 mb-3",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label mt-2",children:"Response:"}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsxs)(Es.a,{className:" ml-2 TreeSelect_Request_Type",style:{width:"100%"},showSearch:!0,value:"method"===a.type?e.initialValues.controllerMethodsList.filter((function(e){return e.id===a.methodId}))[0].name:a.type,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Reqest type",allowClear:!0,showCheckedStrategy:"SHOW_PARENT",onChange:function(t,n,s){var c=[],i=0,o="",l="";"Response"===t?(l=t,c.push({key:"",variable:""})):(i=e.initialValues.controllerMethodsList.filter((function(e){return e.name===t}))[0].id,o=e.initialValues.controllerMethodsList.filter((function(e){return e.name===t}))[0].name,l="method"),r(Object(u.a)(Object(u.a)({},a),{},{type:l,responseItems:c,methodId:i,methodName:o})),e.setResponseValues(Object(u.a)(Object(u.a)({},a),{},{type:l,responseItems:c,methodId:i,methodName:o}))},children:[Object(s.jsx)(Ms.d,{value:"Response",title:"Response"}),Object(s.jsx)(Ms.d,{selectable:!1,value:"method",title:"Method",children:void 0!==e.initialValues.controllerMethodsList?e.initialValues.controllerMethodsList.filter((function(t){return t.name!==e.initialValues.name})).map((function(e){return Object(s.jsx)(Ms.d,{value:e.name,title:e.name},e.name)})):null})]})}),Object(s.jsx)("div",{className:"col-4",children:"Response"===a.type?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(de.a,{className:"ml-2",type:"primary",onClick:function(){var e=a.responseItems?Object(en.a)(a.responseItems):[];e.push({key:"",variable:""}),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:e}))},children:"Add param"}),Object(s.jsx)(de.a,{className:"ml-2",type:"primary",onClick:function(){var e=a.responseItems?Object(en.a)(a.responseItems):[];e.pop(),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:e}))},children:"Del param"})]}):null})]}),"Response"===a.type?Object(s.jsx)("div",{className:"row mt-1 mb-3",children:Object(s.jsx)(Fs,{responseRows:a.responseItems?a.responseItems:[],onRowChange:function(t,n,s){var c=a.responseItems?a.responseItems:[];c[n]&&(c[n][s]=t),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:c})),e.setResponseValues(Object(u.a)(Object(u.a)({},a),{},{responseItems:c}))}})}):null,"method"===a.type?Object(s.jsxs)("div",{className:"row mt-1 mb-3",children:["methodId: ",a.methodId]}):null]})},Fs=function(e){var t=function(t){e.onRowChange(t.target.value,Number(t.target.name),"key")},n=function(t){e.onRowChange(t.target.value,Number(t.target.name),"variable")};return Object(s.jsx)(s.Fragment,{children:e.responseRows.map((function(e,a){return Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsxs)("div",{className:"ant-col ant-form-item-label pr-2 mt-3",children:["param ",a+1,":"]}),Object(s.jsx)("div",{className:"col-4 mt-2",children:Object(s.jsx)(v.a,{className:"w-100 ml-2",value:e.key,name:a.toString(),onChange:t,placeholder:"Param name"})}),Object(s.jsx)("div",{className:"col-4 mt-2",children:Object(s.jsx)(v.a,{className:"w-100 ml-2",value:e.variable,name:a.toString(),onChange:n,placeholder:"Param variable"})})]},a.toString())}))})},Ps=n(343),Vs=n.n(Ps),Ys=function(e){var t=Object(c.useState)(void 0!==e.initialValues.request?e.initialValues.request:[]),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!(!e.initialValues.request||0===e.initialValues.request.length)),l=Object(o.a)(i,2),d=l[0],b=l[1],h=Object(c.useState)(e.initialValues.response),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(c.useState)(!!e.initialValues.response),g=Object(o.a)(x,2),v=g[0],k=g[1];console.log("isResponse: ",v);var S=Object(c.useState)(e.initialValues.body_actions),L=Object(o.a)(S,2),C=L[0],N=L[1],T=Object(c.useState)(!!e.initialValues.body_actions),w=Object(o.a)(T,2),D=w[0],I=w[1],_=Object(c.useState)(void 0),E=Object(o.a)(_,2);E[0],E[1];Object(c.useEffect)((function(){r(void 0!==e.initialValues.request?e.initialValues.request:[]),b(!(!e.initialValues.request||0===e.initialValues.request.length)),f(e.initialValues.response?e.initialValues.response:void 0),N(e.initialValues.body_actions?e.initialValues.body_actions:""),I(!!e.initialValues.body_actions)}),[e.initialValues]);var A=function(){console.log("onAddRequest:",a);var t=Object(en.a)(a);t.push({label:"param "+(a.length+1),type:"",name:"",id:a.length}),r(t),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:t}))},F=function(t,n,s){for(var c=Object(en.a)(a),i=0;i<a.length;i++){var o=a[i];o.id===t&&(c[i]=Object(u.a)(Object(u.a)({},o),{},{name:s,type:n}))}r(c),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:c}))};console.log("props.initialValues: ",e.initialValues);return console.log("ResponseItem:",p),Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Method name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:M,name:"rest_type",type:"select",label:"REST Type",selectOptions:Us,validate:m,hasFeedback:!0}),Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"Request:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(e){console.log(e.target.checked),console.log(a),e.target.checked&&void 0!==a&&a.length,void 0!==a&&0===a.length?(console.log("onAddRequest"),A()):(console.log("setRequest"),r([])),b(!d)},checked:d})})]}),a&&a.length>0?a.map((function(t){return Object(s.jsx)(As,{item:t,initialValues:e.initialValues,onRowChange:F},t.id)})):null,a&&a.length>=1?Object(s.jsxs)("div",{className:"my-2",children:[Object(s.jsx)(de.a,{className:"mr-3",type:"primary",size:"small",onClick:A,children:"Add"}),Object(s.jsx)(de.a,{className:"mr-3",type:"primary",size:"small",onClick:function(){var t=Object(en.a)(a);t.pop(),r(t),0===t.length&&b(!1),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:t}))},children:"del"})]}):null,Object(s.jsxs)("div",{className:"ant-row ant-form-item",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"body_actions:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(){I(!D)},checked:D})})]}),D?Object(s.jsx)(Vs.a,{onKeyDown:function(t){if(9===t.keyCode){t.preventDefault();var n=C.substr(0,t.target.selectionEnd),a=C.substr(t.target.selectionEnd);N(n+"    "+a),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{body_actions:t.target.value}));var s=t.target.selectionStart+4,c=t.target.selectionEnd+4;setTimeout((function(){t.target.selectionStart=s,t.target.selectionEnd=c}),0)}},rows:4,value:C,onChange:function(t){N(t.target.value),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{body_actions:t.target.value}))}}):null,Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"Response:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(){console.log("onResponse",v),k(!v),console.log("response: ",p),f(p?void 0:{type:""})},checked:v})})]}),void 0!==p&&void 0!==p.type?Object(s.jsx)(Rs,{responseInit:p,initialValues:e.initialValues,setResponseValues:function(t){e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{response:t}))}}):null,Object(s.jsx)(j.a,{component:V,name:"isMiddleware",type:"checkbox",label:"isMiddleware",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},Us=[{name:"GET",value:"get"},{name:"POST",value:"post"},{name:"PUT",value:"put"},{name:"DELETE",value:"delete"}],zs=function(e){var t={modelsList:e.modelsList,name:"",controllerMethodsList:e.controllerMethodsList},n=Object(c.useState)(null),a=Object(o.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(t),d=Object(o.a)(l,2),m=d[0],h=d[1],O=Object(c.useState)("Controller Method form"),p=Object(o.a)(O,2),f=p[0],x=p[1];Object(c.useEffect)((function(){0===e.controllerMethodsList.length&&e.getControllerMethodsList()}),[]),Object(c.useEffect)((function(){console.log("useEffect, setinitialValues for: ",e.controllerData.id);var t=e.controllerMethodsList.filter((function(t){return t.controller_id===e.controllerData.id}));console.log("newControllerMethodsList",t),h(Object(u.a)(Object(u.a)({},m),{},{controllerMethodsList:t}))}),[e.controllerMethodsList]);var g=Object(c.useState)(!1),v=Object(o.a)(g,2),k=v[0],S=v[1];return console.log("ControllerMethods props",e),console.log("ControllerMethods initialValues: ",m),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(de.a,{type:"primary",onClick:function(){h(t),x("Controller Method form"),S(!0)},children:"Add Method"})}),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(Zn.b,{className:"mt-2",header:Object(s.jsx)("div",{children:"Controller Methods List:"}),bordered:!0,dataSource:m.controllerMethodsList,renderItem:function(t){return Object(s.jsx)(Zn.b.Item,{actions:[Object(s.jsx)("a",{onClick:function(){!function(t){var n=e.controllerMethodsList.filter((function(e){return e.id===t}))[0];console.log("target of method",n),x("Edit Controller Method "+n.name),i({body_actions:n.body_actions,controller_id:n.controller_id,id:t,isMiddleware:!1,name:n.name,request:n.request,response:n.response,rest_type:n.rest_type}),S(!0),h(Object(u.a)(Object(u.a)({},m),{},{name:n.name,request:n.request?JSON.parse(n.request):[],response:n.response?JSON.parse(n.response):void 0,body_actions:n.body_actions,rest_type:n.rest_type,id:n.id}))}(t.id)},children:"edit"},"list-loadmore-edit"),Object(s.jsx)("a",{children:"code"},"list-loadmore-more")],children:Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsx)("div",{className:"col-6",children:t.name}),Object(s.jsx)("div",{className:"col-3",children:t.rest_type})]})})}})}),Object(s.jsxs)(b.a,{title:f,visible:k,onOk:function(){console.log("onOk"),S(!1)},onCancel:function(){S(!1)},width:1e3,children:[Object(s.jsx)(j.c,{initialValues:m,onSubmit:function(t){console.log("onHandleSubmit values:",t),console.log("props: ",e);var n={body_actions:t.body_actions?t.body_actions:"",controller_id:e.controllerData.id,id:t.id?t.id:0,isMiddleware:!1,name:t.name,request:JSON.stringify(t.request),response:JSON.stringify(t.response),rest_type:t.rest_type?t.rest_type:null};console.log(n),i(n),t.id?(console.log("UPDATE: ",n),e.updateControllerMethodsList(n,t.id)):(console.log("CREATE: ",n),e.createControllerMethodsList(n))},enableReinitialize:!0,children:Ys}),Object(s.jsx)(ws,{methodData:r,controllerData:e.controllerData})]})]})},Hs=Object(l.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList,controllerMethodsList:e.projects.controllerMethodsList}}),{getControllerMethodsList:Ht,updateControllerMethodsList:qt,createControllerMethodsList:Bt})(zs),qs=function(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){0===e.controllerMethodsList.length&&e.getControllerMethodsList()}),[]),Object(c.useEffect)((function(){r(e.controllerMethodsList.filter((function(t){return t.controller_id===e.controllerData.id})))}),[e.controllerMethodsList]),console.log(e),console.log(a),Object(s.jsxs)("div",{className:"text-left",children:[Object(s.jsx)("code",{children:fs(0,"<?php")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(0,"namespace App\\Http\\Controllers;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(0,"use App\\"+e.controllerData.models[0].name+";")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(0,"use Illuminate\\Http\\Request;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(0,"class "+e.controllerData.name+" extends Controller")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(0,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:fs(1,"//...")}),Object(s.jsx)("br",{}),null===a||void 0===a?void 0:a.map((function(t){return Object(s.jsx)(ws,{methodData:t,controllerData:e.controllerData})})),Object(s.jsx)("code",{children:fs(0,"}")}),Object(s.jsx)("br",{})]})},Bs=Object(l.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList,controllerMethodsList:e.projects.controllerMethodsList}}),{getControllerMethodsList:Ht,updateControllerMethodsList:qt,createControllerMethodsList:Bt})(qs),Ks=ia.a.Panel,Js=function(e){Object(c.useEffect)((function(){e.getControllersList(e.backendId),0===e.modelsList.length&&e.getModelsList(e.backendId)}),[]),Object(c.useEffect)((function(){}),[e.controllersList]);var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1];if(e.modelsList.length>0)e.modelsList.map((function(e){return{name:e.name,value:e.id}}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(de.a,{className:"mr-4 ml-auto mb-3",type:"primary",onClick:function(){r(!0)},children:"Add Controller"})}),e.controllersList.length>0?Object(s.jsx)(ia.a,{defaultActiveKey:[],children:e.controllersList.map((function(t){return Object(s.jsx)(Ks,{header:t.name,children:Object(s.jsx)(Ws,{item:t,modelsList:e.modelsList,updateController:e.updateController})},t.name)}))}):Object(s.jsx)(De.a,{}),Object(s.jsx)(os.a,{title:"Create new Controller",visible:a,onOk:function(){r(!a)},onCancel:function(){r(!a)},children:Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(t){e.createController(Object(u.a)(Object(u.a)({},t),{},{backend_id:e.backendId}))},enableReinitialize:!0,children:Ts})})]})},Ws=function(e){console.log("ControllerItem props",e);var t={isResurce:e.item.isResource,modelsOptions:function(){for(var t=[],n=0;n<e.modelsList.length;n++){var a=e.modelsList[n];t.push({name:a.name,value:a.id?Number(a.id):0})}return t}(),models:e.item.models.length>0?e.item.models.map((function(e){return e.id})):[]};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:e.item.name}),Object(s.jsxs)(ia.a,{defaultActiveKey:[],ghost:!0,children:[Object(s.jsx)(Ks,{header:"Instanses",children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t){e.updateController({models:t.models,backend_id:e.item.backend_id,folder:e.item.folder,id:e.item.id,isResource:t.isResurce,model_id:e.item.model_id,name:e.item.name},e.item.id)},enableReinitialize:!0,children:Gs})},"instanse"),Object(s.jsx)(Ks,{header:"Methods",children:Object(s.jsx)(Hs,{controllerData:e.item})},"methods"),Object(s.jsx)(Ks,{header:"Full code",children:Object(s.jsx)(Bs,{controllerData:e.item})},"code"),Object(s.jsxs)(Ks,{header:"Actions to create",children:[e.item.models[0]?Object(s.jsxs)("h5",{children:["php artisan make:model ",e.item.models[0].name," -mcr"]}):Object(s.jsx)("h5",{children:"No Model"}),Object(s.jsx)("br",{}),e.item.models[0]?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h5",{children:["php artisan make:controller ",e.item.name," --resource"]}),Object(s.jsxs)("h5",{children:["php artisan make:model ",e.item.models[0].name," --migration"]})]}):Object(s.jsx)("h5",{children:"No Model"})]},"actions")]})]},e.item.name)},Gs=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:V,name:"isResurce",type:"checkbox",label:"isResurce",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:M,name:"models",type:"select",label:"Including Models",mode:"multiple",selectOptions:e.initialValues.modelsOptions}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},$s=Object(l.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList}}),{getControllersList:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt(e);case 2:s=t.sent,n(Pt(s.data.controllers));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},createController:zt,getModelsList:Ut,updateController:function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,wt(e,t);case 2:c=n.sent,console.log(c),c.data.needGetMethods&&a(Ht());case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Js),Xs=ia.a.Panel,Qs=function(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){e.getBackendData(1)}),[]);var i=uc(e.projectsList,e.projectId.toString()),l={name:i.backendData?i.backendData.name:null,url:i.backendData?i.backendData.url:null,ip:i.backendData?i.backendData.ip:null,login:i.backendData?i.backendData.login:null,password:i.backendData?i.backendData.password:null,folder:i.backendData?i.backendData.folder:null},u=function(e,t){console.log(t),r(t||[])};return i.backendData?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:i.backendData.name}),Object(s.jsxs)(ia.a,{defaultActiveKey:[],activeKey:a,onChange:function(e){console.log("onCollapseChange",e),console.log("activeKey: ",[a]),u(0,e)},children:[Object(s.jsx)(Xs,{header:"Instanses",children:Object(s.jsx)(j.c,{initialValues:l,onSubmit:function(t){i.backendData&&e.updateBackend(t,i.backendData.id)},enableReinitialize:!0,children:rs})},"1"),Object(s.jsx)(Xs,{header:"Models",children:Object(s.jsx)(Ns,{backendId:i.backend_id,changePanel:u})},"2"),Object(s.jsx)(Xs,{header:"Controllers",children:Object(s.jsx)($s,{backendId:i.backend_id})},"3"),Object(s.jsx)(Xs,{header:"Api"},"4")]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("li",{children:"Seeders"}),Object(s.jsx)("li",{children:"Fasades"}),Object(s.jsx)("li",{children:"Middleware"}),Object(s.jsx)("li",{children:"Services"}),Object(s.jsx)("li",{children:"Events"}),Object(s.jsx)("li",{children:"Workers"})]}):Object(s.jsx)(ze.a,{size:"large"},"spin")},Zs=Object(l.b)((function(e){return{projectsList:e.projects.projectList,isProjectsLoaded:e.projects.isProjectLoaded}}),{getProjectList:Yt,getBackendData:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(e);case 2:void 0!==(s=t.sent)&&null!==s&&n(Rt(e,s.data.Backend[0]));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateBackend:function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,St(e,t);case 2:c=n.sent,console.log(c);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Qs),ec=n(177),tc=n.n(ec),nc=n(656),ac=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(rc),l=Object(o.a)(i,2);l[0],l[1];return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:function(e){r(!0)}}),Object(s.jsx)(sc,{addTreeItem:function(e){for(var t=0;t<e.length;t++){var n=e[t];console.log(n)}}}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null]})},sc=function(e){return Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"SRC tree:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(nc.a,{checkable:!0,defaultExpandedKeys:[],defaultSelectedKeys:["0-0-0","0-0-1"],defaultCheckedKeys:["0-0-0","0-0-1"],onSelect:function(e,t){console.log("selected",e,t)},onCheck:function(e,t){console.log("onCheck",e,t)},treeData:rc})})]})},cc=function(e){return Object(s.jsxs)("div",{children:[e.name,Object(s.jsx)(de.a,{onClick:function(){var t;t=e.trace,console.log(t)},className:"ml-2",type:"primary",size:"small",children:"Add"}),Object(s.jsx)(de.a,{className:"ml-2",type:"primary",size:"small",children:"Dell"})]})},rc=[{title:Object(s.jsx)(cc,{name:"src",trace:["src"]}),key:"0",trace:["0"],children:[{title:Object(s.jsx)(cc,{name:"Components",trace:["src","Components"]}),key:"0-0-1",children:[{title:Object(s.jsx)(cc,{name:"Development",trace:["src","Components","Development"]}),key:"0-0-1-0"}]}]}],ic=function(e){Object(c.useEffect)((function(){oc(e.projectId)}),[]),console.log("Frontend props: ",e);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Frontend"}),Object(s.jsxs)(ia.a,{defaultActiveKey:[],children:[Object(s.jsxs)(tc.a,{header:"Instanses",children:[Object(s.jsx)("li",{children:'1) Create new component "FrontEnd"'}),Object(s.jsx)("li",{children:"1.1) Create model"}),Object(s.jsx)("li",{children:"1.2) Create migrations"}),Object(s.jsx)("li",{children:"1.3) Create controller"}),Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(e){console.log(e)},children:ac})]},"1"),Object(s.jsx)(tc.a,{header:"APIs"},"2"),Object(s.jsx)(tc.a,{header:"Reducers"},"3"),Object(s.jsxs)(tc.a,{header:"Components",children:[Object(s.jsx)("li",{children:"1) Create new component"}),Object(s.jsx)("li",{children:"1.1) Create model"}),Object(s.jsx)("li",{children:"1.2) Create migrations"}),Object(s.jsx)("li",{children:"1.3) Create controller"}),Object(s.jsx)("li",{children:"2) Get componentList"})]},"4")]})]})},oc=function(e){console.log("getCurrentFrontend for: "+e)},lc=ia.a.Panel,uc=function(e,t){return e.filter((function(e){return e.id.toString()===t}))[0]},dc=function(e){Object(c.useEffect)((function(){e.isProjectsLoaded||e.getProjectList()}),[e.isProjectsLoaded]);var t=uc(e.projectsList,e.match.params.userId);return t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:t.name}),Object(s.jsxs)(ia.a,{defaultActiveKey:[],children:[t.backend_id?Object(s.jsxs)(lc,{header:"Backend",children:["Backend data to ",t.backend_id,Object(s.jsx)(Zs,{projectId:Number(e.match.params.userId)})]},"1"):null,t.frontend_id?Object(s.jsx)(lc,{header:"Frontend",children:Object(s.jsx)(ic,{projectId:Number(e.match.params.userId)})},"2"):null]})]}):Object(s.jsx)(ze.a,{size:"large"},"spin")},jc=Object(l.b)((function(e){return{projectsList:e.projects.projectList,isProjectsLoaded:e.projects.isProjectLoaded}}),{getProjectList:Yt,updateUser:fn})((f.isMobile,dc)),bc=n(263),mc=n(129),hc=n.n(mc),Oc=function(e){n(640);var t=Object(c.useState)(0),a=Object(o.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(!1),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(null),m=Object(o.a)(b,2);m[0],m[1];if(!hc.a.browserSupportsSpeechRecognition())return null;var h=function(e){j(!1),i(r+e)};return console.log(e),console.log(r),0!==e.toLern.length?Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"v1.6"}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){hc.a.stopListening(),hc.a.startListening({language:"ru-RU",continuous:!0})},children:"StartRus"}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){hc.a.stopListening(),hc.a.startListening({language:"en-US",continuous:!0})},children:"StartEng"}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){hc.a.stopListening()},children:"Stop"}),Object(s.jsx)("h1",{children:e.toLern.length>=r-1?e.toLern[r].name:null}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){h(-1)},children:"Prev"}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){j(!d)},children:"Show"}),Object(s.jsx)(de.a,{className:"m-2",type:"primary",onClick:function(){h(1)},children:"Next"}),Object(s.jsx)("h1",{children:d?e.toLern[r].name:null})]}):Object(s.jsx)("div",{children:"spin"})},pc=Object(l.b)((function(e){return{vocabularyList:e.vocabulary.vocabularyList,part:e.vocabulary.part,count:e.vocabulary.count,toLern:e.vocabulary.toLern}}),{updateVocabulary:Nn})(Oc),fc=n(664),xc=n(672),gc=function(e){var t=Object(c.useState)("check"),n=Object(o.a)(t,2),a=n[0],r=n[1],i=function(t){r(t),console.log(t),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{checkType:t})),e.submitForm()};return Object(s.jsxs)(j.b,{className:"form-container mt-3",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"compareCount",type:"number",label:"Words compare count",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"learnCount",type:"number",label:"Words learn count",validate:m,hasFeedback:!0}),Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"check",unCheckedChildren:"check",checked:"check"===a,onChange:function(){i("check")}},"1"),",",Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"say",unCheckedChildren:"say",checked:"say"===a,onChange:function(){i("say")}},"2"),",",Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"write",unCheckedChildren:"write",checked:"write"===a,onChange:function(){i("write")}},"3"),Object(s.jsxs)("ul",{children:[Object(s.jsx)("h3",{children:"\u0417\u0430\u0443\u0447\u0438\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u043e\u0432"}),Object(s.jsx)("li",{children:"1. \u0412\u044b\u0431\u043e\u0440 \u0438\u0437\u0441\u043f\u0438\u0441\u043a\u0430"}),Object(s.jsx)("li",{children:"2. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u043b\u043e\u0432\u0430"}),Object(s.jsx)("li",{children:"3. \u041f\u0440\u043e\u0438\u0437\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0441\u043b\u043e\u0432\u0430"})]})]})},vc=window.SpeechRecognition||window.webkitSpeechRecognition,kc=(window.speechSynthesis,function(e){var t=Object(c.useState)(),n=Object(o.a)(t,2),a=n[0],r=(n[1],Object(c.useState)(!1)),i=Object(o.a)(r,2),l=i[0],u=i[1],d=Object(c.useState)(new vc),j=Object(o.a)(d,2),b=j[0],m=(j[1],Object(c.useState)(e.rand?e.target.name:e.target.relations[0].name)),h=Object(o.a)(m,2),O=h[0],p=h[1],f=Object(c.useState)(e.rand?e.target.relations[0].name:e.target.name),x=Object(o.a)(f,2),g=x[0],v=x[1],k=Object(c.useState)(),S=Object(o.a)(k,2),y=S[0],L=S[1],C=Object(c.useState)(),N=Object(o.a)(C,2),T=N[0],w=N[1],D=Object(c.useState)(window.speechSynthesis.getVoices()),I=Object(o.a)(D,1)[0],_=Object(c.useState)(!1),E=Object(o.a)(_,2),M=E[0],A=E[1],R=Object(c.useState)(!1),F=Object(o.a)(R,2),P=F[0],V=F[1],Y=Object(c.useState)([]),U=Object(o.a)(Y,2),z=U[0],H=U[1];Object(c.useEffect)((function(){if(console.log("!!!",P,O),!P)try{b.start(),V(!0)}catch(e){console.log("!!!!!!!!!!!!!!!!!!!error")}}),[P]),Object(c.useEffect)((function(){console.log("!!!!!!!!!!!!!!!!!!!props.target changed"),p(e.rand?e.target.name:e.target.relations[0].name),v(e.rand?e.target.relations[0].name:e.target.name),L(e.rand?"en-US":"ru-RU"),w(e.rand?"ru-RU":"en-US");var t=J(e.rand?e.target.name:e.target.relations[0].name),n=e.rand?"en-US":"ru-RU";t.voice=I.filter((function(e){return e.lang===n}))[0],console.log("??????????????????????????????",t),W(t,!0),b.lang=e.rand?"ru-RU":"en-US"}),[e.target]),b.interimResults=!0,b.onaudiostart=function(){u(!0)},b.onaudioend=function(){},b.onresult=function(e){console.log("onresult: ");for(var t=0;t<e.results.length;t++){var n=Object(en.a)(z);n.push(e.results[t][0].transcript),H(n)}},b.onend=function(){if(console.log("onend",P),l){console.log("\u043d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u0441\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u0442\u044c");var t=!1;z.forEach((function(e){e.toLocaleLowerCase().includes(g.toLocaleLowerCase())&&(t=!0)}));var n=z[z.length-1];if(console.log("speachResults: ",Object(en.a)(z)),H([]),t){console.log("success = true");var a=e.rand?". \u0412\u0435\u0440\u043d\u043e!":". Correct result!",s=J(n+a),c=e.rand?"ru-RU":"en-US";s.voice=I.filter((function(e){return e.lang===c}))[0],W(s,!0),e.checkTestResult({result:"success",checkMethod:e.rand?"ru_en_s":"en_ru_s"},e.target.id),console.log("props.next(1)"),e.next(1)}else{console.log("success = false");var r=void 0!==n?yc(n):"";if(""===r)if(void 0!==n){console.log(n.toLowerCase());var i=J(e.rand?"\u041d\u0435 \u0432\u0435\u0440\u043d\u043e!":"wrong!"),o=e.rand?"ru-RU":"en-US";i.voice=I.filter((function(e){return e.lang===o}))[0],console.log(i),W(i,!0),V(!0),console.log("!!!setRecognizing(true)",P)}else console.log("NOT COMAND BUT EMPTY"),console.log("recognition",b),console.log("recognizing",P),K();else{console.log("isComand: ",r),b.abort();var u=J(r),d=e.rand?"ru-RU":"en-US";u.voice=I.filter((function(e){return e.lang===d}))[0],W(u,!0)}}}else console.log("\u041d\u0410\u0414\u041e \u0417\u0410\u041f\u0423\u0421\u0422\u0418\u0422\u042c")},b.onerror=function(e){console.log("Speech recognition error detected: "+e.error)},b.onnomatch=function(){console.log("Speech not recognized")},b.onsoundstart=function(){},b.onsoundend=function(){console.log("\u0417\u0432\u0443\u043a \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f",P)};var q=new SpeechSynthesisUtterance(O),B=e.rand?"en-US":"ru-RU";q.voice=I.filter((function(e){return e.lang===B}))[0];var K=function(){V(!1)},J=function(e){return new SpeechSynthesisUtterance(e)},W=function(e,t){b.abort(),M&&!t||(window.speechSynthesis.speak(e),console.log("speechSynthesis.speak: ",e.text),A(!0),Sc(window.speechSynthesis,K))};return Object(s.jsxs)("div",{children:["v1.34) SayingWords",Object(s.jsx)("br",{}),Object(s.jsxs)("h4",{children:["tergetName: ",O,"= targetAnswer:",g]}),Object(s.jsx)("p",{children:a}),Object(s.jsxs)("p",{children:["\u042f\u0437\u044b\u043a \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u043a\u0430\u0437\u0430\u043b\u0438 \u0442\u0435\u043a\u0441\u0442: ",Object(s.jsx)("b",{children:y})," (",!y,")"]}),Object(s.jsxs)("p",{children:["\u042f\u0437\u044b\u043a \u0432\u043e\u0441\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0440\u0435\u0447\u0438: ",Object(s.jsx)("b",{children:T})]}),Object(s.jsxs)("p",{children:["\u0420\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u042f\u0437\u044b\u043a \u0432\u043e\u0441\u043f\u0440\u0438\u044f\u0442\u0438\u044f \u0440\u0435\u0447\u0438: ",Object(s.jsx)("b",{children:b.lang})]}),Object(s.jsxs)("p",{children:["\u0417\u0430\u043f\u0438\u0441\u044c \u0437\u0432\u0443\u043a\u0430: ",P?"\u0414\u0430":"\u041d\u0435\u0442"]}),Object(s.jsx)(de.a,{className:"btntooc",type:"primary",onClick:function(){K()},children:"speak"})]})}),Sc=function e(t,n){setTimeout((function(){t.speaking||t.pending?(e(t,n),console.log("WAIT")):(console.log("startLisent from checkPendidng"),n())}),100)},yc=function(e){return e.toLocaleLowerCase().includes("next")?"next":e.toLocaleLowerCase().includes("\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439")?"\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439":""},Lc=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),l=Object(o.a)(i,2),d=l[0],j=l[1];Object(c.useEffect)((function(){}),[d]),Object(c.useEffect)((function(){if(e.rand)j(Cc(e.wordsArray,e.wordsCount,e.target)),r([]);else{var t=Tc(e.wordsArray,e.target);j(Cc(t.wordsRus,e.wordsCount,t.targetRus)),r([])}}),[e,e.target]);var b=function(e,t){for(var n=Object(en.a)(d),a=0;a<d.length;a++)e.includes(n[a].parentId)&&(n[a].styles="bg-danger text-white"),t.includes(n[a].parentId)&&(n[a].styles="bg-success text-white");console.log(n),j(n)};return console.log("checkType: ",e.checkType),0===d.length?(console.log("wordsToCompare: ",d),Object(s.jsx)(ze.a,{size:"large"})):"check"===e.checkType?Object(s.jsxs)("div",{children:[Object(s.jsx)(Zn.b,{header:Object(s.jsx)("span",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0440\u0430\u0432\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f:"}),size:"small",bordered:!0,dataSource:d,renderItem:function(e){return Object(s.jsx)("h3",{className:"my-1 "+e.styles,children:Object(s.jsx)(y.a,{onChange:function(t){!function(e,t,n){var s=Object(en.a)(d).map((function(e,n){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{checked:!d[n].checked,styles:""}):e}));console.log("wordsToCompareCopy: ",s),j(s);var c=[];n?(c=Object(en.a)(a)).push(e):c=a.filter((function(t){return t!==e})),r(c)}(e.parentId,e.id,t.target.checked)},checked:e.checked,children:e.name})})}}),Object(s.jsx)(de.a,{className:"mt-3",onClick:function(){!function(t){console.log("selectedWordsIds: ",a),console.log("wordsToCompare: ",d);var n=t?e.target:Object(u.a)(Object(u.a)({},e.target.relations[0]),{},{relations:[e.target]});console.log("thisTarget: ",n);var s=a.filter((function(e){return e!==n.id}));if(console.log("check: ",s),0!==a.length)if(0!==s.length){var c=a.filter((function(e){return e===n.id}));b(s,c),e.checkTestResult({result:"error",checkMethod:"en_ru_c"},e.target.id)}else e.target&&e.checkTestResult({result:"success",checkMethod:"en_ru_c"},e.target.id),console.groupCollapsed("\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440"),console.log("target: ",e.target),console.groupEnd(),e.next(1);else alert("Please choise!")}(e.rand)},type:"primary",children:"Check"})]}):"say"===e.checkType?Object(s.jsx)(kc,Object(u.a)({},e)):"write"===e.checkType?Object(s.jsx)("div",{children:"write"}):Object(s.jsxs)("div",{children:["?2??",e.checkType,"???"]})},Cc=function(e,t,n){var a=[],s=0;if(e=Object(en.a)(e),n){for(var c=function(){var t=Nc(e.length),c=[];e[t].id!==n.id&&(e[t].relations&&(c=e[t].relations.map((function(n){return Object(u.a)(Object(u.a)({},n),{},{parentId:e[t].id,checked:!1})})),e.splice(t,1)),a=(a=a.concat(c)).filter((function(e,t,n){return n.indexOf(e)===t})),s++)};s!==t;)c();var r=[];n.relations&&(r=n.relations.map((function(e){return Object(u.a)(Object(u.a)({},e),{},{parentId:n.id,checked:!1})}))),a=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}(a=a.concat(r))}return a},Nc=function(e){return Math.floor(Math.random()*Math.floor(e))},Tc=function(e,t){var n=Object(u.a)(Object(u.a)({},t.relations[0]),{},{relations:[t]}),a=[];return e.map((function(e){var t=e.relations.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{relations:[e]})}));a=a.concat(t)})),{targetRus:n,wordsRus:a}},wc=Object(l.b)((function(e){return{wordsArray:e.vocabulary.toLern}}),{updateVocabulary:Nn,setLerningTarget:Cn.setLerningTarget,checkTestResult:function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,kn(e,t);case 2:c=n.sent,a(Cn.setResults(c.data));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},getWordsToLern:Tn})(Lc),Dc=ia.a.Panel,Ic=function(e){var t,n=Object(c.useState)(window.speechSynthesis.getVoices()),a=(Object(o.a)(n,1)[0],Object(c.useState)(0)),r=Object(o.a)(a,2),i=r[0],l=r[1],u=Object(c.useState)(!1),d=Object(o.a)(u,2),b=d[0],m=d[1],h=Object(c.useState)(!1),O=Object(o.a)(h,2),p=O[0],f=O[1],x=Object(c.useState)(!0),g=Object(o.a)(x,2),v=g[0],k=g[1],S=Object(c.useState)("check"),y=Object(o.a)(S,2),L=y[0],C=y[1],N=(t=2,Math.floor(Math.random()*Math.floor(t)));Object(c.useEffect)((function(){0===e.toLern.length&&e.getWordsToLern()}),[e,e.toLern]);var T={compareCount:5,learnCount:27},w=function(t){void 0!==i&&i+t>=0&&i+t<=e.englishWords.length-1&&(e.toLern.length>i+1?l(i+t):(e.getWordsToLern(),l(0)))};return 0===e.toLern.length?Object(s.jsx)(ze.a,{size:"large"}):Object(s.jsxs)("div",{children:[Object(s.jsx)(ia.a,{className:"my-0",defaultActiveKey:[],children:Object(s.jsx)(Dc,{header:"Settings v 1.9",extra:[Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"show",unCheckedChildren:"show",checked:b,onClick:function(e,t){m(!b),t.stopPropagation()}},"1"),Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"audio",unCheckedChildren:"audio",onClick:function(e,t){f(!p),t.stopPropagation()}},"2"),Object(s.jsx)(fc.a,{className:"mx-1",checkedChildren:"lern",unCheckedChildren:"lern",checked:v,onClick:function(e,t){e&&m(!1),k(e),t.stopPropagation()}},"3")],children:Object(s.jsx)(j.c,{initialValues:T,onSubmit:function(e){console.log("handleSubmit: ",e),void 0!==e.checkType&&C(e.checkType)},enableReinitialize:!0,children:gc})},"1")}),Object(s.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(s.jsx)(de.a,{className:"mr-5",type:"primary",onClick:function(){w(-1)},children:"prev"}),Object(s.jsx)(de.a,{className:"mx-0",type:"ghost",onClick:function(){var t;t=e.toLern[i].id,e.skipWord(t),w(1)},children:"Know it"}),Object(s.jsx)(de.a,{className:"ml-5",type:"primary",onClick:function(){w(1)},children:"next"})]}),Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start ml-1",children:[p?Object(s.jsx)(de.a,{className:"mt-4 mr-3",type:"ghost",shape:"round",size:"small",style:{marginLeft:10},icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(xc.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"my-1",style:{fontSize:"14px"}})]})}):null,0===e.toLern.length?Object(s.jsx)(ze.a,{size:"large"}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("span",{className:"mt-3 mr-3",children:e.toLern[i].id}),Object(s.jsx)("h1",{className:"my-0 mt-1",children:N?e.toLern[i].name:e.toLern[i].relations[0].name}),Object(s.jsxs)("span",{className:"mt-3 ml-3",children:[" - ",e.toLern[i].description]})]})]}),v&&0!==e.toLern.length?Object(s.jsx)(wc,{rand:N,next:w,englishWords:e.toLern,wordsCount:T.compareCount,isShowRelations:b,target:e.toLern[i],checkType:L,isShowAudio:p}):null]})},_c=Object(l.b)((function(e){return{toLern:e.vocabulary.toLern}}),{updateVocabulary:Nn,setLerningTarget:Cn.setLerningTarget,getWordsToLern:Tn,skipWord:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn(e);case 2:s=t.sent,console.log(s);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Ic),Ec=bc.a.TabPane,Mc=function(e){Object(c.useEffect)((function(){0===e.vocabularyList.length&&e.getVocabularyList(1)}),[e]),Object(c.useEffect)((function(){}),[e.vocabularyList,e.count,e.part]);return Object(s.jsxs)(bc.a,{defaultActiveKey:"0",children:[Object(s.jsx)(Ec,{tab:"Car Trener",children:0!==e.vocabularyList.length?Object(s.jsx)(_c,{englishWords:e.vocabularyList}):null},"0"),Object(s.jsxs)(Ec,{tab:"Vocabulary List",children:[Object(s.jsx)(Ba.a,{showQuickJumper:!0,defaultPageSize:100,current:e.part,total:e.count,onChange:function(t){console.log(t),e.getVocabularyList(t)}}),Object(s.jsx)(Zn.b,{size:"small",header:Object(s.jsx)("div",{children:"Header"}),footer:Object(s.jsx)("div",{children:"Footer"}),bordered:!0,dataSource:e.vocabularyList,renderItem:function(e){return Object(s.jsx)(Zn.b.Item,{children:Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsx)("div",{className:"col-1 text-right",children:e.id}),Object(s.jsx)("div",{className:"col-2 text-right",children:"eng"===e.languige?Object(s.jsx)("b",{children:e.name}):e.name}),Object(s.jsx)("div",{className:"col-3 text-right",children:e.name+" "+e.part_of_speech})]})})}})]},"1"),Object(s.jsx)(Ec,{tab:"to Lern"},"2"),Object(s.jsx)(Ec,{tab:"Active Vocabulary"},"3"),Object(s.jsx)(Ec,{tab:"Trening",children:Object(s.jsx)(pc,{})},"4")]})},Ac=Object(l.b)((function(e){return{vocabularyList:e.vocabulary.vocabularyList,part:e.vocabulary.part,count:e.vocabulary.count}}),{getVocabularyList:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,gn(e);case 2:s=t.sent,console.log(s),200===s.status?n(Cn.setVocabularyList(s.data.englishWords,Number(s.data.part),Number(s.data.count),s.data.toLern)):console.log(s.data.message);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateVocabulary:Nn})(Mc),Rc=function(e){var t=Object(c.useState)(e.contacts),n=Object(o.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){console.log("useEffect",e),r(e.contacts)}),[e]);var i=function(t){console.log("saveNewContact",t);var n=Object(en.a)(a);void 0!==t.id&&(console.log(n[t.id]),n[t.id]=t,n[t.id].status="old"),r(n),console.log("props.parentId",e.parentId),e.createNewContact(Object(u.a)(Object(u.a)({},t),{},{Skype:null,Viber:null,Telegram:null,WhatsApp:null,providers_id:e.parentId}))},l=function(e){console.log(e);var t=Object(en.a)(a);t.splice(e,1),r(t)},d=function(){console.log("onEdit")};return console.log(e),Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"row ",children:[Object(s.jsx)("div",{className:"col-6 d-flex flex-row",children:"Contacts:"}),Object(s.jsx)("div",{className:"col-6 d-flex flex-row-reverse",children:Object(s.jsx)(de.a,{disabled:!e.canAdd,onClick:function(){console.log("addContact");var e=Object(en.a)(a);e.push({name:"",phone:"",status:"new",Skype:!1,Viber:!1,Telegram:!1,WhatsApp:!1}),r(e)},size:"small",type:"primary",children:"Add"})})]}),a.map((function(e,t){return"new"===e.status?Object(s.jsx)(Fc,{onCancel:l,index:t,contact:e,saveNewContact:i},t):Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"row mt-2 border p-2",children:[Object(s.jsxs)("div",{className:"col-3 d-flex flex-row-reverse mt-1",children:[e.name,":"]}),Object(s.jsx)("div",{className:"col-7 d-flex flex-row mt-1",children:e.phone}),Object(s.jsx)("div",{className:"col-2 d-flex flex-row",children:Object(s.jsx)(de.a,{onClick:d,size:"small",type:"ghost",children:"Edit"})})]})},t)}))]})},Fc=function(e){var t=Object(c.useState)(Object(u.a)(Object(u.a)({},e.contact),{},{id:e.index})),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{className:"mb-4",children:[Object(s.jsxs)("div",{className:"row mt-2",children:[Object(s.jsx)("div",{className:"col-3 d-flex flex-row-reverse mt-2",children:"Name:"}),Object(s.jsx)("div",{className:"col-9 d-flex flex-row",children:Object(s.jsx)(v.a,{onChange:function(e){console.log(e),r(Object(u.a)(Object(u.a)({},a),{},{name:e.target.value}))},value:a.name,className:"w-100"})})]}),Object(s.jsxs)("div",{className:"row mt-2",children:[Object(s.jsx)("div",{className:"col-3 d-flex flex-row-reverse mt-2",children:"Phone:"}),Object(s.jsx)("div",{className:"col-9 d-flex flex-row",children:Object(s.jsx)(v.a,{onChange:function(e){console.log(e),r(Object(u.a)(Object(u.a)({},a),{},{phone:e.target.value}))},value:a.phone,className:"w-100"})})]}),Object(s.jsx)("div",{className:"row mt-2",children:Object(s.jsx)(y.a.Group,{options:["Skype","Viber","Telegram","WhatsApp"],defaultValue:[],onChange:function(e){console.log(e);for(var t=Object(u.a)({},a),n=0;n<e.length;n++){t[e[n]]=!0}r(t)}})}),Object(s.jsxs)("div",{className:"row mt-2 mr-1 d-flex flex-row-reverse",children:[Object(s.jsx)(de.a,{className:"mx-2",onClick:function(){e.onCancel(e.index)},size:"small",type:"primary",children:"Cancel"}),Object(s.jsx)(de.a,{className:"mx-2",onClick:function(){e.saveNewContact(a)},size:"small",type:"primary",children:"Save"})]})]})},Pc=Object(l.b)((function(e){return{providorsList:e.contacts.contactList}}),{createNewContact:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$t(e);case 2:s=t.sent,n(In(s.data.providersList));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Rc),Vc=function(e){return console.log("initialValues:",e.initialValues),Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:R,name:"name",type:"text",label:"Provider name",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:Y,name:"descriptions",type:"textArea",label:"Descriptions",hasFeedback:!0}),Object(s.jsx)(Pc,{contacts:void 0!==e.initialValues.contacts?e.initialValues.contacts:[],parentId:e.initialValues.id,canAdd:!!e.initialValues.id}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}),Object(s.jsx)("li",{children:"Prices"}),Object(s.jsx)("li",{children:"BrendList"})]})},Yc=function(e){var t=Object(c.useState)(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],i={name:"",descriptions:"",contacts:[]},l=Object(c.useState)(i),u=Object(o.a)(l,2),d=u[0],m=u[1];Object(c.useEffect)((function(){void 0!==e.providorsList&&0===e.providorsList.length&&e.getProvidersList()}),[e]);return console.log(e),console.log(d),Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(de.a,{onClick:function(){m(i),r(!0)},className:"mt-2 ml-auto mr-2 mb-2",type:"primary",children:"New Provider"})}),Object(s.jsx)(Zn.b,{size:"small",header:Object(s.jsx)("h3",{children:"Providers List"}),bordered:!0,dataSource:e.providorsList,renderItem:function(e){return Object(s.jsx)(Zn.b.Item,{className:"",children:Object(s.jsx)("div",{className:"border bg-white p-2 w-100",children:Object(s.jsxs)("div",{className:"row ",children:[Object(s.jsxs)("div",{className:"col-6 d-flex flex-row",children:[e.id,"). ",e.name]}),Object(s.jsxs)("div",{className:"col-6 d-flex flex-row-reverse",children:[Object(s.jsx)(de.a,{className:"mr-2",onClick:function(){!function(e){m({name:e.name,descriptions:e.descriptions,id:e.id,contacts:e.contacts}),r(!0)}(e)},size:"small",type:"primary",children:"Edit"}),Object(s.jsx)(de.a,{className:"mr-2",onClick:function(){},size:"small",type:"primary",children:"Prices(0)"})]})]})})})}}),Object(s.jsx)(b.a,{title:"Basic Modal",visible:a,onOk:function(){r(!1)},onCancel:function(){console.log("handleCancel \u041e\u0411\u041d\u0423\u041b\u0418\u041b"),r(!1),m(i)},children:Object(s.jsx)(j.c,{initialValues:d,onSubmit:function(t){console.log(t),delete t.contacts,void 0===t.id?e.createNewProvider(t):e.updateProvider(t,t.id)},enableReinitialize:!0,children:Vc})}),Object(s.jsx)("li",{children:"Pagination"})]})},Uc=Object(l.b)((function(e){return{providorsList:e.providors.providersList}}),{getProvidersList:function(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jt();case 2:a=e.sent,t(Qt(a.data.providersList));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},createNewProvider:function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(n,a){var s;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Wt(e);case 2:s=t.sent,n(Qt(s.data.providersList));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateProvider:function(e,t){return function(){var n=Object(Z.a)(Q.a.mark((function n(a,s){var c;return Q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Gt(e,t);case 2:c=n.sent,a(Qt(c.data.providersList));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Yc),zc=n(651),Hc=bc.a.TabPane,qc=ia.a.Panel,Bc={height:1e3,width:100,backgroundColor:"white"},Kc={},Jc=360;Jc<=1440;Jc+=60){var Wc=Jc.toString();Kc[Wc]={style:{color:"black"},label:Object(s.jsx)("strong",{children:Jc/60+":00"})}}var Gc=function(e){},$c=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"\u0420\u0430\u0441\u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0434\u043d\u044f:"}),Object(s.jsxs)(bc.a,{defaultActiveKey:"1",onChange:Gc,children:[Object(s.jsxs)(Hc,{tab:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",children:[Object(s.jsx)("h4",{children:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a:"}),Object(s.jsx)(Xc,{dayNumber:"\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a"})]},"1"),Object(s.jsxs)(Hc,{tab:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a",children:[Object(s.jsx)("h4",{children:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a:"}),Object(s.jsx)(Xc,{dayNumber:"\u0412\u0442\u043e\u0440\u043d\u0438\u043a"})]},"2"),Object(s.jsx)(Hc,{tab:"\u0421\u0440\u0435\u0434\u0430",children:"Content of Tab Pane 3"},"3"),Object(s.jsx)(Hc,{tab:"\u0427\u0435\u0442\u0432\u0435\u0440\u0433",children:"Content of Tab Pane 3"},"4"),Object(s.jsx)(Hc,{tab:"\u041f\u044f\u0442\u043d\u0438\u0446\u0430",children:"Content of Tab Pane 3"},"5"),Object(s.jsx)(Hc,{tab:"\u0421\u0443\u0431\u0431\u043e\u0442\u0430",children:"Content of Tab Pane 3"},"6"),Object(s.jsx)(Hc,{tab:"\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435",children:"Content of Tab Pane 3"},"7"),Object(s.jsx)(Hc,{tab:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},"8")]})]})},Xc=function(e){var t=Object(c.useState)([]),n=Object(o.a)(t,2),a=n[0],r=n[1];console.log(e.dayNumber," activeKey:",a);return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Object(s.jsx)("div",{className:"pb-5 pt-2",style:Bc,children:Object(s.jsx)(zc.a,{min:360,max:1440,vertical:!0,reverse:!0,range:!0,marks:Kc,defaultValue:[360,1080],tipFormatter:function(e){var t,n;if(e){var a=Math.floor(e/60);t=a.toString();var c=e-60*a;n=c<10?"0"+c.toString():c.toString()}else t=n="??";return Object(s.jsxs)(s.Fragment,{children:[t,":",n]})},className:""})}),Object(s.jsx)("div",{className:"p-2  bg-warning",children:"Flex item"}),Object(s.jsxs)("div",{className:"p-2 flex-grow-1",children:[Object(s.jsx)("h5",{children:"\u041a\u043e\u043d\u0442\u0435\u043a\u0441\u0442\u044b"}),Object(s.jsxs)(ia.a,{activeKey:a,defaultActiveKey:a,onChange:function(e){console.log(e),Array.isArray(e)?r(e):r([e])},children:[Object(s.jsxs)(qc,{header:Object(s.jsx)("p",{className:"text-left p-0 m-0",children:"\u0415\u0436\u0435\u0434\u043d\u0435\u0432\u043d\u043e"}),children:[Object(s.jsx)(de.a,{className:"mb-1",type:"primary",size:"small",children:"Add"}),Object(s.jsx)(Zn.b,{size:"small",bordered:!0,dataSource:Qc,renderItem:function(e){return Object(s.jsx)(Zn.b.Item,{children:e})}})]},"0"),Object(s.jsx)(qc,{header:Object(s.jsx)("p",{className:"text-left p-0 m-0",children:"\u0420\u0430\u0431\u043e\u0442\u0430"}),children:Object(s.jsx)(Zn.b,{size:"small",bordered:!0,dataSource:["\u041f\u0440\u043e\u0434\u0430\u0436\u0438","\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"],renderItem:function(e){return Object(s.jsx)(Zn.b.Item,{children:e})}})},"1"),Object(s.jsx)(qc,{header:"\u0414\u043e\u043c"},"2"),Object(s.jsx)(qc,{header:"\u0425\u043e\u0431\u0431\u0438"},"3"),Object(s.jsx)(qc,{header:"\u0421\u043f\u043e\u0440\u0442"},"4"),Object(s.jsx)(qc,{header:"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435"},"5")]})]})]})})},Qc=["\u041f\u043e\u0434\u044c\u0435\u043c","\u041e\u0442\u0431\u043e\u0439","\u0417\u0430\u0432\u0442\u0440\u0430\u043a","\u041e\u0431\u0435\u0434","\u0423\u0436\u0438\u043d","\u0414\u0443\u0448","\u041f\u043e\u0431\u0440\u0438\u0442\u0441\u044f","\u041f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0443\u0431\u044b (\u0443\u0442\u0440\u043e)","\u041f\u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0437\u0443\u0431\u044b (\u0432\u0435\u0447\u0435\u0440)"],Zc=Object(jt.d)(ut.j,Object(l.b)((function(e){var t;return{initialized:e.app.initialized,appLocation:e.app.location,isAuth:e.auth.isAuth,userStatus:null===(t=e.auth.user)||void 0===t?void 0:t.status}}),{initializeApp:function(){return function(e){var t=e(function(){var e=Object(Z.a)(Q.a.mark((function e(t,n){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:null!==(a=e.sent)&&0===a.data.resultCode&&t(ie.setAuthUserData(a.data.user,a.data.remember_token));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());Promise.all([t]).then((function(){e(ht())}))}},addLocation:function(e){return function(t){t(Ot(e))}},login:oe}))((function(e){var t=Object(c.useState)(Object(ut.h)().pathname),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){if(!e.initialized){var t=tr();t.email&&t.password&&(t.remember=!0,e.login(t)),"/front1/"===a&&(e.addLocation(a),r(a)),e.initializeApp()}}),[e,a]),e.initialized?Object(s.jsxs)(Rn.a,{children:[Object(s.jsx)(Jn,{}),Object(s.jsxs)(ut.d,{children:[e.isAuth?Object(s.jsx)(ut.b,{exact:!0,path:e.appLocation,render:function(){return Object(s.jsx)(ut.a,{to:e.appLocation+"toDoList"})}}):Object(s.jsx)(ut.b,{exact:!0,path:e.appLocation,render:function(){return Object(s.jsx)(ut.a,{to:e.appLocation+"login"})}}),e.isAuth?Object(s.jsx)(ut.b,{exact:!0,path:e.appLocation+"login",render:function(){return Object(s.jsx)(ut.a,{to:e.appLocation+"toDoList"})}}):null,Object(s.jsx)(ut.b,{path:e.appLocation+"login",render:function(){return Object(s.jsx)($n,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"toDoList",render:function(){return Object(s.jsx)(lt,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"tasksTree",render:function(){return Object(s.jsx)(_a,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"schedule",render:function(){return Object(s.jsx)($c,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"orders",render:function(){return Object(s.jsx)(Qn,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"providers",render:function(){return Object(s.jsx)(Uc,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"vocabulary",render:function(){return Object(s.jsx)(Ac,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"register",render:function(){return Object(s.jsx)(Pa,{})}}),Object(s.jsx)(ut.b,{path:e.appLocation+"users/:userId",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?as:nr}),Object(s.jsx)(ut.b,{exact:!0,path:e.appLocation+"users",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?qa:nr}),Object(s.jsx)(ut.b,{path:e.appLocation+"projects/:userId",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?jc:nr}),Object(s.jsx)(ut.b,{exact:!0,path:e.appLocation+"projects",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?cs:nr}),Object(s.jsx)(ut.b,{path:e.appLocation+"*",component:Ac})]})]}):Object(s.jsx)(ze.a,{size:"large"},"spin")})),er=function(){return Object(s.jsx)(dt.a,{children:Object(s.jsx)(l.a,{store:An,children:Object(s.jsx)("div",{className:f.isMobile?"":"container",children:Object(s.jsx)(Zc,{})})})})},tr=function(){var e={};return document.location.search.substr(1).split("&").forEach((function(t){var n=t.split("="),a=Object(o.a)(n,2),s=a[0],c=a[1];e[s]=c})),e},nr=function(e){return Object(s.jsx)(Fn.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(s.jsx)(de.a,{type:"primary",children:"Back Home"})})},ar=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,673)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(s.jsx)(er,{}),document.getElementById("root")),ar()}},[[643,1,2]]]);
//# sourceMappingURL=main.ccb2108f.chunk.js.map