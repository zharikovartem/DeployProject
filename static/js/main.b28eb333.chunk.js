(this.webpackJsonpFront2=this.webpackJsonpFront2||[]).push([[0],{354:function(e,t,n){},566:function(e,t,n){},570:function(e,t,n){},582:function(e,t,n){},592:function(e,t,n){},640:function(e,t,n){"use strict";n.r(t);var a,s=n(1),c=n(0),r=n(19),i=n.n(r),l=(n(354),n(18)),o=n(29),u=n(13),d=n(25),j=n(17),b=n(648),m=function(e){var t;return e||(t="Required!"),t},O=function(e){var t;return e?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e)||(t="Invalid email address!"):t="Required!",t},h=function(e){var t;if(e)if(1===e.length)Number(e)||"+"!==e&&(t="NOT NUMBER!");else if(e.length<9)t=Number(e)?"Phone number is short":"NOT NUMBER!";else if(9===e.length){e[0],e[1];t="Wrong prefix"}else e.length<12?"+"!==e[0]?t=Number(e)?"Phone number is short!":"NOT NUMBER!":Number(e)||(t="NOT NUMBER!"):13===e.length?"+"!==e[0]&&(t="Phone number is too long!"):e.length>13&&(t="Phone number is too long!");else t="Required!";return t},p=n(348),f=n(53),x=n(647),v=n(173),g=n(649),k=n(260),S=n(642),y=n(655),L=n(140),C=n.n(L),N=x.a.Item,T=v.a.Option,D=d.e.CheckboxItem,I=g.a.TextArea,w=function(e){return function(t){var n=t.field,a=t.form,c=t.hasFeedback,r=t.label,i=t.selectOptions,l=t.submitCount,o=t.type,d=Object(p.a)(t,["field","form","hasFeedback","label","selectOptions","submitCount","type"]),j=a.touched[n.name],b=l>0,m=a.errors[n.name],O=m&&b,h=m&&j,x=function(e){d.onChange&&(console.log("onChange field in create",e),d.onChange(n.name,e)),void 0===e?"select"!==o&&"time"!==o||a.setFieldValue(n.name,null):null===e?a.setFieldValue(n.name,null):"checkbox"===o?a.setFieldValue(n.name,e.target.checked):e.target?a.setFieldValue(n.name,e.target.value):"time"===o?a.setFieldValue(n.name,e):Array.isArray(e)?d.mode&&"multiple"===d.mode?a.setFieldValue(n.name,e):a.setFieldValue(n.name,e[0]):a.setFieldValue(n.name,e)},v=function(e){d.onChange&&(console.log("onChange field in create"),d.onChange(n.name,e)),"string"!==typeof e&&"checkbox"===e.target.type?a.setFieldValue(n.name,e.target.checked):a.setFieldValue(n.name,e)},g=function(){return a.setFieldTouched(n.name,!0)};return Object(s.jsx)(N,{label:f.isMobile?null:r,hasFeedback:!!(c&&b||c&&j),help:!(!O&&!h)&&m,validateStatus:O||h?"error":"success",children:f.isMobile?Object(s.jsx)(_,Object(u.a)(Object(u.a)({},d),{},{AntComponent:e,onBlur:g,type:o,onInputChange:x,onChange:v,label:r,selectOptions:i,value:n.value,onOk:d.onSelect})):Object(s.jsx)(e,Object(u.a)(Object(u.a)(Object(u.a)({},n),d),{},{allowClear:i?"true":"false",onBlur:g,onChange:o?x:v,checked:n.value,children:i&&i.map((function(e){return Object(s.jsx)(T,{title:e.name,value:e.value,children:e.name},e.name)}))}))})}},_=function(e){var t=Object(c.useState)("select"===e.type?[e.value]:e.value),n=Object(l.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){"select"!==e.type||Array.isArray(e.value)?r(e.value):r([e.value])}),[e.value,e.type]);var i;i=null!==e.selectOptions&&void 0!==e.selectOptions?e.selectOptions.map((function(e){return{label:e.name,value:e.value,key:e.name}})):[];var o,j=e.type,b="textarea"===e.type?{autoHeight:!0}:null,m=(e.type,function(e){r(e)}),O=e.disabled?{disabled:!0}:null;return e.AntComponent.onOk&&(o=function(t){r(t),e.onOk&&e.onOk(t)}),e.disabled,Object(s.jsx)(d.j,{children:Object(s.jsx)(e.AntComponent,Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({onBlur:e.onBlur,type:e.type,mode:j,defaultValue:a,defaultChecked:a,value:a,title:e.label,locale:C.a},b),O),{},{className:"text"===e.type?"pl-0":null,data:i,cols:1},o),m),{},{onChange:e.type?function(t){r(t),e.onInputChange(t),"checkbox"===e.type&&e.onOk(t)}:e.onChange,children:Object(s.jsx)(d.j.Item,{className:"pl-0",children:e.label})}),e.label)})},E=f.isMobile?w(d.o):w(v.a),M=f.isMobile?w(d.f):w(k.a),A=f.isMobile?w(d.i):w(g.a),R=f.isMobile?w(d.i):w(g.a.Password),F=f.isMobile?w(d.f):w(S.a),P=f.isMobile?w(D):w(y.a),V=f.isMobile?w(d.s):w(I),Y=n(27),U=n.n(Y),z=function(e){var t=new Date,n=[];return e&&(n=e.split(":")),t.setHours(n[0]?Number(n[0]):0),t.setMinutes(n[1]?Number(n[1]):0),t.setSeconds(n[2]?Number(n[2]):0),t.setMilliseconds(n[3]?Number(n[3]):0),t},q=z(),H=U()(q),K=z("23:00"),B=U()(K),J={timeScaleInrerval:!1,completeInrerval:!0,timeScaleSingle:!0,completeSingle:!0,timeStart:f.isMobile?q:H,timeEnd:f.isMobile?K:B},G=function(e){var t=null!==e.viewSettings?function(e){var t=e.timeStart.split(":"),n=e.timeEnd.split(":");return Object(u.a)(Object(u.a)({},e),{},{timeStart:f.isMobile?z(e.timeStart):U()().hours(t[0]).minutes(t[1]).seconds(0).milliseconds(0),timeEnd:f.isMobile?z(e.timeEnd):U()().hours(n[0]).minutes(n[1]).seconds(0).milliseconds(0)})}(e.viewSettings.ToDo):J;return Object(s.jsx)(b.a,{title:"Task display settings",visible:e.isModalVisible,onOk:e.handleOk,onCancel:e.handleCancel,children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t){e.changeSettings("ToDo",t),e.handleOk()},enableReinitialize:!0,children:$})})},$=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsxs)(d.j,{renderHeader:function(){return"Single date settings"},children:[Object(s.jsx)(j.a,{component:P,name:"timeScaleSingle",label:"is time scale visible",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"completeSingle",label:"is complete visible",submitCount:e.submitCount})]}),Object(s.jsxs)(d.j,{renderHeader:function(){return"Inrerval date settings"},children:[Object(s.jsx)(j.a,{component:P,name:"timeScaleInrerval",label:"is time scale visible",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"completeInrerval",label:"is complete visible",submitCount:e.submitCount})]}),Object(s.jsxs)(d.j,{renderHeader:function(){return"Work day info"},children:[Object(s.jsx)(j.a,{component:F,name:"timeStart",type:"time",label:"Start time",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:F,name:"timeEnd",type:"time",label:"End time",validate:m,submitCount:e.submitCount,hasFeedback:!0})]}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},W=n(31),X=n.n(W),Q=n(47),Z=n(328),ee=n.n(Z).a.create({withCredentials:!0,baseURL:"https://crmapiserver.h1n.ru/api/"});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(a||(a={}));var te=function(){return localStorage.getItem("remember_token")&&(ee.defaults.headers.common["X-Auth-Token"]=localStorage.getItem("remember_token")),sessionStorage.getItem("remember_token")&&(ee.defaults.headers.common["X-Auth-Token"]=sessionStorage.getItem("remember_token")),ee.defaults.headers.common["X-Auth-Token"]},ne=function(){var e="error";return localStorage.getItem("remember_token")&&(e=localStorage.getItem("remember_token")),sessionStorage.getItem("remember_token")&&(e=sessionStorage.getItem("remember_token")),ee.get("authMe/"+e).then((function(e){return e}))},ae=function(e){return ee.post("login",e).then((function(t){return e.remember?null!==t.data.remember_token?localStorage.setItem("remember_token",t.data.remember_token):localStorage.removeItem("remember_token"):null!==t.data.remember_token?sessionStorage.setItem("remember_token",t.data.remember_token):sessionStorage.removeItem("remember_token"),200===t.status?t:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},se=function(e){return ee.post("register",e).then((function(e){return null!==e.data.remember_token?localStorage.setItem("remember_token",e.data.token):localStorage.removeItem("remember_token"),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},ce={user:null,remember_token:null,isAuth:!1,viewSettings:{ToDo:{}},authError:null},re={setAuthUserData:function(e,t){return{type:"SN/AUTH/SET_USER_DATA",user:e,remember_token:t}},logout:function(){return{type:"SN/AUTH/LOGOUT"}},changeSettings:function(e,t){return{type:"SN/AUTH/SET_SETTINGS_DATA",settingType:e,settings:t}},setAuthError:function(e){return{type:"SN/AUTH/SET_AUTH_ERROR",error:e}}},ie=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(e);case 2:(s=t.sent)&&(200===s.status?n(re.setAuthUserData(s.data.user,s.data.remember_token)):n(re.setAuthError(s.data.message)));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH_ERROR":return Object(u.a)(Object(u.a)({},e),{},{authError:t.error});case"SN/AUTH/SET_SETTINGS_DATA":var n=Object(u.a)({},e.viewSettings),a="";a=U.a.isMoment(t.settings.timeStart)?t.settings.timeStart.format("h:mm A"):t.settings.timeStart.toTimeString().split(" ")[0];var s="";return s=U.a.isMoment(t.settings.timeEnd)?t.settings.timeEnd.format("h:mm A"):t.settings.timeEnd.toTimeString().split(" ")[0],n[t.settingType]=Object(u.a)(Object(u.a)({},t.settings),{},{timeStart:a,timeEnd:s}),Object(u.a)(Object(u.a)({},e),{},{viewSettings:n});case"SN/AUTH/SET_USER_DATA":return null!==t.user?Object(u.a)(Object(u.a)({},e),{},{user:t.user,remember_token:t.remember_token,isAuth:!0,viewSettings:JSON.parse(t.user.view_settings),authError:null}):ce;case"SN/AUTH/LOGOUT":return localStorage.removeItem("remember_token"),sessionStorage.removeItem("remember_token"),ce;default:return e}},oe=Object(o.b)((function(e){return{viewSettings:e.auth.viewSettings}}),{changeSettings:re.changeSettings})(G),ue=n(100),de=n(659),je=n(660),be=k.a.RangePicker,me=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)({startDate:U()(),endDate:U()()}),o=Object(l.a)(i,2),u=o[0],d=o[1];Object(c.useEffect)((function(){e.dateInterval.startDate.isSame(u.startDate.format("YYYY-MM-DD"),"day")&&e.dateInterval.endDate.isSame(u.endDate.format("YYYY-MM-DD"),"day")||e.setIsInterval(a,u)}),[a,u,e]);return Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsxs)("div",{className:"col-12 col-md-9 col-lg-9 col-xl-7 w-100",children:[Object(s.jsx)("div",{className:"d-none d-sm-inline",children:Object(s.jsxs)("label",{children:[a?"Date interval":"Date",":"]})}),Object(s.jsx)("div",{className:"d-none d-inline",children:a?Object(s.jsx)(be,{onChange:function(e,t){null!==e&&null!==e[0]&&null!==e[1]&&d({startDate:e[0],endDate:e[1]})},defaultValue:[e.dateInterval.startDate,e.dateInterval.endDate],value:[e.dateInterval.startDate,e.dateInterval.endDate],format:"DD-MM-YYYY",style:{marginLeft:10}}):Object(s.jsx)(k.a,{onChange:function(e,t){null!==e&&d({startDate:e,endDate:e})},defaultValue:e.dateInterval.startDate,format:"DD-MM-YYYY",style:{marginLeft:10}})})]}),Object(s.jsx)("div",{className:"col-12 col-md-3 col-lg-3 col-xl-2 m-2 m-md-0",children:Object(s.jsx)(y.a,{className:"ml-3",onChange:function(t){t.target.checked||d({startDate:u.startDate,endDate:u.startDate}),r(t.target.checked),e.setIsInterval(t.target.checked,e.dateInterval)},children:"Date interval"})}),e.isReadOnly?null:Object(s.jsxs)("div",{className:"col-12 col-md-12 col-lg-4 col-xl-3 mt-lg-2",children:[Object(s.jsx)(ue.a,{type:"primary",shape:"round",icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(de.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Add"})]}),style:{marginLeft:10},onClick:e.showDrawer}),Object(s.jsx)(ue.a,{className:"",type:"primary",shape:"round",style:{marginLeft:10},onClick:e.showModal,icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(je.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Settings"})]})})]})]})},Oe=function(e){return ee.post("tasks",e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},he=function(e){return te(),ee.post("tasks/part",e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},pe=function(e){return te(),ee.delete("tasks/".concat(e)).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},fe=function(e,t){return te(),ee.put("tasks/".concat(t),e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},xe={taskList:null,taskListIsFetching:!1,taskSaveStatus:"no",errorMessage:null,isInterval:!1,dateInterval:{startDate:U()(),endDate:U()()}},ve={setTaskList:function(e){return{type:"SN/TASK/SET_TASK_LIST",taskList:e}},setTaskSaveStatus:function(e){return{type:"SN/TASK/SET_TASK_SAVE_STATUS",taskSaveStatus:e}},setErrorMessage:function(e){return{type:"SN/TASK/SET_ERROR_MESSAGE",message:e}},setTaskListIsFetching:function(e){return{type:"SN/TASK/SET_TASK_LIST_IS_FETCHING",isFetchingValue:e}},setIsInterval:function(e,t){return{type:"SN/TASK/SET_IS_INTERVAL",isInterval:e,date:t}},editTaskList:function(e){return{type:"SN/TASK/EDIT_TASK_LIST",task:e}}},ge=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c,r,i,l;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ve.setTaskSaveStatus("inProgress")),n.next=3,Oe(e);case 3:(c=n.sent)&&c.status&&200===c.status?(t&&(r=s(),i=r.task.dateInterval.startDate.format("YYYY-MM-DD"),l=r.task.dateInterval.endDate.format("YYYY-MM-DD"),a(ke(i,l))),a(ve.setTaskSaveStatus("success")),a(ve.setTaskSaveStatus("no"))):c&&c.data&&(a(ve.setErrorMessage(c.data.message)),a(ve.setTaskSaveStatus("error")),a(ve.setTaskSaveStatus("no")),a(ve.setErrorMessage(null)));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},ke=function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c,r;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ve.setTaskListIsFetching(!0)),c={start_date:e,end_date:t},n.next=4,he(c);case 4:void 0!==(r=n.sent)&&null!==r&&a(ve.setTaskList(r.data)),a(ve.setTaskListIsFetching(!1));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Se=function(e,t,n){return function(){var a=Object(Q.a)(X.a.mark((function a(s,c){return X.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe(e);case 2:null!==a.sent&&(s(ve.setErrorMessage("Task deletion was successful")),s(ke(t,n)),s(ve.setErrorMessage(null)));case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},ye=function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe(e,t);case 2:c=n.sent,a(ve.editTaskList(c.data[0]));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/TASK/EDIT_TASK_LIST":if(null!==e.taskList){var n=e.taskList.map((function(e){return t.task.id===e.id?t.task:e}));return Object(u.a)(Object(u.a)({},e),{},{taskList:n})}return e;case"SN/TASK/SET_TASK_LIST":return Object(u.a)(Object(u.a)({},e),{},{taskList:t.taskList.Tasks});case"SN/TASK/SET_TASK_SAVE_STATUS":return Object(u.a)(Object(u.a)({},e),{},{taskSaveStatus:t.taskSaveStatus});case"SN/TASK/SET_ERROR_MESSAGE":return Object(u.a)(Object(u.a)({},e),{},{errorMessage:t.message});case"SN/TASK/SET_TASK_LIST_IS_FETCHING":return Object(u.a)(Object(u.a)({},e),{},{taskListIsFetching:t.isFetchingValue});case"SN/TASK/SET_IS_INTERVAL":var a={startDate:t.date.startDate,endDate:t.date.endDate};return Object(u.a)(Object(u.a)({},e),{},{isInterval:t.isInterval,dateInterval:a});default:return e}},Ce=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)("div",{className:"w-100",children:[Object(s.jsx)(d.f,{locale:C.a,mode:"date",value:e.dateInterval.startDate.toDate(),onChange:function(t){a?e.setIsInterval(a,{startDate:U()(t),endDate:e.dateInterval.endDate}):e.setIsInterval(a,{startDate:U()(t),endDate:U()(t)})},children:Object(s.jsx)(d.j.Item,{className:"w-100",children:a?"Start:":"Date:"})}),a?Object(s.jsx)(d.f,{locale:C.a,mode:"date",value:e.dateInterval.endDate.toDate(),onChange:function(t){e.setIsInterval(a,{startDate:e.dateInterval.startDate,endDate:U()(t)})},children:Object(s.jsx)(d.j.Item,{children:"End:"})}):null,Object(s.jsx)(d.j.Item,{extra:Object(s.jsx)(d.r,{checked:a,onChange:function(t){t?e.setIsInterval(!a,{startDate:e.dateInterval.startDate,endDate:e.dateInterval.endDate}):e.setIsInterval(!a,{startDate:e.dateInterval.startDate,endDate:e.dateInterval.startDate}),r(!a)}}),children:"Date interval"}),e.isReadOnly?null:Object(s.jsxs)("div",{className:"mt-3",children:[Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3",onClick:e.showDrawer?e.showDrawer:function(){},type:"primary",children:e.isOpen?"Close":"Add"}),Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3",onClick:e.showModal?e.showModal:function(){},type:"primary",children:"Settings"})]})]})},Ne=Object(o.b)((function(e){return{dateInterval:e.task.dateInterval}}),{setIsInterval:ve.setIsInterval})(f.isMobile?Ce:me),Te=function(e){var t="readOnly"===e.initialStatus;return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,disabled:t}),Object(s.jsx)(j.a,{component:M,name:"date",type:"date",label:"Task date",validate:m,submitCount:e.submitCount,disabled:t}),Object(s.jsx)(j.a,{component:F,name:"time",type:"time",label:"Task time",validate:m,submitCount:e.submitCount,disabled:t}),Object(s.jsx)(j.a,{component:V,name:"descriptions",type:"textarea",label:"Descriptions",submitCount:e.submitCount,disabled:t}),t?null:Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},De=n(154),Ie=n(643),we={header:"Create New Task",taskId:!1},_e={name:"",time:z(),date:new Date,descriptions:""},Ee=function(e){Object(c.useEffect)((function(){null===e.taskList&&e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e]),Object(c.useEffect)((function(){e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e.dateInterval,e.getTaskList]),Object(c.useEffect)((function(){e.isInterval?k(e.viewSettings.ToDo.timeScaleInrerval):k(e.viewSettings.ToDo.timeScaleSingle)}),[e.isInterval,e.viewSettings]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),b=o[0],m=o[1],O=Object(c.useState)(we),h=Object(l.a)(O,2),p=h[0],f=h[1],x=Object(c.useState)(e.viewSettings.ToDo.timeScaleSingle),v=Object(l.a)(x,2),g=v[0],k=v[1],S=Object(c.useState)(_e),y=Object(l.a)(S,2),L=y[0],C=y[1],N=function(){a&&(C(_e),f(we)),r(!a)},T=function(t){var n=Object(u.a)(Object(u.a)({},t),{},{isCompleted:!t.isCompleted});e.updateTask(n,t.id)};return null!==e.taskList?Object(s.jsxs)(d.u,{size:"lg",children:[Object(s.jsx)(d.t,{size:"lg"}),Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.d.Header,{title:Object(s.jsx)(Ne,{showDrawer:N,showModal:function(){m(!0)},isOpen:a})}),Object(s.jsx)(oe,{isModalVisible:b,handleOk:function(){m(!1)},handleCancel:function(){m(!1)}}),Object(s.jsx)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(j.c,{initialValues:L,onSubmit:function(t,n){var a=Object(u.a)(Object(u.a)({},t),{},{time:U()(t.time).format("HH:mm:ss"),date:U()(t.date).format("YYYY-MM-DD"),user_id:e.userId});p.taskId?e.updateTask(a,p.taskId):e.createNewTask(a,!0),n.resetForm(),N()},enableReinitialize:!0,children:Te})}),open:a,children:Object(s.jsx)(d.j,{children:g?Object(s.jsx)(Ae,{taskList:e.taskList,dateInterval:e.dateInterval,deleteTask:e.deleteTask,setDrawerData:f,setInitialFormValues:C,showDrawer:N,onComplete:T}):Object(s.jsx)(Re,{taskList:e.taskList,dateInterval:e.dateInterval,deleteTask:e.deleteTask,setDrawerData:f,setInitialFormValues:C,showDrawer:N,onComplete:T})})})]})]}):Object(s.jsx)(De.a,{})},Me=function(e){return e.isReadOnly?Object(s.jsx)(d.j.Item,{wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-2 ",children:Object(s.jsx)("span",{className:"ml-3",children:e.element.time.split(/:/)[0]+":"+e.element.time.split(/:/)[1]})}),Object(s.jsx)("div",{className:"col-10",children:e.element.isCompleted?Object(s.jsx)("span",{className:"text-break ml-3",style:{textDecoration:e.element.isCompleted?"line-through":""},children:e.element.name}):Object(s.jsx)("span",{className:"text-break ml-3",children:e.element.name})})]},e.element.id.toString())},e.element.id.toString()):Object(s.jsx)(d.q,{style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"Delete",onPress:function(){return e.deleteTask(e.element.id,e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))},style:{backgroundColor:"#F4333C",color:"white"}}],left:[{text:"Edit",onPress:function(){!function(t){e.setDrawerData({header:'Edite "'+t.name+'"',taskId:t.id});var n=z(t.time),a=t.date.split(/-/),s=new Date;s.setFullYear(parseInt(a[0])),s.setMonth(parseInt(a[1])-1),s.setDate(parseInt(a[2])),e.setInitialFormValues({name:t.name,time:n,date:s,descriptions:t.descriptions?t.descriptions:null}),e.showDrawer()}(e.element)},style:{backgroundColor:"#108ee9",color:"white"}},{text:e.element.isCompleted?"Not Done":"Done",onPress:function(){return e.onComplete(e.element)},style:{backgroundColor:"green",color:"white"}}],onOpen:function(){},onClose:function(){},children:Object(s.jsx)(d.j.Item,{wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-2 ",children:Object(s.jsx)("span",{className:"ml-3",children:e.element.time.split(/:/)[0]+":"+e.element.time.split(/:/)[1]})}),Object(s.jsx)("div",{className:"col-10",children:e.element.isCompleted?Object(s.jsx)("span",{className:"text-break ml-3",style:{textDecoration:e.element.isCompleted?"line-through":""},children:e.element.name}):Object(s.jsx)("span",{className:"text-break ml-3",children:e.element.name})})]},e.element.id.toString())},e.element.id.toString())},e.element.id)},Ae=function(e){for(var t=U()(e.dateInterval.startDate),n=[];U()(t.format("YYYY-MM-DD")).isSameOrBefore(U()(e.dateInterval.endDate.format("YYYY-MM-DD")));)n.push(U()(t)),t.add(1,"days");var a=function(t,n){var a=[];return null!==e.taskList&&(a=e.taskList.filter((function(e){return e.date===t&&U()().hours(n).format("HH")===e.time.split(":")[0]})).map((function(t){return Object(s.jsx)(Me,{element:t,dateInterval:e.dateInterval,deleteTask:e.deleteTask?e.deleteTask:function(){},setDrawerData:e.setDrawerData?e.setDrawerData:function(){},setInitialFormValues:e.setInitialFormValues?e.setInitialFormValues:function(){},showDrawer:e.showDrawer?e.showDrawer:function(){},onComplete:e.onComplete?e.onComplete:function(){},isReadOnly:!!e.isReadOnly&&e.isReadOnly},t.id.toString())}))),a},c=function(e){for(var t=[],n=0;n<24;n++)t.push(Object(s.jsxs)("div",{children:[Object(s.jsxs)(Ie.a,{orientation:"left",children:[n<=9?"0":null,n,":00"]},n+"to"+e),a(e,n)]},n+"div"));return t};return Object(s.jsx)(s.Fragment,{children:n.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:e.format("DD MMMM")},e.format("DD MMMM")+"dateHeader"),c(e.format("YYYY-MM-DD"))]},e.format("DD MMMM")+"divBlock")}))})},Re=function(e){for(var t=U()(e.dateInterval.startDate),n=[];U()(t.format("YYYY-MM-DD")).isSameOrBefore(U()(e.dateInterval.endDate.format("YYYY-MM-DD")));)n.push(U()(t)),t.add(1,"days");return Object(s.jsx)(s.Fragment,{children:n.map((function(t){var n;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:t.format("DD MMMM")}),null===(n=e.taskList)||void 0===n?void 0:n.map((function(n){return n.date===t.format("YYYY-MM-DD")?Object(s.jsx)(Me,{element:n,dateInterval:e.dateInterval,deleteTask:e.deleteTask?e.deleteTask:function(){},setDrawerData:e.setDrawerData?e.setDrawerData:function(){},showDrawer:e.showDrawer?e.showDrawer:function(){},setInitialFormValues:e.setInitialFormValues?e.setInitialFormValues:function(){},onComplete:e.onComplete?e.onComplete:function(){},isReadOnly:!!e.isReadOnly&&e.isReadOnly},n.id.toString()):null}))]},t.format("DD MMMM"))}))})},Fe=n(656),Pe=n(650),Ve=n(347),Ye=n(329),Ue=n(219),ze=n(152),qe=n(89),He=n(646),Ke=n(662),Be=n(663),Je=n(661),Ge=function(e){switch(e.action){case 2:return Object(s.jsx)($e,Object(u.a)({},e));default:return Object(s.jsx)(s.Fragment,{})}},$e=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=JSON.parse(e.action_data),o="tel:";return i&&(o+=i.phone),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ue.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){r(!0)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Je.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsxs)(b.a,{title:"Call to "+i.name,visible:a,onOk:function(){r(!1)},onCancel:function(){r(!1)},width:1e3,centered:!0,children:[i?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:Object(s.jsxs)("a",{href:o,children:["Call to: ",i.name]})}),Object(s.jsxs)("p",{children:["number: ",i.phone]})]}):null,Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(e){console.log(e)},enableReinitialize:!0,children:We})]})]})},We=function(e){return Object(s.jsxs)(j.b,{className:"form-container mt-4",onSubmit:e.handleSubmit,children:["Call result:",Object(s.jsx)(j.a,{component:V,name:"call_description",type:"textarea",label:"",submitCount:e.submitCount}),Object(s.jsxs)("div",{className:"submit-container",children:[Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"}),Object(s.jsx)("button",{className:"ant-btn ant-btn-primary ml-4",type:"submit",children:"Save and complete"})]})]})},Xe=function(e){var t=Object(c.useState)(e.element.isCompleted),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1],b=e.isReadOnly?{disabled:!0}:null;return Object(s.jsx)(He.a.Item,{as:"li",action:!0,className:"",children:Object(s.jsxs)(ze.a,{className:"px-0 ml-0 ml-sm-5",children:[Object(s.jsx)(qe.a,{className:"mx-2",children:Object(s.jsx)(y.a,Object(u.a)({onChange:function(t){console.log(e.isReadOnly),r(!a);var n={isCompleted:t.target.checked};e.element.id,e.updateTask(n,e.element.id)},checked:a},b))}),Object(s.jsx)(qe.a,{className:"mx-2",children:e.element.time.split(":",2).join(":")}),Object(s.jsx)(qe.a,{className:"mx-2",children:Object(s.jsx)(Ue.a,{placement:"topLeft",title:e.element.descriptions,children:Object(s.jsx)("span",{style:{textDecoration:a?"line-through":""},children:e.element.name})},e.element.id)}),e.isReadOnly?null:Object(s.jsxs)(qe.a,{className:"mr-auto ml-0 mr-sm-2 ml-sm-auto",children:[Object(s.jsx)(Ge,Object(u.a)({},e.element)),Object(s.jsx)(ue.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){var t;t=e.element,e.onEdit(t)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Ke.a,{className:"ml-1",style:{fontSize:"14px"}})})}),d?Object(s.jsx)(Ye.a,{size:"small"},"spin"):Object(s.jsx)(ue.a,{danger:!0,type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){var t;t=e.element.id,j(!0),e.deleteTask(t,e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Be.a,{className:"ml-1",style:{fontSize:"14px"}})})})]})]})},e.element.id)},Qe=Object(o.b)((function(e){return{dateInterval:e.task.dateInterval}}),{deleteTask:Se,getTaskList:ke,updateTask:ye})(Xe),Ze=function(e){return"date"===e?function(e,t){return e.date>t.date?1:-1}:function(e,t){return e.time>t.time?-1:1}},et=function(e){var t=Object(c.useState)({startDate:U()(null),endDate:U()()}),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){e.dateInterval.startDate.isSame(a.startDate.format("YYYY-MM-DD"),"day")&&e.dateInterval.endDate.isSame(a.endDate.format("YYYY-MM-DD"),"day")||null!==e.dateInterval.startDate&&(e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD")),r(e.dateInterval))}),[e.dateInterval,e.getTaskList,a]),Object(c.useEffect)((function(){null!==e.errorMessage&&Ve.b.success(e.errorMessage)}),[e.errorMessage]),void 0!==e.taskList?null!==e.taskList?Object(s.jsx)(s.Fragment,{children:tt(e.taskList,e.isInterval,e.onEdit,!!e.isReadOnly&&e.isReadOnly)}):Object(s.jsx)(Ye.a,{size:"large"},"spin"):Object(s.jsx)("div",{children:"Authorization required to get a list of tasks"})},tt=function e(t,n,a,c){var r=[],i=[];t.sort(Ze("time")).sort(Ze("date"));var l=function(e){return U()(e.date).format("D MMMM")},o=null;null!==t&&t.length>0&&(o=l(t[0]),r.push(Object(s.jsxs)("h5",{className:n?"text-left":"",children:[o,":"]},o)));for(var u=0;u<24;u++){if(!(t.length>0)){r.push(Object(s.jsx)("h3",{children:"no tasks"},"noTasks"+u));break}if(!n&&u>7&&r.push(Object(s.jsxs)(Ie.a,{orientation:"left",children:[u<=9?"0":null,u,":00"]},u+"to"+o)),null!==t)for(var d=0;d<t.length;d++){var j=t[d],b=Number(j.time.split(":",1));b>=u&&b<u+1&&(l(j)===o?r.push(Object(s.jsx)(Ue.a,{placement:"topLeft",title:j.descriptions,children:Object(s.jsx)(He.a,{as:"ul",children:Object(s.jsx)(Qe,{element:j,onEdit:a,isReadOnly:c},u)},u)},u+"-"+j.id)):i.push(j))}}return i.length>0&&(r=r.concat(e(i,n,a,c))),r},nt=Object(o.b)((function(e){return{taskList:e.task.taskList,taskSaveStatus:e.task.taskSaveStatus,taskListIsFetching:e.task.taskListIsFetching,dateInterval:e.task.dateInterval,errorMessage:e.task.errorMessage,isInterval:e.task.isInterval,settings:e.auth.viewSettings}}),{getTaskList:ke})(et),at={header:"Create New Task",taskId:!1},st=U()();st.hours(0),st.minutes(0),st.seconds(0),st.milliseconds(0);var ct={name:"",time:st,date:U()(),descriptions:""},rt=function(e){Object(c.useEffect)((function(){null===e.taskList&&e.getTaskList(e.dateInterval.startDate.format("YYYY-MM-DD"),e.dateInterval.endDate.format("YYYY-MM-DD"))}),[e.taskList,e.getTaskList,e.dateInterval]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),d=o[0],b=o[1],m=Object(c.useState)(at),O=Object(l.a)(m,2),h=O[0],p=O[1],f=Object(c.useState)(ct),x=Object(l.a)(f,2),v=x[0],g=x[1];Object(c.useEffect)((function(){}),[v]);var k=function(){r(!0)},S=function(){g(ct),p(Object(u.a)({},at)),r(!1)};return Object(s.jsxs)(Fe.a,{title:Object(s.jsx)(Ne,{showDrawer:k,showModal:function(){b(!0)}}),bordered:!1,children:[Object(s.jsx)(oe,{isModalVisible:d,handleOk:function(){b(!1)},handleCancel:function(){b(!1)}}),Object(s.jsx)(nt,{onEdit:function(e){p({header:'Edite "'+e.name+'"',taskId:e.id});var t=e.time.split(/:/);g({name:e.name,time:U()().hours(Number(t[0])).minutes(Number(t[1])).seconds(0),date:U()(e.date),descriptions:e.descriptions?e.descriptions:null}),k()}}),Object(s.jsx)(Pe.a,{title:h.header,placement:"right",closable:!0,onClose:S,visible:a,width:"90%",children:Object(s.jsx)(j.c,{initialValues:v,onSubmit:function(t,n){var a=Object(u.a)(Object(u.a)({},t),{},{time:t.time.format("HH:mm:ss"),date:t.date.format("YYYY-MM-DD"),user_id:e.userId});h.taskId?e.updateTask(a,h.taskId):e.createNewTask(a,!0),n.resetForm(),S()},enableReinitialize:!0,children:Te})})]})},it=Object(o.b)((function(e){var t;return{taskList:e.task.taskList,viewSettings:e.auth.viewSettings,isInterval:e.task.isInterval,dateInterval:e.task.dateInterval,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id}}),{getTaskList:ke,createNewTask:ge,updateTask:ye,deleteTask:Se})(f.isMobile?Ee:rt),lt=n(60),ot=n(62),ut=(n(566),n(567),n(568),n(569),n(112)),dt=n(332),jt={initialized:!1,location:"/"},bt=function(){return{type:"SN/APP/INITIALIZED_SUCCESS"}},mt=function(e){return{type:"SN/APP/SET_LOCATION",location:e}},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/INITIALIZED_SUCCESS":return Object(u.a)(Object(u.a)({},e),{},{initialized:!0});case"SN/APP/SET_LOCATION":return Object(u.a)(Object(u.a)({},e),{},{location:t.location});default:return e}},ht={isModalVisible:!1,codeRowsArray:[],codeType:"model",codeTargetName:""},pt={setShowCodeModal:function(e,t,n,a,s){return{type:"SN/CODE/SET_SHOW_CODE_MODAL",isShow:e,codeType:t,codeRowsArray:n,codeTargetName:a,codeData:s}},setCodeTarget:function(e,t){return{type:"SN/CODE/SET_CODE_TARGET",codeTargetName:e,codeData:t}}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CODE/SET_SHOW_CODE_MODAL":return console.log("SN/CODE/SET_SHOW_CODE_MODAL"),Object(u.a)(Object(u.a)({},e),{},{isModalVisible:t.isShow,codeRowsArray:t.codeRowsArray});case"SN/CODE/SET_CODE_TARGET":return console.log(t.codeTargetName),console.log(t.codeData),Object(u.a)(Object(u.a)({},e),{},{codeTargetName:t.codeTargetName,codeData:t.codeData});default:return e}},xt=function(){return te(),ee.get("project").then((function(e){return console.log("projectAPI.getProjects:",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},vt=function(e){return te(),ee.get("project/"+e).then((function(e){return console.log("projectAPI.getBackendData:",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},gt=function(e,t){return te(),ee.put("backend/".concat(t),e).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},kt=function(e){return te(),ee.get("models/"+e).then((function(e){return console.log("modelsAPI.getModelsList",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},St=function(e,t){return console.log(e),console.log("modelId",t),ee.put("models/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},yt=function(e){return ee.post("models",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Lt=function(e){return te(),ee.get("currentControllers/"+e).then((function(e){return console.log("controllersAPI.getControllersList",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Ct=function(e){return ee.post("controllers",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Nt=function(e,t){return console.log(e),console.log("controllerId",t),ee.put("controllers/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Tt=function(){return te(),ee.get("controllerMethods").then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Dt=function(e){return ee.post("controllerMethods",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},It=function(e,t){return console.log(e),console.log("modelId",t),ee.put("controllerMethods/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},wt={projectList:[],isProjectLoaded:!1,modelsList:[],controllersList:[],controllerMethodsList:[]},_t=function(e){return{type:"SN/PROJECT/SET_PROJECT_LIST",projectList:e}},Et=function(e){return{type:"SN/PROJECT/SET_IS_LOADED",isLoaded:e}},Mt=function(e,t){return{type:"SN/PROJECT/SET_BACKEND_DATA",backendData:t,projectId:e}},At=function(e){return{type:"SN/PROJECT/SET_MODELS_LIST",modelsList:e}},Rt=function(e){return{type:"SN/PROJECT/SET_CONTROLLERS_LIST",controllersList:e}},Ft=function(e){return{type:"SN/PROJECT/SET_CONTROLLER_METHOD_LIST",controllerMethodsList:e}},Pt=function(){return function(){var e=Object(Q.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xt();case 2:void 0!==(a=e.sent)&&null!==a&&(t(Et(!0)),t(_t(a.data.projects)));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Vt=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,kt(e);case 2:s=t.sent,n(At(s.data.models));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Yt=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ct(e);case 2:s=t.sent,console.log(s),n(Rt(s.data.controllers));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Ut=function(){return function(){var e=Object(Q.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tt();case 2:a=e.sent,t(Ft(a.data.controllerMethods));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},zt=function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,It(e,t);case 2:c=n.sent,a(Ft(c.data.controllerMethods));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},qt=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Dt(e);case 2:s=t.sent,console.log(s),n(Ft(s.data.controllerMethods));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROJECT/SET_CONTROLLER_METHOD_LIST":return Object(u.a)(Object(u.a)({},e),{},{controllerMethodsList:t.controllerMethodsList});case"SN/PROJECT/SET_CONTROLLERS_LIST":return Object(u.a)(Object(u.a)({},e),{},{controllersList:t.controllersList});case"SN/PROJECT/SET_MODELS_LIST":return Object(u.a)(Object(u.a)({},e),{},{modelsList:t.modelsList});case"SN/PROJECT/SET_PROJECT_LIST":return Object(u.a)(Object(u.a)({},e),{},{projectList:t.projectList});case"SN/PROJECT/SET_IS_LOADED":return Object(u.a)(Object(u.a)({},e),{},{isProjectLoaded:t.isLoaded});case"SN/PROJECT/SET_BACKEND_DATA":return Object(u.a)(Object(u.a)({},e),{},{projectList:e.projectList.map((function(e){return t.projectId===e.id?(e.backendData=t.backendData,e):e}))});default:return e}},Kt=n(95),Bt=function(){return te(),ee.get("taskList").then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Jt=function(e){return console.log(e),ee.post("taskList",e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},Gt=function(e){return ee.delete("taskList/".concat(e)).then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},$t=function(e,t){return console.log(e),ee.put("taskList/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},Wt={taskList:[],taskListIsFetching:!1,isTaskListLoaded:!1,selectedTasks:[]},Xt={setTaskList:function(e){return{type:"SN/TASK_LIST/SET_TASK_LIST",taskList:e}},setSelectedTasks:function(e){return{type:"SN/TASK_LIST/SET_SELECTED_TASK",taskId:e}},backSelectedTasks:function(){return{type:"SN/TASK_LIST/BACK_SELECTED_TASK"}}},Qt=function(){return function(){var e=Object(Q.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt();case 2:void 0!==(a=e.sent)&&null!==a&&t(Xt.setTaskList(a.data.Tasks));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Zt=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Jt(e);case 2:s=t.sent,n(Xt.setTaskList(s.data.Tasks));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},en=function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gt(e);case 2:s=t.sent,n(Xt.setTaskList(s.data.Tasks));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},tn=function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,$t(e,t);case 2:c=n.sent,a(Xt.setTaskList(c.data.Tasks));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/TASK_LIST/BACK_SELECTED_TASK":var n=Object(Kt.a)(e.selectedTasks);return n.length>0&&n.pop(),Object(u.a)(Object(u.a)({},e),{},{selectedTasks:n});case"SN/TASK_LIST/SET_SELECTED_TASK":return Object(u.a)(Object(u.a)({},e),{},{selectedTasks:[].concat(Object(Kt.a)(e.selectedTasks),[t.taskId])});case"SN/TASK_LIST/SET_TASK_LIST":return Object(u.a)(Object(u.a)({},e),{},{taskList:t.taskList,isTaskListLoaded:!0});default:return e}},an=function(){return te(),ee.get("account").then((function(e){return 200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},sn=function(e,t){return te(),ee.put("account/".concat(t),e).then((function(e){return console.log(e),200===e.status?e:null})).catch((function(e){return e.response?(console.log(e.response),e.response):(e.request,null)}))},cn={usersList:[],isUsersDataChanged:!1},rn={setUsersList:function(e){return{type:"SN/USERS/SET_USERS_LIST",usersList:e}},updateUserList:function(e){return{type:"SN/USERS/UPDATE_USERS_LIST",changedUserData:e}},setUsersDataChanged:function(e){return{type:"SN/USERS/SET_IS_USERS_DATA_CHANGED",isUsersDataChanged:e}}},ln=function(){return function(){var e=Object(Q.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,an();case 2:a=e.sent,t(rn.setUsersList(a.data.UsersList));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},on=function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c,r,i;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,sn(e,t);case 2:c=n.sent,a(rn.updateUserList(c.data.changedUserData)),a(rn.setUsersDataChanged(!0)),(r=s()).auth.user&&r.auth.user.id===c.data.changedUserData.id&&(i=c.data.changedUserData,a(re.setAuthUserData(i,null)));case 7:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/SET_IS_USERS_DATA_CHANGED":return Object(u.a)(Object(u.a)({},e),{},{isUsersDataChanged:t.isUsersDataChanged});case"SN/USERS/UPDATE_USERS_LIST":var n=Object(u.a)({},e),a=n.usersList.map((function(e){return e.id!==t.changedUserData.id?e:t.changedUserData}));return Object(u.a)(Object(u.a)({},e),{},{usersList:a});case"SN/USERS/SET_USERS_LIST":return Object(u.a)(Object(u.a)({},e),{},{usersList:t.usersList});default:return e}},dn=function(e){return ee.get("getVocabularyPart/"+e).then((function(e){return console.log("getVocabularyPart: ",e),200===e.status?e:null})).catch((function(e){return e.response?e.response:(e.request,null)}))},jn={vocabularyList:[],part:1,count:0},bn=function(e,t,n){return{type:"SN/USERS/SET_VOCABULARY_LIST",vocabularyList:e,part:t,count:n}},mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/SET_VOCABULARY_LIST":return Object(u.a)(Object(u.a)({},e),{},{vocabularyList:t.vocabularyList,part:t.part,count:t.count});default:return e}},On=Object(ut.c)({task:Le,app:Ot,auth:le,taskList:nn,users:un,projects:Ht,code:ft,vocabulary:mn}),hn=Object(ut.e)(On,Object(ut.a)(dt.a)),pn=hn,fn=n(645),xn=n(654),vn=(n(570),d.p.Item),gn=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(s.jsx)("div",{className:"mr-3",children:Object(s.jsx)(d.p,{mask:!0,visible:a,overlay:[Object(s.jsx)(vn,{children:"Logout"},"1"),Object(s.jsx)(vn,{children:"Info"},"2"),Object(s.jsx)(vn,{children:"Help"},"3")],onVisibleChange:function(e){r(e)},onSelect:function(t,n){switch(r(!1),t.props.children){case"Logout":e.onLogout()}},children:Object(s.jsx)("div",{style:{height:"100%",padding:"0 15px",marginRight:"-20px",display:"flex",alignItems:"center"},children:Object(s.jsx)(d.h,{type:"ellipsis"})})})})},kn=function(e){var t,n=Object(lt.g)(),a=Object(lt.h)(),r=Object(c.useState)(!1),i=Object(l.a)(r,2),o=i[0],u=i[1],j=Object(c.useState)(function(){var t=[e.menuData[0].value,""];return e.menuData.forEach((function(e){e.children&&e.children.forEach((function(n){n.value===a.pathname&&(t=[e.value,n.value])}))})),t}()),b=Object(l.a)(j,2),m=b[0],O=b[1],h=function(t){if(t){var a=t[0];e.menuData.forEach((function(e){e.value===t[0]&&(a=t[0],e.children&&t[1]&&e.children.forEach((function(e){e.value===t[1]&&(n.replace("".concat(e.value)),u(!1))})))})),""===a&&(a=e.menuData[0].value),O([a,t[1]])}},p=Object(s.jsx)(d.l,{className:"foo-menu",data:e.menuData,value:m,onChange:h,height:.6*document.documentElement.clientHeight}),f=Object(s.jsx)("div",{style:{width:"100%",height:.6*document.documentElement.clientHeight,display:"flex",justifyContent:"center"},children:Object(s.jsx)(d.b,{size:"large"})});return Object(s.jsxs)("div",{className:o?"menu-active":"",children:[Object(s.jsx)("div",{children:Object(s.jsx)(d.m,{leftContent:"",mode:"light",icon:Object(s.jsx)("img",{src:"https://gw.alipayobjects.com/zos/rmsportal/iXVHARNNlmdCGnwWxQPH.svg",className:"am-icon am-icon-md",alt:""}),onLeftClick:function(e){e.preventDefault(),u(!o)},className:"top-nav-bar",rightContent:e.isAuth?Object(s.jsx)(gn,{onLogout:function(){h(["",""]),n.replace(e.appLocation+"login"),e.logout()}}):null,children:e.isAuth?Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:null===(t=e.user)||void 0===t?void 0:t.name})}):Object(s.jsx)(ot.b,{to:e.appLocation+"login",onClick:function(){h(["",""])},children:Object(s.jsx)("span",{className:"text-white",children:"Login"})})})}),o?e.menuData?p:f:null,o?Object(s.jsx)("div",{className:"menu-mask",onClick:function(){u(!1)}}):null]})},Sn=n(653),yn=Sn.a.SubMenu,Ln=function(e){var t,n,a=Object(lt.g)();return Object(s.jsxs)(Sn.a,{onClick:function(){},mode:"horizontal",theme:"dark",children:[e.menuData.map((function(e){return Object(s.jsx)(yn,{title:e.label,children:e.children?(t=e.children,t.map((function(e){var t=e.disabled?{disabled:!0}:null;return Object(s.jsx)(Sn.a.Item,Object(u.a)(Object(u.a)({},t),{},{children:Object(s.jsx)(ot.b,{to:e.value,children:e.label})}),e.value)}))):null},e.value);var t})),e.isAuth?Object(s.jsxs)(yn,{title:null===(n=e.user)||void 0===n?void 0:n.name,children:[Object(s.jsx)(Sn.a.Item,{onClick:function(){a.replace(e.appLocation+"login"),e.logout()},children:"Logout"},"login"),Object(s.jsx)(Sn.a.Item,{onClick:function(){},children:"Info"},"info"),Object(s.jsx)(Sn.a.Item,{onClick:function(){},children:"Help"},"help")]},null===(t=e.user)||void 0===t?void 0:t.name):Object(s.jsx)(Sn.a.Item,{children:Object(s.jsx)(ot.b,{to:e.appLocation+"login",children:"Login"})},"login")]})},Cn=Object(o.b)((function(e){return{appLocation:e.app.location,isAuth:e.auth.isAuth,user:e.auth.user}}),{logout:re.logout})(f.isMobile?kn:Ln),Nn=function(e){var t=e.user?e.user.status:null;return Object(s.jsx)(Cn,{menuData:Tn(e.appLocation,t)})},Tn=function(e,t){var n=[{value:"planning",label:"Planning",children:[{label:"ToDo list",value:e+"toDoList",disabled:!1},{label:"Tasks tree",value:e+"tasksTree"},{label:"Analysis",value:e+"analysis",disabled:!0},{label:"Daily schedule",value:e+"schedule",disabled:!1}]},{value:"catalog",label:"Catalog",children:[{label:"Products",value:e+"products"},{label:"Providers",value:e+"providers"}]},{value:"orders",label:"Orders",children:[{label:"Orders",value:e+"orders"},{label:"Leads",value:e+"leads"}]},{value:"english",label:"English",children:[{label:"Vocabulary",value:e+"vocabulary"},{label:"Grammer",value:e+"grammer"}]}];return"admin"!==t&&"superAdmin"!==t||(n.push({value:"admin",label:"Admin",children:[{label:"Users",value:e+"users"}]}),n.push({value:"development",label:"Development",children:[{label:"Projects",value:e+"projects"}]})),n},Dn=Object(o.b)((function(e){return{appLocation:e.app.location,user:e.auth.user}}),{logout:re.logout})(Nn),In=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"email",type:"email",label:"Email",validate:O,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"password",type:"password",label:"Password",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:P,name:"remember",label:"Remember Me",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Login"})})]})},wn=function(e){Object(c.useEffect)((function(){e.authError&&Ve.b.error(e.authError)}),[e.authError]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-5 mx-auto",children:"Login Form"}),Object(s.jsx)(j.c,{initialValues:{email:"",password:"",remember:!1},onSubmit:function(t){e.login(t)},children:In}),Object(s.jsx)("div",{className:"mt-3",children:Object(s.jsx)(ot.b,{to:e.location+"register",children:Object(s.jsx)(ue.a,{type:"link",block:!0,children:"Register"})})})]})},_n=Object(o.b)((function(e){return{auth:e.auth,location:e.app.location,authError:e.auth.authError}}),{login:ie})(wn),En=function(e){return Object(s.jsx)("div",{children:"Orders"})},Mn=Object(o.b)((function(e){return{appLocation:e.app.location}}),{})(En),An=n(658),Rn=function(e){Object(c.useEffect)((function(){e.isBackendNew||e.isProjectListLoaded||e.getProjectList()}),[e.isBackendNew,e.isProjectListLoaded]),Object(c.useEffect)((function(){e.projectList&&e.projectList.length>0&&o(e.projectList.map((function(e){return{name:e.name,value:e.name}})))}),[e.projectList]);var t=Object(c.useState)(e.isBackendNew),n=Object(l.a)(t,2),a=(n[0],n[1],Object(c.useState)([])),r=Object(l.a)(a,2),i=r[0],o=r[1];return e.isBackendNew?Object(s.jsx)(j.a,{component:E,selectOptions:[{name:"Laravel",value:"laravel"},{name:"Other",value:"other"}],name:"backendType",type:"select",label:"Backend type",onSelect:e.onSelectBackEndType,submitCount:e.submitCount}):Object(s.jsxs)(s.Fragment,{children:["get old projects",Object(s.jsx)(j.a,{component:E,selectOptions:i,name:"backend_project",type:"select",label:"Choise backend project",onSelect:e.onSelectBackEndType,submitCount:e.submitCount})]})},Fn=Object(o.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Pt})(Rn),Pn=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],d=o[1],b=Object(c.useState)(!1),O=Object(l.a)(b,2),h=O[0],p=O[1],f=function(e){r(e.target.checked)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Project Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:P,name:"isHasBackEnd",type:"checkbox",label:"BackEnd",submitCount:e.submitCount,onClick:function(e){d(e.target.checked)}}),u?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:"backend initial options:"}),Object(s.jsx)("br",{}),Object(s.jsx)(j.a,{component:P,type:"checkbox",name:"isBackendNew",label:"New Backend",submitCount:e.submitCount,onClick:function(e){p(e.target.checked)}}),Object(s.jsx)(Fn,{isBackendNew:h,onSelectBackEndType:function(e){},submitCount:e.submitCount})]}):null,Object(s.jsx)(j.a,{component:P,name:"isHasFrontEnd",type:"checkbox",label:"FrontEnd",submitCount:e.submitCount,onClick:f,onSelect:f}),a?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:"Frontend initial options:"}),Object(s.jsx)("br",{}),Object(s.jsx)(j.a,{component:P,name:"isCRA",label:"Create React App",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isTS",label:"Type Script",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isMenu",label:"Menu",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isRouter",label:"Router",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isLogin",label:"Login/ Register",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isBAM",label:Object(s.jsx)(Ue.a,{title:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("p",{children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0442\u043e\u0434\u043e\u043b\u043e\u0433\u0438\u0438 \u0411\u042d\u041c \u0434\u0432\u0430\u043e\u043c\u0442\u0432\u0449\u043a\u043c\u0442\u0443\u0449\u043c\u0448\u0441\u0432\u043a\u0443\u043c\u0437\u043a\u0443\u043c\u0437 \u043a\u0443\u0446\u043c\u0437\u043a\u0446\u043c\u043e\u0437\u0443\u0449\u043a\u043c\u0437\u0449\u043a \u0437\u0449\u0441\u043e\u0443\u0446\u0448\u0440 \u0441\u0449\u0440\u0443\u043c\u0449\u043a\u0443\u0446\u043c\u0440\u0449\u043a\u043c\u0443 \u0446\u0440\u0448\u0443\u0446\u0449\u043c\u0448\u0440\u0446\u0449\u043a\u0443\u0448\u043c\u0449\u043c\u043a\u0448\u0446\u0449\u0448 \u0448\u043e\u043c\u0437\u0443\u0449\u0446\u043a\u043e\u043c\u0437\u043a\u0443\u043c\u043e \u0437\u0449\u0443\u043c\u043e\u0437\u04493\u0443\u043e\u043c"}),Object(s.jsx)("p",{children:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0430\u0431\u0437\u0430\u0446"})]}),children:Object(s.jsx)("span",{children:"\u0411\u042d\u041c"})}),submitCount:e.submitCount})]}):null]})},Vn=function(e){Object(c.useEffect)((function(){e.isProjectListLoaded||e.getProjectList()}),[e.isProjectListLoaded,e]),Object(c.useEffect)((function(){e.projectList&&e.projectList.length>0&&r(e.projectList.map((function(e){return{name:e.name,value:e.id.toString()}})))}),[e.projectList]);var t=Object(c.useState)([]),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(s.jsx)(j.a,{component:E,selectOptions:a,name:"project_name",type:"select",label:"Choise backend project",onSelect:function(t){console.log("project id: ",t),console.log(e.projectList.filter((function(e){return e.id===Number(t)}))[0])},submitCount:e.submitCount})},Yn=Object(o.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Pt})(Vn),Un=function(e){var t=Object(c.useState)(0),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:E,selectOptions:[{name:"Old",value:1},{name:"New",value:2},{name:"Load From SRC",value:3}],name:"isNewType",type:"select",label:"\u0412\u0438\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",submitCount:e.submitCount,validate:m,onSelect:function(e){console.log("onSelect"),r(Number(e))}}),1===a?Object(s.jsx)(Yn,{submitCount:e.submitCount}):null,2===a?Object(s.jsx)(Pn,Object(u.a)({},e)):null,3===a?Object(s.jsx)("div",{children:"load"}):null]})},zn=function(e){var t=e.values,n=t.selectOptions,a=t.taskTypes,r=Object(c.useState)(t.taskType),i=Object(l.a)(r,2),o=i[0],u=i[1];Object(c.useEffect)((function(){var t=e.values.task_type;Array.isArray(t)?u(t[0]):u(t)}),[e.values]);return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[3!==o?Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}):null,Object(s.jsx)(j.a,{component:E,selectOptions:n,name:"parent_id",type:"select",label:"Parent",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:V,name:"descriptions",type:"textarea",label:"Descriptions",submitCount:e.submitCount}),3!==o?Object(s.jsx)(j.a,{component:F,name:"time_to_complete",type:"time",label:"Time to complete",submitCount:e.submitCount}):null,Object(s.jsx)(j.a,{component:E,selectOptions:a,name:"task_type",type:"select",label:"task Types",onSelect:function(e){},submitCount:e.submitCount}),2===o?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(j.a,{component:A,name:"phone_number",type:"text",label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:A,name:"lead_name",type:"text",label:"\u0418\u043c\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430",validate:m,submitCount:e.submitCount,hasFeedback:!0})]}):null,3===o?Object(s.jsx)(Un,{}):null,Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},qn=n(657),Hn=n(664),Kn=n(665),Bn=qn.a.Panel,Jn=function(e){return null===e.item.parent_id?Object(s.jsx)($n,{item:e.item,taskList:e.taskList,onAddSubtask:function(t){console.log(t),e.setInitialFormValues(Object(u.a)(Object(u.a)({},e.initialValues),{},{parent_id:t})),e.setDrawerData({header:"add subtask",taskId:!1}),e.showDrawer()},onEdit:function(t){console.log(t),e.setDrawerData({header:'Edit: "'+t.name+'"',taskId:t.id});var n=U()().zone("GMT");if(null!==t.time_to_complete){var a=t.time_to_complete.split(/:/);n.hours(parseInt(a[0])).minutes(parseInt(a[1])).seconds(0).milliseconds(0)}else n.hours(0).minutes(0).seconds(0).milliseconds(0);var s=Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:t.name,time_to_complete:n,descriptions:t.descriptions?t.descriptions:void 0,parent_id:t.parent_id?t.parent_id:void 0,task_type:Number(t.task_type)});t.data&&(s=Object(u.a)(Object(u.a)({},s),JSON.parse(t.data))),console.log(s),e.setInitialFormValues(s),e.showDrawer()},deleteTask:function(t){e.deleteTaskList(t)},onStatusChange:function(t){var n={isCompleted:t.target.checked};e.updateTaskList(n,Number.parseInt(t.target.id))},onRunTask:e.onRunTask},String(e.item.id)):null},Gn=function(e){return Object(s.jsx)(An.b,{size:"small",bordered:!0,dataSource:e.childsTasklList,renderItem:function(t){return Object(s.jsx)($n,{item:t,taskList:e.taskList,onAddSubtask:e.onAddSubtask,onEdit:e.onEdit,deleteTask:e.deleteTask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask},t.id.toString())}})},$n=function(e){return 0===Qn(e.taskList,e.item).length?Object(s.jsx)(Wn,{item:e.item,onEdit:e.onEdit,deleteTask:e.deleteTask,onAddSubtask:e.onAddSubtask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask}):Object(s.jsx)(An.b.Item,{className:"p-0",draggable:!0,children:Object(s.jsx)(qn.a,{className:"w-100",defaultActiveKey:[],collapsible:"header",ghost:!0,children:Object(s.jsx)(Bn,{header:Object(s.jsx)("span",{className:"float-left pl-2",children:e.item.name},String(e.item.id)),extra:Object(s.jsx)(Xn,Object(u.a)({},e)),children:Object(s.jsx)(Gn,{childsTasklList:Qn(e.taskList,e.item),taskList:e.taskList,onEdit:e.onEdit,deleteTask:e.deleteTask,onAddSubtask:e.onAddSubtask,onStatusChange:e.onStatusChange,onRunTask:e.onRunTask})},e.item.id+"Panel")},String(e.item.id))},e.item.id)},Wn=function(e){return Object(s.jsx)(An.b.Item,{className:"py-0",draggable:!0,children:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"py-2 pl-3",children:Object(s.jsx)(y.a,{checked:e.item.isCompleted,id:e.item.id.toString(),onClick:e.onStatusChange})}),Object(s.jsxs)("div",{className:"w-100 float-left",children:[Object(s.jsx)("div",{className:"ml-3 float-left",children:e.item.isCompleted?Object(s.jsx)("span",{className:"text-black-50",children:e.item.name}):Object(s.jsx)("span",{"data-toggle":"collapse","aria-controls":e.item.id+"collapseExample",children:e.item.name})}),Object(s.jsx)("div",{className:"ml-3 float-right",children:e.item.time_to_complete})]},String(e.item.id)),Object(s.jsx)("div",{className:"pr-3",children:Object(s.jsx)(Xn,Object(u.a)({},e))})]})},String(e.item.id))},Xn=function(e){return Object(s.jsxs)("div",{className:"d-flex flex-row",children:[Number(e.item.task_type)>1?Object(s.jsx)(ue.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onRunTask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Hn.a,{className:"ml-1",style:{fontSize:"14px"}})})}):null,Object(s.jsx)(ue.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onAddSubtask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Kn.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsx)(ue.a,{className:"",type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.onEdit(e.item)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Ke.a,{className:"ml-1",style:{fontSize:"14px"}})})}),Object(s.jsx)(ue.a,{className:"",type:"primary",danger:!0,shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){e.deleteTask(e.item.id)},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Be.a,{className:"ml-1",style:{fontSize:"14px"}})})})]})},Qn=function(e,t){for(var n=[],a=0;a<e.length;a++){var s=e[a];s.parent_id===t.id&&n.push(s)}return n},Zn=Object(o.b)((function(e){var t;return{taskList:e.taskList.taskList,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,isTaskListLoaded:e.taskList.isTaskListLoaded,selectedTasks:e.taskList.selectedTasks}}),{getTaskList:Qt,createNewTaskList:Zt,deleteTaskList:en,updateTaskList:tn})(Jn),ea=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:M,name:"date",type:"date",label:"Select Date",validate:m,submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:F,name:"time",type:"time",label:"Select time",validate:m,submitCount:e.submitCount}),Object(s.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ml-2",children:"Add now"}),Object(s.jsx)("button",{type:"button",className:"ant-btn ant-btn-primary ml-2",children:"Auto add by context"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},ta=function(e){switch(console.log(Number(e.task_type)),Number(e.task_type)){case 2:return{lead_name:e.lead_name,phone_number:e.phone_number};default:return null}},na={header:"Create New Task",taskId:!1},aa=function(e){return{selectOptions:sa(e),taskTypes:Oa,task_type:1,name:""}},sa=function(e){return void 0!==e&&e.length>0?e.map((function(e){return{name:e.name,value:e.id}})):[]},ca=function(e){Object(c.useEffect)((function(){var t=function(){return e.getTaskList};void 0===e.taskList||0!==e.taskList.length||e.isTaskListLoaded?void 0===e.taskList&&t()():t()(),r(!1),f(aa(e.taskList))}),[e.taskList,e.getTaskList,e.isTaskListLoaded]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(na),o=Object(l.a)(i,2),d=o[0],m=o[1],O=Object(c.useState)(aa(e.taskList)),h=Object(l.a)(O,2),p=h[0],f=h[1],x=Object(c.useState)(!1),v=Object(l.a)(x,2),g=v[0],k=v[1],S=Object(c.useState)(null),y=Object(l.a)(S,2),L=y[0],C=y[1],N=function(t){k(!0),C(e.taskList.filter((function(e){return e.id===t}))[0])},T=function(){r(!0)};return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"site-card-border-less-wrapper",children:Object(s.jsxs)(Fe.a,{title:Object(s.jsx)("div",{className:"inline",children:Object(s.jsx)("div",{children:Object(s.jsx)("h2",{children:"Tasks Tree"})})}),extra:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ue.a,{type:"primary",shape:"round",icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(de.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Add"})]}),style:{marginLeft:10},onClick:function(){m(na),T()}}),Object(s.jsx)(ue.a,{className:"",type:"primary",shape:"round",style:{marginLeft:10},icon:Object(s.jsxs)("div",{className:"d-flex flex-wrap align-content-start",children:[Object(s.jsx)(je.a,{style:{fontSize:"18px"}}),Object(s.jsx)("span",{className:"ml-1",style:{fontSize:"14px"},children:"Settings"})]})})]}),bordered:!1,children:[Object(s.jsx)(An.b,{size:"small",bordered:!0,dataSource:e.taskList,renderItem:function(t){return Object(s.jsx)(Zn,{item:t,showDrawer:T,setDrawerData:m,initialFormValues:p,setInitialFormValues:f,initialValues:aa(e.taskList),onRunTask:N})}}),Object(s.jsx)(Pe.a,{title:d.header,placement:"right",closable:!0,onClose:function(){f(aa(e.taskList)),r(!1)},visible:a,width:"90%",children:Object(s.jsx)(j.c,{initialValues:p,onSubmit:function(t){var n=ta(t);console.log(t);var a={name:t.name,task_type:t.task_type.toString(),user_id:e.userId,time_to_complete:t.time_to_complete?t.time_to_complete.format("HH:mm:ss"):void 0,descriptions:t.descriptions,parent_id:t.parent_id?t.parent_id:void 0};n&&(a=Object(u.a)(Object(u.a)({},a),{},{data:n})),d.taskId?e.updateTaskList(a,d.taskId):e.createNewTaskList(a)},enableReinitialize:!0,children:zn})}),Object(s.jsx)(b.a,{title:"Run Task",visible:g,onOk:function(){k(!1)},onCancel:function(){k(!1)},okText:"Ok",cancelText:"Cancel",children:Object(s.jsx)(j.c,{initialValues:{date:U()(),time:U()(),action:2},onSubmit:function(t){if(null!==L&&null!==L.data&&e.userId){var n=JSON.parse(L.data),a={name:"Call to "+n.lead_name,description:n.phone_number,date:t.date.format("YYYY-MM-DD"),time:t.time.format("HH:mm:00"),user_id:e.userId,action:Number(L.task_type),action_data:{phone:n.phone_number,name:n.lead_name}};console.log(a),e.createNewToDo(a,!0)}},enableReinitialize:!0,children:ea})})]})})})},ra=(n(582),d.j.Item),ia=z(),la=function(e){var t=Object(o.c)();return Object(s.jsx)(d.q,{style:{backgroundColor:"gray"},autoClose:!0,right:[{text:"SubTask",onPress:function(){e.setDrawerData({header:'SubTask for: "'+e.taskItem.name+'"',taskId:!1}),e.setInitialFormValues(Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:"",time_to_complete:ia,descriptions:"",parent_id:Number(e.taskItem.id),task_type:[0]})),e.showDrawer()},style:{backgroundColor:"green",color:"white"}},{text:"Delete",onPress:function(){return e.deleteTaskList(e.taskItem.id)},style:{backgroundColor:"#F4333C",color:"white"}}],left:[{text:"Edit",onPress:function(){!function(t){e.setDrawerData({header:'Edit: "'+t.name+'"',taskId:t.id});var n=z(t.time_to_complete),a=Object(u.a)(Object(u.a)({},e.initialFormValues),{},{name:t.name,time_to_complete:n,descriptions:t.descriptions?t.descriptions:void 0,parent_id:t.parent_id?t.parent_id:void 0,task_type:[Number(t.task_type)]});t.data&&(a=Object(u.a)(Object(u.a)({},a),JSON.parse(t.data))),console.log(a),e.setInitialFormValues(a),e.showDrawer()}(e.taskItem)},style:{backgroundColor:"#108ee9",color:"white"}},{text:e.taskItem.isCompleted?"Not Done":"Done",onPress:function(){return function(){var t={isCompleted:!e.taskItem.isCompleted};e.updateTaskList(t,e.taskItem.id)}()},style:{backgroundColor:"green",color:"white"}},{text:"Run",onPress:function(){return e.onRunTask(e.taskItem.id)},style:{backgroundColor:"#F4333C",color:"white"}}],children:Object(s.jsx)(ra,{onClick:function(){t(Xt.setSelectedTasks(e.taskItem.id)),e.setDrawerData({header:e.taskItem.name,taskId:e.taskItem.id})},wrap:!0,children:Object(s.jsxs)("div",{className:"w-100 row ",children:[Object(s.jsx)("div",{className:"col-10",children:e.taskItem.isCompleted?Object(s.jsx)("span",{className:"text-black-50 text-break",children:e.taskItem.name}):Object(s.jsx)("span",{className:"text-break",children:e.taskItem.name})}),Object(s.jsx)("div",{className:"col-2",children:e.taskItem.time_to_complete?e.taskItem.time_to_complete.split(/:/)[0]+":"+e.taskItem.time_to_complete.split(/:/)[1]:null})]},e.taskItem.id)},e.taskItem.id)})},oa={header:"Tasks Tree",taskId:!1},ua=function(e){return{selectOptions:ja(e),taskTypes:Oa,task_type:[1],time_to_complete:da}},da=z(),ja=function(e){return void 0!==e&&e.length>0?e.map((function(e){return{name:e.name,value:e.id}})):[]},ba=function(e){Object(c.useEffect)((function(){var t=function(){return e.getTaskList};(e.taskList&&0===e.taskList.length&&!e.isTaskListLoaded||void 0===e.taskList)&&t()(),r(!1),m(ua(e.taskList))}),[e.taskList,e.getTaskList,e.isTaskListLoaded]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(ua(e.taskList)),o=Object(l.a)(i,2),b=o[0],m=o[1],O=Object(c.useState)(oa),h=Object(l.a)(O,2),p=h[0],f=h[1],x=function(){0!==e.selectedTasks.length?(console.log(e.taskList.filter((function(t){return t.id===Number(e.selectedTasks[e.selectedTasks.length-1])}))[0].name),f({header:e.taskList.filter((function(t){return t.id===Number(e.selectedTasks[e.selectedTasks.length-1])}))[0].name,taskId:!1}),m(Object(u.a)(Object(u.a)({},ua(e.taskList)),{},{parent_id:Number(e.selectedTasks[e.selectedTasks.length-1])}))):(f({header:"Task Tree",taskId:!1}),m(Object(u.a)(Object(u.a)({},ua(e.taskList)),{},{parent_id:b.parent_id}))),r(!a)},v=function(){r(!0)},g=function(e){console.log(e)};return Object(s.jsxs)(d.u,{size:"lg",children:[Object(s.jsx)(d.t,{size:"lg"}),Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.d.Header,{title:"Tasks Tree"===p.header?Object(s.jsx)("h5",{className:"w-100 text-center",children:p.header}):Object(s.jsx)("h5",{children:p.header}),extra:Object(s.jsxs)("div",{className:"d-flex flex-row",children:[e.selectedTasks.length>0&&!a?Object(s.jsx)(d.c,{inline:!0,size:"small",className:"mx-3 my-2",onClick:function(){if(e.selectedTasks.length>1){var t=e.selectedTasks[e.selectedTasks.length-2],n=e.taskList.filter((function(e){return e.id===t}))[0].name;f({header:n,taskId:t})}else f({header:"Task Tree",taskId:!1});e.backSelectedTasks()},type:"primary",children:"Back"}):null,Object(s.jsx)(d.c,{inline:!0,size:"small",className:"mx-3 my-2",onClick:x,type:"primary",children:a?"Close":"Add"})]})}),Object(s.jsx)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsx)("div",{className:"mt-4",children:Object(s.jsx)(j.c,{initialValues:b,onSubmit:function(t){console.log(t);var n=ta(Object(u.a)(Object(u.a)({},t),{},{task_type:Number(t.task_type)}));console.log(n);var a={name:t.name,task_type:t.task_type.toString(),descriptions:t.descriptions,user_id:e.userId,parent_id:t.parent_id?t.parent_id:void 0,time_to_complete:t.time_to_complete?t.time_to_complete.toTimeString().split(" ")[0]:void 0};n&&(a=Object(u.a)(Object(u.a)({},a),{},{data:n})),p.taskId?e.updateTaskList(a,p.taskId):e.createNewTaskList(a)},enableReinitialize:!0,children:zn})}),open:a,onOpenChange:x,children:Object(s.jsx)(d.j,{children:void 0!==e.taskList?e.taskList.map((function(t){var n;return 0!==e.selectedTasks.length?(n=e.selectedTasks[e.selectedTasks.length-1],t.parent_id===n?Object(s.jsx)(la,{taskItem:t,deleteTaskList:e.deleteTaskList,showDrawer:v,setDrawerData:f,initialFormValues:b,setInitialFormValues:m,updateTaskList:e.updateTaskList,onRunTask:g},t.id.toString()):null):null===t.parent_id?Object(s.jsx)(la,{taskItem:t,deleteTaskList:e.deleteTaskList,showDrawer:v,setDrawerData:f,initialFormValues:b,setInitialFormValues:m,updateTaskList:e.updateTaskList,onRunTask:g},t.id.toString()):null})):null})})]})]})},ma=Object(o.b)((function(e){var t;return{taskList:e.taskList.taskList,userId:null===(t=e.auth.user)||void 0===t?void 0:t.id,isTaskListLoaded:e.taskList.isTaskListLoaded,selectedTasks:e.taskList.selectedTasks}}),{getTaskList:Qt,createNewTaskList:Zt,deleteTaskList:en,updateTaskList:tn,backSelectedTasks:Xt.backSelectedTasks,createNewToDo:ge})(f.isMobile?ba:ca),Oa=[{name:"\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430",value:1,isSubform:!1,childTypes:[]},{name:"\u0417\u0432\u043e\u043d\u043e\u043a",value:2,isSubform:!0,childTypes:[{label:"\u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",value:null,name:"phone_number",component:"AntInput",type:"text",validate:"validateRequired",hasFeedback:!0,isSubform:!1},{label:"\u0418\u043c\u044f \u0430\u0431\u043e\u043d\u0435\u043d\u0442\u0430",value:null,name:"lead_name",component:"AntInput",type:"text",validate:"validateRequired",hasFeedback:!0,isSubform:!1}]},{name:"\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430",value:3,isSubform:!0,childTypes:[]}],ha=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:A,name:"email",type:"email",label:"Email",validate:O,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"password",type:"password",label:"Password",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:R,name:"c_password",type:"password",label:"Confirm",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:P,name:"remember",label:"Remember Me",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:E,selectOptions:pa,name:"status",type:"select",label:"User Status",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Register"})})]})},pa=[{name:"Guest",value:"guest",isSubform:!1},{name:"Admin",value:"admin",isSubform:!1}],fa={email:"",password:"",name:"",remember:!1},xa=function(e){var t=Object(lt.g)();Object(c.useEffect)((function(){e.isAuth&&t.replace(e.appLocation+"toDoList")}),[e.isAuth,t,e.appLocation]),Object(c.useEffect)((function(){e.authError&&Ve.b.error(e.authError)}),[e.authError]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"mb-5 mx-auto",children:"Register Form"}),Object(s.jsx)(j.c,{initialValues:fa,onSubmit:function(t){e.register(t)},children:ha})]})},va=Object(o.b)((function(e){return{isAuth:e.auth.isAuth,appLocation:e.app.location,authError:e.auth.authError}}),{register:function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s,c,r,i,l;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se(e);case 2:if(200===(s=t.sent).status)c={email:e.email,password:e.password,remember:!!e.remember&&e.remember},n(ie(c));else{for(i in r="",s.data)Object.prototype.hasOwnProperty.call(s.data,i)&&(l=s.data[i],r=r+i+": "+l[0]+";");n(re.setAuthError(r))}case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(xa),ga=function(e){Object(c.useEffect)((function(){0===e.usersList.length&&e.getUsersList()}),[e.usersList,e]);var t=Object(lt.i)().url;return Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Users"}),Object(s.jsx)(He.a,{as:"ul",children:e.usersList.map((function(n){return Object(s.jsx)(He.a.Item,{as:"li",action:!0,className:"",children:Object(s.jsxs)(ze.a,{className:"px-0 ml-0 ml-sm-5",children:[Object(s.jsx)(qe.a,{className:"mx-2",children:n.id}),Object(s.jsx)(qe.a,{className:"mx-2",children:Object(s.jsx)(ot.b,{to:t+"/"+n.id,children:n.name})}),"superAdmin"===e.UserStatus?Object(s.jsx)(qe.a,{className:"mr-auto ml-0 mr-sm-2 ml-sm-auto",children:Object(s.jsx)(ue.a,{type:"primary",shape:"circle",size:"small",style:{marginLeft:10},onClick:function(){},icon:Object(s.jsx)("div",{className:"d-flex flex-wrap align-content-start",children:Object(s.jsx)(Hn.a,{className:"ml-1",style:{fontSize:"14px"}})})})}):null]})},n.id)}))})]})},ka=d.j.Item,Sa=function(e){Object(c.useEffect)((function(){0===e.usersList.length&&e.getUsersList()}),[e.usersList,e]);var t=Object(lt.i)().url;return Object(s.jsx)("div",{children:Object(s.jsx)(d.j,{renderHeader:function(){return"Users:"},className:"my-list",children:e.usersList.map((function(e){return Object(s.jsx)(ka,{onClick:function(){console.log("onClick")},children:Object(s.jsx)(ot.b,{to:t+"/"+e.id,children:e.name})},e.id.toString())}))})})},ya=n(336),La=Object(ya.a)((function(e){return e.users.usersList}),(function(e){return e})),Ca=Object(o.b)((function(e){var t;return{usersList:La(e),UserStatus:null===(t=e.auth.user)||void 0===t?void 0:t.status}}),{getUsersList:ln})(f.isMobile?Sa:ga),Na=n(345),Ta=function(e){var t={id:e.userData.id,created_at:e.userData.created_at,updated_at:e.userData.updated_at,name:e.userData.name,email:e.userData.email,phone:e.userData.phone,status:e.userData.status};return Object(s.jsx)("div",{children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t,n){delete t.created_at,delete t.updated_at,e.updateUser(t,e.userData.id)},enableReinitialize:!0,children:Da})})},Da=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=function(){r(!0)};return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"id",type:"text",label:"ID",disabled:!0}),Object(s.jsx)(j.a,{component:A,name:"created_at",type:"text",label:"Created at",disabled:!0}),Object(s.jsx)(j.a,{component:A,name:"updated_at",type:"text",label:"Updated at",disabled:!0}),Object(s.jsx)(j.a,{component:A,name:"email",type:"text",label:"Email",disabled:!0}),Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,onChange:i,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:A,name:"phone",type:"text",label:"Phone number",validate:h,onChange:i,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:E,selectOptions:[{name:"Guest",value:"guest"},{name:"Admin",value:"admin"},{name:"Super Admin",value:"superAdmin"}],name:"status",type:"select",label:"Status",validate:m,onChange:i,submitCount:e.submitCount}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary mb-4",type:"submit",children:"Save"})}):null]})},Ia=qn.a.Panel,wa=function(e,t){return e.filter((function(e){return e.id.toString()===t}))[0]},_a=function(e,t,n){var a=[];if(e)for(var s=(t-1)*n,c=s+n,r=0;r<e.length;r++){var i=e[r];r>=s&&r<c&&a.push(i)}return a},Ea=function(e){Object(c.useEffect)((function(){var t=function(){return e.getUsersList};0===e.usersList.length&&t()(),e.isUsersDataChanged&&(t()(),e.setUsersDataChanged(!1))}),[e.usersList,e.getUsersList,e.isUsersDataChanged,e.setUsersDataChanged]);var t,n=Object(c.useState)(10),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(1),u=Object(l.a)(o,2),d=u[0],b=u[1],m=Object(c.useState)(!1),O=Object(l.a)(m,2),h=O[0],p=O[1],f=Object(c.useState)(ct),x=Object(l.a)(f,2),v=x[0],g=x[1],k=Object(c.useState)(null),S=Object(l.a)(k,2),y=S[0],L=S[1],C=Object(c.useState)(!1),N=Object(l.a)(C,2),T=N[0],D=N[1],I=wa(e.usersList,e.match.params.userId),w=Object(c.useState)({startDate:U()(),endDate:U()()}),_=Object(l.a)(w,2),E=_[0],M=_[1];return I?Object(s.jsxs)("div",{className:"mt-2",children:[Object(s.jsxs)("h5",{children:["Name: ",I.name]}),Object(s.jsxs)("p",{children:["User id: ",e.match.params.userId]}),Object(s.jsxs)(qn.a,{defaultActiveKey:[],onChange:function(){},children:[Object(s.jsx)(Ia,{header:"User data",children:Object(s.jsx)(Ta,{userData:I,updateUser:e.updateUser})},"1"),Object(s.jsxs)(Ia,{header:"ToDo List",children:[Object(s.jsx)(An.b,{children:I.toDoList?_a(I.toDoList,d,r).map((function(e){return Object(s.jsx)(Ma,{item:e,setToDoFormVisible:p,setInitialFormValues:g},e.id.toString())})):null}),Object(s.jsx)(Na.a,{total:null===(t=I.toDoList)||void 0===t?void 0:t.length,showTotal:function(e,t){return"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")},defaultPageSize:10,defaultCurrent:1,onChange:function(e){b(e)},onShowSizeChange:function(e,t){i(t)}})]},"2"),Object(s.jsxs)(Ia,{header:"Schedule",children:[Object(s.jsxs)("h3",{children:["Schedule for ",I.name,":"]}),Object(s.jsx)(me,{dateInterval:E,setIsInterval:function(e,t){console.log("setIsIntervalValues",e),D(e),M(t)},isReadOnly:!0}),Object(s.jsx)(et,{onEdit:function(){},dateInterval:E,errorMessage:e.errorMessage,getTaskList:function(e,t){var n=[];if(I.toDoList)for(var a=0;a<I.toDoList.length;a++){var s=I.toDoList[a];U()(s.date).isBetween(U()(E.startDate.format("YYYY-MM-DD")).add(-1,"day"),U()(E.endDate.format("YYYY-MM-DD")).add(1,"day"),"day")&&n.push(s)}L(n)},isInterval:T,settings:e.settings,taskList:y,taskListIsFetching:!1,taskSaveStatus:e.taskSaveStatus,isReadOnly:!0})]},"3"),Object(s.jsx)(Ia,{header:"Related users"},"4"),Object(s.jsx)(Ia,{header:"Permissions"},"5")]}),Object(s.jsx)(Pe.a,{title:v.name,placement:"right",closable:!0,onClose:function(){g(ct),p(!1)},visible:h,width:"90%",children:Object(s.jsx)(j.c,{initialValues:v,onSubmit:function(){},enableReinitialize:!0,initialStatus:"readOnly",children:Te})})]}):Object(s.jsx)(Ye.a,{size:"large"},"spin")},Ma=function(e){return Object(s.jsx)(An.b.Item,{actions:[Object(s.jsx)(ue.a,{onClick:function(){!function(t){e.setToDoFormVisible(!0);var n=t.time.split(":");e.setInitialFormValues({name:t.name,time:U()().hours(Number(n[0])).minutes(Number(n[1])).seconds(Number(n[2])),date:U()(t.date),descriptions:t.descriptions?t.descriptions:null})}(e.item)},type:"link",block:!0,children:"Show"})],children:e.item.name},e.item.id)},Aa=n(337),Ra=n.n(Aa),Fa=(n(592),d.j.Item),Pa=function(e){var t=Object(c.useState)(1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),u=o[0],b=o[1],m=Object(c.useState)(_e),O=Object(l.a)(m,2),h=O[0],p=O[1],f=Object(c.useState)(null),x=Object(l.a)(f,2),v=x[0],g=x[1],k=Object(c.useState)({startDate:U()(),endDate:U()()}),S=Object(l.a)(k,2),y=S[0],L=S[1],C=wa(e.usersList,e.match.params.userId),N=Object(c.useCallback)((function(e,t){if(C){var n=[];if(C.toDoList)for(var a=0;a<C.toDoList.length;a++){var s=C.toDoList[a];U()(s.date).isBetween(U()(e).add(-1,"day"),U()(t).add(1,"day"),"day")&&n.push(s)}g(n)}else g(null)}),[g,C]);Object(c.useEffect)((function(){var t=function(){return e.getUsersList};console.log(e.isUsersDataChanged),0===e.usersList.length&&t()(),e.isUsersDataChanged&&(t()(),e.setUsersDataChanged(!1)),C&&null===v&&N(y.startDate.format("YYYY-MM-DD"),y.endDate.format("YYYY-MM-DD"))}),[e.usersList,e.getUsersList,y,C,v,N,e.isUsersDataChanged,e.setUsersDataChanged]);var T,D=Object(lt.g)();return C?Object(s.jsxs)("div",{children:[Object(s.jsx)(d.m,{mode:"light",icon:Object(s.jsx)(d.h,{type:"left"}),onLeftClick:function(){return D.replace(e.appLocation+"users")},rightContent:[Object(s.jsxs)("span",{children:["User id: ",e.match.params.userId]},"UserId")],children:Object(s.jsx)("span",{className:"text-dark",children:C.name})}),Object(s.jsxs)(d.a,{defaultActiveKey:"",className:"my-accordion",onChange:function(){},children:[Object(s.jsx)(d.a.Panel,{header:"User data",children:Object(s.jsx)(Ta,{userData:C,updateUser:e.updateUser})}),Object(s.jsx)(d.a.Panel,{header:"ToDo List",children:Object(s.jsxs)(d.g,{className:"my-drawer",style:{minHeight:document.documentElement.clientHeight},contentStyle:{color:"#A6A6A6",textAlign:"center",paddingTop:0,width:"100%"},sidebar:Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(d.c,{inline:!0,size:"small",className:"ml-3 mt-3 mb-5",onClick:function(){b(!u)},type:"primary",children:"Close"}),Object(s.jsx)("div",{className:"mt-1",children:Object(s.jsx)(j.c,{initialValues:h,onSubmit:function(){},enableReinitialize:!0,initialStatus:"readOnly",children:Te})})]}),open:u,children:[Object(s.jsx)(d.j,{children:C.toDoList?_a(C.toDoList,a,10).map((function(e){return Object(s.jsx)(Fa,{onClick:function(){!function(e){b(!u);var t=z(e.time),n=e.date.split(/-/),a=new Date;a.setFullYear(parseInt(n[0])),a.setMonth(parseInt(n[1])-1),a.setDate(parseInt(n[2])),p({name:e.name,time:t,date:a,descriptions:e.descriptions?e.descriptions:null})}(e)},children:e.name},e.id.toString())})):null}),Object(s.jsx)(d.k,{locale:Ra.a,children:Object(s.jsx)("div",{className:"pagination-container",children:Object(s.jsx)(d.n,{className:"m-2",total:C.toDoList?Math.ceil((null===(T=C.toDoList)||void 0===T?void 0:T.length)/10):0,current:a,onChange:function(e){r(e)}})})})]})}),Object(s.jsxs)(d.a.Panel,{header:"Schedule",children:[Object(s.jsx)(Ce,{dateInterval:y,setIsInterval:function(e,t){L(t),N(t.startDate.format("YYYY-MM-DD"),t.endDate.format("YYYY-MM-DD"))},isReadOnly:!0}),Object(s.jsx)(Re,{dateInterval:y,taskList:v,isReadOnly:!0})]}),Object(s.jsx)(d.a.Panel,{header:"Related users"}),Object(s.jsx)(d.a.Panel,{header:"Permissions"})]})]}):Object(s.jsx)(Ye.a,{size:"small"},"spin")},Va=Object(o.b)((function(e){return{usersList:e.users.usersList,dateInterval:e.task.dateInterval,errorMessage:e.task.errorMessage,isInterval:e.task.isInterval,taskSaveStatus:e.task.taskSaveStatus,settings:e.auth.viewSettings,appLocation:e.app.location,viewSettings:e.auth.viewSettings,isUsersDataChanged:e.users.isUsersDataChanged}}),{getUsersList:ln,updateUser:on,setUsersDataChanged:rn.setUsersDataChanged})(f.isMobile?Pa:Ea),Ya=function(e){Object(c.useEffect)((function(){e.isProjectListLoaded||e.getProjectList()}),[e.isProjectListLoaded,e.projectList]);var t=Object(c.useState)(),n=Object(l.a)(t,2),a=(n[0],n[1],Object(lt.i)().url);return console.log(e),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h4",{children:"Projects"}),Object(s.jsx)("li",{children:"Add project"}),Object(s.jsx)(An.b,{bordered:!0,dataSource:e.projectList,renderItem:function(e){return Object(s.jsx)(An.b.Item,{actions:[Object(s.jsx)("a",{children:"show"},"list-loadmore-edit")],children:Object(s.jsx)(ot.b,{to:a+"/"+e.id,children:e.name})})}})]})},Ua=Object(o.b)((function(e){return{projectList:e.projects.projectList,isProjectListLoaded:e.projects.isProjectLoaded}}),{getProjectList:Pt})(Ya),za=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=function(e){r(!0)};return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:i}),Object(s.jsx)(j.a,{component:A,name:"url",type:"text",label:"URL",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:A,name:"ip",type:"text",label:"IP",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:A,name:"login",type:"text",label:"Login",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:A,name:"password",type:"text",label:"Password",submitCount:e.submitCount,onChange:i}),Object(s.jsx)(j.a,{component:A,name:"folder",type:"text",label:"folder on server",submitCount:e.submitCount,onChange:i}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null]})},qa=n(121),Ha=n.n(qa),Ka=function(e){return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-2 mb-2",children:[Object(s.jsx)(ue.a,{type:"primary",className:"mr-1 ml-auto",onClick:function(){console.log("check")},children:"Check"}),Object(s.jsx)(ue.a,{type:"primary",className:"mr-4 ml-1",onClick:function(){console.log(e),e.setShowCodeModal(!0,"model",e.fields,e.targetName,[])},children:"Code"})]}),e.fields.map((function(t){return Object(s.jsx)("div",{children:Object(s.jsx)(Ba,{fieldName:t.name,fieldType:t.type,isNulleble:t.isNulleble,isPrimary:t.isPrimary,isNew:!1,openModalToAddField:e.openModalToAddField,fieldId:t.id,deleteField:e.deleteField,fieldParam:t.fieldParam})},t.name)}))]},"fieldList")},Ba=function(e){var t=e.isPrimary?"bg-light":null;return Object(s.jsxs)("div",{className:"row py-2 border "+t,children:[Object(s.jsx)("div",{className:"col",children:e.fieldName}),Object(s.jsx)("div",{className:"col",children:e.fieldType}),Object(s.jsx)("div",{className:"col",children:e.isNulleble?"null":null}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)(ue.a,{type:"ghost",className:"ml-2",size:"small",onClick:function(){e.openModalToAddField(Object(u.a)({},e))},children:"Edit"}),Object(s.jsx)(ue.a,{type:"primary",size:"small",className:"ml-2",onClick:function(){var t;t=e.fieldId,e.deleteField(t)},children:"Delete"})]})]})},Ja=Object(o.b)((function(e){return{}}),{setShowCodeModal:pt.setShowCodeModal})(Ka),Ga=n(651),$a=function(e){var t=Object(c.useState)(e.initialValues.fieldParam),n=Object(l.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.initialValues.fieldParam)}),[e.initialValues]);return console.log(e.initialValues),console.log(a),Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"newFieldName",type:"text",label:"New fieldName",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:E,selectOptions:[{name:"BOOLEAN",value:"boolean"},{name:"BIGINT",value:"bigint"},{name:"VARCHAR",value:"varchar"},{name:"JSON",value:"json"},{name:"TIMESTAMP",value:"timestamp"},{name:"TEXT",value:"text"}],name:"newFieldType",type:"select",label:"Field type",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isNulleble",type:"checkbox",label:"isNulleble",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"isPrimary",type:"checkbox",label:"isPrimary",submitCount:e.submitCount}),Object(s.jsxs)("div",{className:"ant-row ant-form-item",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label",children:Object(s.jsx)("label",{children:"Picked"})}),Object(s.jsx)("div",{className:"mt-1",children:Object(s.jsxs)(Ga.a.Group,{onChange:function(t){r(t.target.value),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fieldParam:t.target.value})),console.log("\u0414\u043e\u0431\u0430\u0432\u0438\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 fieldParam: ",t.target.value)},value:a,name:"fieldParam",children:[Object(s.jsx)(Ga.a,{value:"fillable",children:"Fillable"}),Object(s.jsx)(Ga.a,{value:"hidden",children:"Hidden"}),Object(s.jsx)(Ga.a,{value:"readOnly",children:"ReadOnly"})]})})]}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},Wa=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Model name",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:A,name:"folder",type:"text",label:"Model folder"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save1"})})]})},Xa=function(e){return Object(c.useEffect)((function(){console.log("props.codeTargetName changed")}),[e.codeTargetName]),console.log(e),Object(s.jsxs)("div",{children:[Object(s.jsx)("li",{children:"!!!table name"}),Object(s.jsx)("li",{children:"Field type"}),Object(s.jsx)("li",{children:"namespace"}),Object(s.jsx)("h5",{children:"ModelCode:"}),Object(s.jsx)("code",{children:"<?php"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"namespace App;"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Eloquent\\Model;"}),Object(s.jsx)("br",{}),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:"use Illuminate\\Database\\Eloquent\\SoftDeletes;"}),Object(s.jsx)("br",{})]}):null,e.codeData.db?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:"use Illuminate\\Support\\Facades\\DB;"}),Object(s.jsx)("br",{})]}):null,Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"class "+e.codeTargetName[0].toUpperCase()+e.codeTargetName.slice(1)+" extends Model"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"{"}),Object(s.jsx)("br",{}),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(1,"use SoftDeletes;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{})]}):null,Object(s.jsx)("code",{children:es(1,'protected $table = "'+e.codeTargetName+'";')}),Object(s.jsx)("br",{}),Object(s.jsx)(Qa,{codeRowsArray:e.codeRowsArray}),Object(s.jsx)(Za,{codeRowsArray:e.codeRowsArray}),Object(s.jsx)("code",{children:"}"}),Object(s.jsx)("br",{}),Object(s.jsx)("h5",{children:"Migration code:"}),Object(s.jsx)("code",{children:"<?php"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Migrations\\Migration;"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Database\\Schema\\Blueprint;"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"use Illuminate\\Support\\Facades\\Schema;"}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"class Create"+e.codeTargetName[0].toUpperCase()+e.codeTargetName.slice(1)+"Table extends Migration"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"{"}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"public function up()")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(2,'Schema::create("'+e.codeTargetName+'", function (Blueprint $table) {')}),Object(s.jsx)("br",{}),e.codeRowsArray.map((function(e){var t=e.isNulleble?"->nullable()":"";return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(3,"$table->"+ts(e)+'("'+e.name+'")'+t+";")}),Object(s.jsx)("br",{})]})})),e.codeData.soft_delete?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(3,"$table->softDeletes();")}),Object(s.jsx)("br",{})]}):null,Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(3,"$table->timestamps();")}),Object(s.jsx)("br",{})]}),Object(s.jsx)("code",{children:es(2,"});")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"public function down()")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(2,'Schema::dropIfExists("'+e.codeTargetName+'");')}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"}")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:"}"}),Object(s.jsx)("br",{})]})},Qa=function(e){var t=e.codeRowsArray.filter((function(e){return"fillable"===e.fieldParam}));return t.length>0?Object(s.jsxs)("div",{children:[Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"protected $fillable = [")}),Object(s.jsx)("br",{}),t.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)("code",{children:'"'+e.name+'", '}),Object(s.jsx)("br",{})]},e.name)})),Object(s.jsx)("code",{children:es(1,"];")}),Object(s.jsx)("br",{})]}):Object(s.jsx)(s.Fragment,{})},Za=function(e){var t=e.codeRowsArray.filter((function(e){return"hidden"===e.fieldParam}));return t.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"protected $hidden = [")}),Object(s.jsx)("br",{}),t.map((function(e){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)(s.Fragment,{children:"\xa0\xa0\xa0\xa0"}),Object(s.jsx)("code",{children:'"'+e.name+'", '}),Object(s.jsx)("br",{})]})})),Object(s.jsx)("code",{children:es(1,"];")}),Object(s.jsx)("br",{})]}):Object(s.jsx)(s.Fragment,{})},es=function(e,t){return Object(s.jsxs)(s.Fragment,{children:[function(){for(var t=1,n=[];t<=e;)t++,n.push(Object(s.jsx)("span",{children:"\xa0\xa0\xa0\xa0"},t));return n}(),t]})},ts=function(e){if(console.log(e.name,"=",e.type),e.isPrimary)return"bigIncrements";switch(e.type){case"bigint":return"bigInteger";case"varchar":return"string";default:return e.type}},ns=Object(o.b)((function(e){return{isModalVisible:e.code.isModalVisible,codeRowsArray:e.code.codeRowsArray,codeType:e.code.codeType,codeTargetName:e.code.codeTargetName,codeData:e.code.codeData}}),{setShowCodeModal:pt.setShowCodeModal})(Xa),as=function(e){var t=function(){e.setShowCodeModal(!1,e.codeType,e.codeRowsArray,e.codeTargetName,[])};return Object(s.jsx)(b.a,{title:"Code modal",visible:e.isModalVisible,onOk:t,onCancel:t,width:1e3,children:function(){switch(e.codeType){case"model":return Object(s.jsx)(ns,{});default:return Object(s.jsx)("div",{children:"No data"})}}()})},ss=Object(o.b)((function(e){return{isModalVisible:e.code.isModalVisible,codeRowsArray:e.code.codeRowsArray,codeType:e.code.codeType,codeTargetName:e.code.codeTargetName}}),{setShowCodeModal:pt.setShowCodeModal})(as),cs=qn.a.Panel,rs=function(e){Object(c.useEffect)((function(){e.getModelsList(e.backendId)}),[]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2);o[0],o[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(ue.a,{className:"mr-4 ml-auto mb-3",type:"primary",onClick:function(){console.log("addModel"),r(!a)},children:"Add Model"})}),Object(s.jsx)(qn.a,{defaultActiveKey:[],onChange:function(t){console.log(t),console.log(e.modelsList),console.log(e.modelsList.filter((function(e){return e.id===Number(t[0])}))[0]);var n=e.modelsList.filter((function(e){return e.id===Number(t[0])}))[0];n&&e.setCodeTarget(n.name,{db:n.db,soft_delete:n.soft_delete})},children:e.modelsList?e.modelsList.map((function(t){return Object(s.jsx)(cs,{header:t.name,children:Object(s.jsx)(is,{modelItem:t,changePanel:e.changePanel,updateModel:e.updateModel})},t.id?t.id.toString():"null")})):Object(s.jsx)("div",{children:"No DATA"})}),Object(s.jsx)(Ha.a,{title:"Create new Model",visible:a,onOk:function(){r(!a)},onCancel:function(){r(!a)},children:Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(t){console.log(t),console.log(e),e.createModel(Object(u.a)(Object(u.a)({},t),{},{backend_id:e.backendId}))},enableReinitialize:!0,children:Wa})}),Object(s.jsx)(ss,{})]})},is=function(e){var t;console.log(e),t=Array.isArray(e.modelItem.fields)?e.modelItem.fields:JSON.parse(e.modelItem.fields);var n=[],a={};if(t)for(var c=0;c<t.length;c++){var r=t[c];n.push(r),a["field_"+r.name]=r.type}return console.log(Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a)),console.log(e.changePanel),Object(s.jsx)(j.c,{enableReinitialize:!0,initialValues:Object(u.a)(Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a),{},{changePanel:e.changePanel}),onSubmit:function(t){var s=Object(u.a)(Object(u.a)({},e.modelItem),{},{fields:n},a);console.log("formValues: ",t);s.name===t.name&&s.db===t.db&&(s.soft_delete,t.soft_delete),console.log(e.modelItem);var c={fields:JSON.stringify(t.fields),name:t.name,backend_id:e.modelItem.backend_id,id:e.modelItem.id,db:t.db,soft_delete:t.soft_delete};console.log(c),e.updateModel(c,e.modelItem.id?e.modelItem.id:0)},own:e.changePanel,children:ls})},ls=function(e){var t=Object(c.useState)(e.initialValues),n=Object(l.a)(t,2),a=n[0],r=n[1],i={newFieldName:"",newFieldType:"",isNulleble:!1,isPrimary:!1,isNew:!0,fieldParam:""},d=Object(c.useState)(i),b=Object(l.a)(d,2),O=b[0],h=b[1],p=Object(c.useState)(e.initialValues),f=Object(l.a)(p,2),x=f[0],v=f[1];Object(c.useEffect)((function(){}),[O]);var g=function(e){console.log("onChange in Models"),C(!0)},k=function(e){console.log("openModalToAddField",e),e.isNew?(h(Object(u.a)({},i)),console.log("\u0421\u041e\u0417\u0414\u0410\u0415\u041c \u041d\u041e\u0412\u042b\u0419 \u0424\u0418\u041b\u0414",O)):(console.log("\u041e\u0411\u041d\u0423\u041b\u042f\u0415\u041c \u0424\u041e\u0420\u041c\u0423",e),h({newFieldName:e.fieldName,newFieldType:e.fieldType,isNulleble:e.isNulleble,isPrimary:e.isPrimary,isNew:!1,id:e.fieldId,fieldParam:e.fieldParam})),I(!0)},S=Object(c.useState)(!1),y=Object(l.a)(S,2),L=y[0],C=y[1],N=Object(c.useState)(!1),T=Object(l.a)(N,2),D=T[0],I=T[1],w=Object(o.c)();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:g}),Object(s.jsx)(j.a,{component:A,name:"folder",type:"text",label:"Folder",submitCount:e.submitCount,onChange:g}),Object(s.jsx)(j.a,{component:P,name:"soft_delete",type:"checkbox",label:"Soft delete",onChange:g,submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:P,name:"db",type:"checkbox",label:"Use DB",onChange:g,submitCount:e.submitCount}),L?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null,Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-2 mb-2",children:[Object(s.jsx)("h5",{children:"Field List:"}),Object(s.jsx)(ue.a,{className:"mr-4 ml-auto",type:"primary",onClick:function(){k({isNew:!0})},children:"Add Field"})]}),Object(s.jsx)(Ja,{fields:x.fields,openModalToAddField:k,deleteField:function(t){console.log("deleteField",t),console.log(e);var n=a.fields.filter((function(e){return e.id!==t}));console.log(n),v(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:n})),r(Object(u.a)(Object(u.a)({},a),{},{fields:n})),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:n})),e.handleSubmit()},targetName:"user",targetData:[]}),Object(s.jsxs)("div",{className:"w-100 d-flex flex-row mt-5 mb-2",children:[Object(s.jsx)("h5",{children:"Methods:"}),Object(s.jsx)(ue.a,{className:"mr-4 ml-auto",type:"primary",children:"Add method"})]}),Object(s.jsx)("div",{className:"w-100 d-flex flex-row mt-5 mb-2",children:Object(s.jsxs)("h5",{className:"mr-auto ml-auto",children:["Create : ",e.initialValues.name,"Controller",Object(s.jsx)(ue.a,{onClick:function(){var t={name:e.initialValues.name+"Controller",models:JSON.stringify([e.initialValues.id]),backend_id:e.initialValues.backend_id,isResource:!0};e.initialValues.changePanel("",["3"]),w(Yt(t))},className:"ml-4",type:"primary",children:"Create"})]})})]}),Object(s.jsx)(Ha.a,{title:"New Field Form",visible:D,onOk:function(){console.log("handleOk"),I(!1)},onCancel:function(){console.log("handleCancel"),h(i),console.log(O),I(!1)},children:Object(s.jsx)(j.c,{initialValues:O,onSubmit:function(t,n){if(console.log("handleSubmit",t),t.isNew){console.log("NEW FIELD");var s=a.fields;s.push({id:e.initialValues.fields.length+1,name:t.newFieldName,isPrimary:t.isPrimary,type:t.newFieldType,isNulleble:t.isNulleble,fieldParam:t.fieldParam,description:""}),v(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:s})),console.log("NEED DML!!!!",e),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:s})),e.handleSubmit()}else{var c=!1,i=a.fields.map((function(e){return t.id===e.id&&(e.name!==t.newFieldName||e.type!==t.newFieldType||e.isNulleble!==t.isNulleble||e.isPrimary!==t.isPrimary||e.fieldParam!==t.fieldParam)?(c=!0,{description:"",id:t.id,name:t.newFieldName,isPrimary:t.isPrimary,type:t.newFieldType,isNulleble:t.isNulleble,fieldParam:t.fieldParam}):e}));c&&(v(Object(u.a)(Object(u.a)({},e.initialValues),{},{fields:i})),r(Object(u.a)(Object(u.a)({},a),{},{fields:i})),console.log("NEED DML!!!!",e),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{fields:i})),e.handleSubmit())}n.resetForm(),h(t)},enableReinitialize:!0,children:$a})})]})},os=Object(o.b)((function(e){return{modelsList:e.projects.modelsList}}),{getModelsList:Vt,updateModel:function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,St(e,t);case 2:c=n.sent,console.log(c),a(At(c.data.models));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},createModel:function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt(e);case 2:s=t.sent,console.log(s),n(At(s.data.models));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},setCodeTarget:pt.setCodeTarget})(rs),us=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Controller name",validate:m,hasFeedback:!0}),Object(s.jsx)(j.a,{component:A,name:"folder",type:"text",label:"Model folder"}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},ds=function(e){var t,n,a,c,r=[];(null===(t=e.methodData)||void 0===t?void 0:t.request)&&(r=JSON.parse(null===(c=e.methodData)||void 0===c?void 0:c.request));return console.log("ControllerMethodsCode props:",e),Object(s.jsxs)("div",{children:[Object(s.jsx)("code",{children:es(1,"/**")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"* Descriptions")}),Object(s.jsx)("br",{}),r.map((function(e){return Object(s.jsxs)("div",{children:[Object(s.jsx)("code",{children:es(1,"* @param  \\Illuminate\\Http\\"+e.type+"  $"+e.name)},e.name),Object(s.jsx)("br",{})]},e.name)})),Object(s.jsx)("code",{children:es(1,"* @return \\Illuminate\\Http\\Response")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"*/")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"public function "+(null===(n=e.methodData)||void 0===n?void 0:n.name)+"(")}),r.length>0?r.map((function(e,t){return t>0?Object(s.jsx)("code",{children:es(0,", "+e.type+"  $"+e.name)},e.name):Object(s.jsx)("code",{children:es(0,e.type+"  $"+e.name)},e.name)})):null,Object(s.jsx)("code",{children:es(0,")")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"{")}),Object(s.jsx)("br",{}),null!==e.methodData&&e.methodData.body_actions?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("br",{}),Object(s.jsx)("pre",{className:"ml-5",children:null===(a=e.methodData)||void 0===a?void 0:a.body_actions})]}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(2,"//...")}),Object(s.jsx)("br",{})]}),null!==e.methodData&&e.methodData.response?js(2,null!==e.methodData?JSON.parse(e.methodData.response):null):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(2,"//...")}),Object(s.jsx)("br",{})]}),Object(s.jsx)("code",{children:es(1,"}")}),Object(s.jsx)("br",{})]})},js=function(e,t){switch(t.type){case"method":return bs(e,t);case"Response":return ms(e,t)}},bs=function(e,t){var n=t.methodName;return console.log("methodName: ",n),[Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(e,"return self::"+n+"();")}),Object(s.jsx)("br",{})]})]},ms=function(e,t){console.log("response: ",t);var n=[];return n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(e,"return response()->json([")}),Object(s.jsx)("br",{})]})),t.responseItems?(console.log(t.responseItems),t.responseItems.map((function(t,a){n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(e+1,'"'+t.key+'"=> $'+t.variable+", ")}),Object(s.jsx)("br",{})]}))}))):console.log(t.responseItems),n.push(Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("code",{children:es(e,"], 200);")}),Object(s.jsx)("br",{})]})),console.log("responseBlock: ",n),n},Os=n(644),hs=n(68),ps=function(e){var t=Object(c.useState)(e.item),n=Object(l.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.item)}),[e.initialValues]);return Object(s.jsxs)("div",{className:"row mt-1",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label mt-2",children:e.item.label}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsxs)(Os.a,{className:" ml-2 TreeSelect_Request_Type",style:{width:"100%"},showSearch:!0,value:a.type,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Reqest type",allowClear:!0,showCheckedStrategy:"SHOW_PARENT",onChange:function(t,n,s){r(Object(u.a)(Object(u.a)({},a),{},{type:t})),t?e.onRowChange(e.item.id,t,e.item.name):e.onRowChange(e.item.id,"",e.item.name)},children:[Object(s.jsx)(hs.d,{selectable:!1,per_id:e.item.id,value:"model",title:"Model",children:e.initialValues.modelsList.map((function(t){return Object(s.jsx)(hs.d,{per_id:e.item.id,value:t.name,title:t.name},t.name)}))}),Object(s.jsx)(hs.d,{per_id:e.item.id,value:"Request",title:"Request"}),Object(s.jsx)(hs.d,{selectable:!1,per_id:e.item.id,value:"list",title:"List"})]})}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsx)(g.a,{className:"w-100 ml-2",value:a.name,name:e.item.id.toString(),onChange:function(t){r(Object(u.a)(Object(u.a)({},a),{},{name:t.target.value})),e.onRowChange(e.item.id,e.item.type,t.target.value)},placeholder:"Param name"})})]},e.item.id)},fs=function(e){var t=Object(c.useState)(e.responseInit),n=Object(l.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){r(e.responseInit)}),[e.responseInit]);return console.log("ResponseItem value: ",a),console.log("ResponseItem props: ",e),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"row mt-1 mb-3",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label mt-2",children:"Response:"}),Object(s.jsx)("div",{className:"col-4",children:Object(s.jsxs)(Os.a,{className:" ml-2 TreeSelect_Request_Type",style:{width:"100%"},showSearch:!0,value:"method"===a.type?e.initialValues.controllerMethodsList.filter((function(e){return e.id===a.methodId}))[0].name:a.type,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Reqest type",allowClear:!0,showCheckedStrategy:"SHOW_PARENT",onChange:function(t,n,s){var c=[],i=0,l="",o="";"Response"===t?(o=t,c.push({key:"",variable:""})):(i=e.initialValues.controllerMethodsList.filter((function(e){return e.name===t}))[0].id,l=e.initialValues.controllerMethodsList.filter((function(e){return e.name===t}))[0].name,o="method"),r(Object(u.a)(Object(u.a)({},a),{},{type:o,responseItems:c,methodId:i,methodName:l})),e.setResponseValues(Object(u.a)(Object(u.a)({},a),{},{type:o,responseItems:c,methodId:i,methodName:l}))},children:[Object(s.jsx)(hs.d,{value:"Response",title:"Response"}),Object(s.jsx)(hs.d,{selectable:!1,value:"method",title:"Method",children:void 0!==e.initialValues.controllerMethodsList?e.initialValues.controllerMethodsList.filter((function(t){return t.name!==e.initialValues.name})).map((function(e){return Object(s.jsx)(hs.d,{value:e.name,title:e.name},e.name)})):null})]})}),Object(s.jsx)("div",{className:"col-4",children:"Response"===a.type?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ue.a,{className:"ml-2",type:"primary",onClick:function(){var e=a.responseItems?Object(Kt.a)(a.responseItems):[];e.push({key:"",variable:""}),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:e}))},children:"Add param"}),Object(s.jsx)(ue.a,{className:"ml-2",type:"primary",onClick:function(){var e=a.responseItems?Object(Kt.a)(a.responseItems):[];e.pop(),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:e}))},children:"Del param"})]}):null})]}),"Response"===a.type?Object(s.jsx)("div",{className:"row mt-1 mb-3",children:Object(s.jsx)(xs,{responseRows:a.responseItems?a.responseItems:[],onRowChange:function(t,n,s){var c=a.responseItems?a.responseItems:[];c[n]&&(c[n][s]=t),r(Object(u.a)(Object(u.a)({},a),{},{responseItems:c})),e.setResponseValues(Object(u.a)(Object(u.a)({},a),{},{responseItems:c}))}})}):null,"method"===a.type?Object(s.jsxs)("div",{className:"row mt-1 mb-3",children:["methodId: ",a.methodId]}):null]})},xs=function(e){var t=function(t){e.onRowChange(t.target.value,Number(t.target.name),"key")},n=function(t){e.onRowChange(t.target.value,Number(t.target.name),"variable")};return Object(s.jsx)(s.Fragment,{children:e.responseRows.map((function(e,a){return Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsxs)("div",{className:"ant-col ant-form-item-label pr-2 mt-3",children:["param ",a+1,":"]}),Object(s.jsx)("div",{className:"col-4 mt-2",children:Object(s.jsx)(g.a,{className:"w-100 ml-2",value:e.key,name:a.toString(),onChange:t,placeholder:"Param name"})}),Object(s.jsx)("div",{className:"col-4 mt-2",children:Object(s.jsx)(g.a,{className:"w-100 ml-2",value:e.variable,name:a.toString(),onChange:n,placeholder:"Param variable"})})]},a.toString())}))})},vs=n(341),gs=n.n(vs),ks=function(e){var t=Object(c.useState)(void 0!==e.initialValues.request?e.initialValues.request:[]),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!(!e.initialValues.request||0===e.initialValues.request.length)),o=Object(l.a)(i,2),d=o[0],b=o[1],O=Object(c.useState)(e.initialValues.response),h=Object(l.a)(O,2),p=h[0],f=h[1],x=Object(c.useState)(!!e.initialValues.response),v=Object(l.a)(x,2),g=v[0],k=v[1];console.log("isResponse: ",g);var S=Object(c.useState)(e.initialValues.body_actions),L=Object(l.a)(S,2),C=L[0],N=L[1],T=Object(c.useState)(!!e.initialValues.body_actions),D=Object(l.a)(T,2),I=D[0],w=D[1],_=Object(c.useState)(void 0),M=Object(l.a)(_,2);M[0],M[1];Object(c.useEffect)((function(){r(void 0!==e.initialValues.request?e.initialValues.request:[]),b(!(!e.initialValues.request||0===e.initialValues.request.length)),f(e.initialValues.response?e.initialValues.response:void 0),N(e.initialValues.body_actions?e.initialValues.body_actions:""),w(!!e.initialValues.body_actions)}),[e.initialValues]);var R=function(){console.log("onAddRequest:",a);var t=Object(Kt.a)(a);t.push({label:"param "+(a.length+1),type:"",name:"",id:a.length}),r(t),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:t}))},F=function(t,n,s){for(var c=Object(Kt.a)(a),i=0;i<a.length;i++){var l=a[i];l.id===t&&(c[i]=Object(u.a)(Object(u.a)({},l),{},{name:s,type:n}))}r(c),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:c}))};console.log("props.initialValues: ",e.initialValues);return console.log("ResponseItem:",p),Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Method name",validate:m,submitCount:e.submitCount,hasFeedback:!0}),Object(s.jsx)(j.a,{component:E,name:"rest_type",type:"select",label:"REST Type",selectOptions:Ss,validate:m,hasFeedback:!0}),Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"Request:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(e){console.log(e.target.checked),console.log(a),e.target.checked&&void 0!==a&&a.length,void 0!==a&&0===a.length?(console.log("onAddRequest"),R()):(console.log("setRequest"),r([])),b(!d)},checked:d})})]}),a&&a.length>0?a.map((function(t){return Object(s.jsx)(ps,{item:t,initialValues:e.initialValues,onRowChange:F},t.id)})):null,a&&a.length>=1?Object(s.jsxs)("div",{className:"my-2",children:[Object(s.jsx)(ue.a,{className:"mr-3",type:"primary",size:"small",onClick:R,children:"Add"}),Object(s.jsx)(ue.a,{className:"mr-3",type:"primary",size:"small",onClick:function(){var t=Object(Kt.a)(a);t.pop(),r(t),0===t.length&&b(!1),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{request:t}))},children:"del"})]}):null,Object(s.jsxs)("div",{className:"ant-row ant-form-item",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"body_actions:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(){w(!I)},checked:I})})]}),I?Object(s.jsx)(gs.a,{onKeyDown:function(t){if(9===t.keyCode){t.preventDefault();var n=C.substr(0,t.target.selectionEnd),a=C.substr(t.target.selectionEnd);N(n+"    "+a),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{body_actions:t.target.value}));var s=t.target.selectionStart+4,c=t.target.selectionEnd+4;setTimeout((function(){t.target.selectionStart=s,t.target.selectionEnd=c}),0)}},rows:4,value:C,onChange:function(t){N(t.target.value),e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{body_actions:t.target.value}))}}):null,Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"Response:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(y.a,{onChange:function(){console.log("onResponse",g),k(!g),console.log("response: ",p),f(p?void 0:{type:""})},checked:g})})]}),void 0!==p&&void 0!==p.type?Object(s.jsx)(fs,{responseInit:p,initialValues:e.initialValues,setResponseValues:function(t){e.setValues(Object(u.a)(Object(u.a)({},e.values),{},{response:t}))}}):null,Object(s.jsx)(j.a,{component:P,name:"isMiddleware",type:"checkbox",label:"isMiddleware",submitCount:e.submitCount}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},Ss=[{name:"GET",value:"get"},{name:"POST",value:"post"},{name:"PUT",value:"put"},{name:"DELETE",value:"delete"}],ys=function(e){var t={modelsList:e.modelsList,name:"",controllerMethodsList:e.controllerMethodsList},n=Object(c.useState)(null),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(t),d=Object(l.a)(o,2),m=d[0],O=d[1],h=Object(c.useState)("Controller Method form"),p=Object(l.a)(h,2),f=p[0],x=p[1];Object(c.useEffect)((function(){0===e.controllerMethodsList.length&&e.getControllerMethodsList()}),[]),Object(c.useEffect)((function(){console.log("useEffect, setinitialValues for: ",e.controllerData.id);var t=e.controllerMethodsList.filter((function(t){return t.controller_id===e.controllerData.id}));console.log("newControllerMethodsList",t),O(Object(u.a)(Object(u.a)({},m),{},{controllerMethodsList:t}))}),[e.controllerMethodsList]);var v=Object(c.useState)(!1),g=Object(l.a)(v,2),k=g[0],S=g[1];return console.log("ControllerMethods props",e),console.log("ControllerMethods initialValues: ",m),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(ue.a,{type:"primary",onClick:function(){O(t),x("Controller Method form"),S(!0)},children:"Add Method"})}),Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(An.b,{className:"mt-2",header:Object(s.jsx)("div",{children:"Controller Methods List:"}),bordered:!0,dataSource:m.controllerMethodsList,renderItem:function(t){return Object(s.jsx)(An.b.Item,{actions:[Object(s.jsx)("a",{onClick:function(){!function(t){var n=e.controllerMethodsList.filter((function(e){return e.id===t}))[0];console.log("target of method",n),x("Edit Controller Method "+n.name),i({body_actions:n.body_actions,controller_id:n.controller_id,id:t,isMiddleware:!1,name:n.name,request:n.request,response:n.response,rest_type:n.rest_type}),S(!0),O(Object(u.a)(Object(u.a)({},m),{},{name:n.name,request:n.request?JSON.parse(n.request):[],response:n.response?JSON.parse(n.response):void 0,body_actions:n.body_actions,rest_type:n.rest_type,id:n.id}))}(t.id)},children:"edit"},"list-loadmore-edit"),Object(s.jsx)("a",{children:"code"},"list-loadmore-more")],children:Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsx)("div",{className:"col-6",children:t.name}),Object(s.jsx)("div",{className:"col-3",children:t.rest_type})]})})}})}),Object(s.jsxs)(b.a,{title:f,visible:k,onOk:function(){console.log("onOk"),S(!1)},onCancel:function(){S(!1)},width:1e3,children:[Object(s.jsx)(j.c,{initialValues:m,onSubmit:function(t){console.log("onHandleSubmit values:",t),console.log("props: ",e);var n={body_actions:t.body_actions?t.body_actions:"",controller_id:e.controllerData.id,id:t.id?t.id:0,isMiddleware:!1,name:t.name,request:JSON.stringify(t.request),response:JSON.stringify(t.response),rest_type:t.rest_type?t.rest_type:null};console.log(n),i(n),t.id?(console.log("UPDATE: ",n),e.updateControllerMethodsList(n,t.id)):(console.log("CREATE: ",n),e.createControllerMethodsList(n))},enableReinitialize:!0,children:ks}),Object(s.jsx)(ds,{methodData:r,controllerData:e.controllerData})]})]})},Ls=Object(o.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList,controllerMethodsList:e.projects.controllerMethodsList}}),{getControllerMethodsList:Ut,updateControllerMethodsList:zt,createControllerMethodsList:qt})(ys),Cs=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){0===e.controllerMethodsList.length&&e.getControllerMethodsList()}),[]),Object(c.useEffect)((function(){r(e.controllerMethodsList.filter((function(t){return t.controller_id===e.controllerData.id})))}),[e.controllerMethodsList]),console.log(e),console.log(a),Object(s.jsxs)("div",{className:"text-left",children:[Object(s.jsx)("code",{children:es(0,"<?php")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(0,"namespace App\\Http\\Controllers;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(0,"use App\\"+e.controllerData.models[0].name+";")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(0,"use Illuminate\\Http\\Request;")}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(0,"class "+e.controllerData.name+" extends Controller")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(0,"{")}),Object(s.jsx)("br",{}),Object(s.jsx)("code",{children:es(1,"//...")}),Object(s.jsx)("br",{}),null===a||void 0===a?void 0:a.map((function(t){return Object(s.jsx)(ds,{methodData:t,controllerData:e.controllerData})})),Object(s.jsx)("code",{children:es(0,"}")}),Object(s.jsx)("br",{})]})},Ns=Object(o.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList,controllerMethodsList:e.projects.controllerMethodsList}}),{getControllerMethodsList:Ut,updateControllerMethodsList:zt,createControllerMethodsList:qt})(Cs),Ts=qn.a.Panel,Ds=function(e){Object(c.useEffect)((function(){e.getControllersList(e.backendId),0===e.modelsList.length&&e.getModelsList(e.backendId)}),[]),Object(c.useEffect)((function(){}),[e.controllersList]);var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1];if(e.modelsList.length>0)e.modelsList.map((function(e){return{name:e.name,value:e.id}}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"w-100 d-flex flex-row-reverse",children:Object(s.jsx)(ue.a,{className:"mr-4 ml-auto mb-3",type:"primary",onClick:function(){r(!0)},children:"Add Controller"})}),e.controllersList.length>0?Object(s.jsx)(qn.a,{defaultActiveKey:[],children:e.controllersList.map((function(t){return Object(s.jsx)(Ts,{header:t.name,children:Object(s.jsx)(Is,{item:t,modelsList:e.modelsList,updateController:e.updateController})},t.name)}))}):Object(s.jsx)(De.a,{}),Object(s.jsx)(Ha.a,{title:"Create new Controller",visible:a,onOk:function(){r(!a)},onCancel:function(){r(!a)},children:Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(t){e.createController(Object(u.a)(Object(u.a)({},t),{},{backend_id:e.backendId}))},enableReinitialize:!0,children:us})})]})},Is=function(e){console.log("ControllerItem props",e);var t={isResurce:e.item.isResource,modelsOptions:function(){for(var t=[],n=0;n<e.modelsList.length;n++){var a=e.modelsList[n];t.push({name:a.name,value:a.id?Number(a.id):0})}return t}(),models:e.item.models.length>0?e.item.models.map((function(e){return e.id})):[]};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h4",{children:e.item.name}),Object(s.jsxs)(qn.a,{defaultActiveKey:[],ghost:!0,children:[Object(s.jsx)(Ts,{header:"Instanses",children:Object(s.jsx)(j.c,{initialValues:t,onSubmit:function(t){e.updateController({models:t.models,backend_id:e.item.backend_id,folder:e.item.folder,id:e.item.id,isResource:t.isResurce,model_id:e.item.model_id,name:e.item.name},e.item.id)},enableReinitialize:!0,children:ws})},"instanse"),Object(s.jsx)(Ts,{header:"Methods",children:Object(s.jsx)(Ls,{controllerData:e.item})},"methods"),Object(s.jsx)(Ts,{header:"Full code",children:Object(s.jsx)(Ns,{controllerData:e.item})},"code"),Object(s.jsxs)(Ts,{header:"Actions to create",children:[e.item.models[0]?Object(s.jsxs)("h5",{children:["php artisan make:model ",e.item.models[0].name," -mcr"]}):Object(s.jsx)("h5",{children:"No Model"}),Object(s.jsx)("br",{}),e.item.models[0]?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("h5",{children:["php artisan make:controller ",e.item.name," --resource"]}),Object(s.jsxs)("h5",{children:["php artisan make:model ",e.item.models[0].name," --migration"]})]}):Object(s.jsx)("h5",{children:"No Model"})]},"actions")]})]},e.item.name)},ws=function(e){return Object(s.jsxs)(j.b,{className:"form-container",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:P,name:"isResurce",type:"checkbox",label:"isResurce",submitCount:e.submitCount}),Object(s.jsx)(j.a,{component:E,name:"models",type:"select",label:"Including Models",mode:"multiple",selectOptions:e.initialValues.modelsOptions}),Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})})]})},_s=Object(o.b)((function(e){return{controllersList:e.projects.controllersList,modelsList:e.projects.modelsList}}),{getControllersList:function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Lt(e);case 2:s=t.sent,n(Rt(s.data.controllers));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},createController:Yt,getModelsList:Vt,updateController:function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Nt(e,t);case 2:c=n.sent,console.log(c),c.data.needGetMethods&&a(Ut());case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Ds),Es=qn.a.Panel,Ms=function(e){var t=Object(c.useState)(),n=Object(l.a)(t,2),a=n[0],r=n[1];Object(c.useEffect)((function(){e.getBackendData(1)}),[]);var i=Bs(e.projectsList,e.projectId.toString()),o={name:i.backendData?i.backendData.name:null,url:i.backendData?i.backendData.url:null,ip:i.backendData?i.backendData.ip:null,login:i.backendData?i.backendData.login:null,password:i.backendData?i.backendData.password:null,folder:i.backendData?i.backendData.folder:null},u=function(e,t){console.log(t),r(t||[])};return i.backendData?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h5",{children:i.backendData.name}),Object(s.jsxs)(qn.a,{defaultActiveKey:[],activeKey:a,onChange:function(e){console.log("onCollapseChange",e),console.log("activeKey: ",[a]),u(0,e)},children:[Object(s.jsx)(Es,{header:"Instanses",children:Object(s.jsx)(j.c,{initialValues:o,onSubmit:function(t){i.backendData&&e.updateBackend(t,i.backendData.id)},enableReinitialize:!0,children:za})},"1"),Object(s.jsx)(Es,{header:"Models",children:Object(s.jsx)(os,{backendId:i.backend_id,changePanel:u})},"2"),Object(s.jsx)(Es,{header:"Controllers",children:Object(s.jsx)(_s,{backendId:i.backend_id})},"3"),Object(s.jsx)(Es,{header:"Api"},"4")]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("li",{children:"Seeders"}),Object(s.jsx)("li",{children:"Fasades"}),Object(s.jsx)("li",{children:"Middleware"}),Object(s.jsx)("li",{children:"Services"}),Object(s.jsx)("li",{children:"Events"}),Object(s.jsx)("li",{children:"Workers"})]}):Object(s.jsx)(Ye.a,{size:"large"},"spin")},As=Object(o.b)((function(e){return{projectsList:e.projects.projectList,isProjectsLoaded:e.projects.isProjectLoaded}}),{getProjectList:Pt,getBackendData:function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vt(e);case 2:void 0!==(s=t.sent)&&null!==s&&n(Mt(e,s.data.Backend[0]));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},updateBackend:function(e,t){return function(){var n=Object(Q.a)(X.a.mark((function n(a,s){var c;return X.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,gt(e,t);case 2:c=n.sent,console.log(c);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})(Ms),Rs=n(175),Fs=n.n(Rs),Ps=n(652),Vs=function(e){var t=Object(c.useState)(!1),n=Object(l.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(zs),o=Object(l.a)(i,2);o[0],o[1];return Object(s.jsxs)(j.b,{className:"form-container mt-2",onSubmit:e.handleSubmit,children:[Object(s.jsx)(j.a,{component:A,name:"name",type:"text",label:"Name",validate:m,submitCount:e.submitCount,hasFeedback:!0,onChange:function(e){r(!0)}}),Object(s.jsx)(Ys,{addTreeItem:function(e){for(var t=0;t<e.length;t++){var n=e[t];console.log(n)}}}),a?Object(s.jsx)("div",{className:"submit-container",children:Object(s.jsx)("button",{className:"ant-btn ant-btn-primary",type:"submit",children:"Save"})}):null]})},Ys=function(e){return Object(s.jsxs)("div",{className:"ant-row ant-form-item ",children:[Object(s.jsx)("div",{className:"ant-col ant-form-item-label pr-2",children:"SRC tree:"}),Object(s.jsx)("div",{className:"ant-col ant-form-item-control",children:Object(s.jsx)(Ps.a,{checkable:!0,defaultExpandedKeys:[],defaultSelectedKeys:["0-0-0","0-0-1"],defaultCheckedKeys:["0-0-0","0-0-1"],onSelect:function(e,t){console.log("selected",e,t)},onCheck:function(e,t){console.log("onCheck",e,t)},treeData:zs})})]})},Us=function(e){return Object(s.jsxs)("div",{children:[e.name,Object(s.jsx)(ue.a,{onClick:function(){var t;t=e.trace,console.log(t)},className:"ml-2",type:"primary",size:"small",children:"Add"}),Object(s.jsx)(ue.a,{className:"ml-2",type:"primary",size:"small",children:"Dell"})]})},zs=[{title:Object(s.jsx)(Us,{name:"src",trace:["src"]}),key:"0",trace:["0"],children:[{title:Object(s.jsx)(Us,{name:"Components",trace:["src","Components"]}),key:"0-0-1",children:[{title:Object(s.jsx)(Us,{name:"Development",trace:["src","Components","Development"]}),key:"0-0-1-0"}]}]}],qs=function(e){Object(c.useEffect)((function(){Hs(e.projectId)}),[]),console.log("Frontend props: ",e);return Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{children:"Frontend"}),Object(s.jsxs)(qn.a,{defaultActiveKey:[],children:[Object(s.jsxs)(Fs.a,{header:"Instanses",children:[Object(s.jsx)("li",{children:'1) Create new component "FrontEnd"'}),Object(s.jsx)("li",{children:"1.1) Create model"}),Object(s.jsx)("li",{children:"1.2) Create migrations"}),Object(s.jsx)("li",{children:"1.3) Create controller"}),Object(s.jsx)(j.c,{initialValues:{},onSubmit:function(e){console.log(e)},children:Vs})]},"1"),Object(s.jsx)(Fs.a,{header:"APIs"},"2"),Object(s.jsx)(Fs.a,{header:"Reducers"},"3"),Object(s.jsxs)(Fs.a,{header:"Components",children:[Object(s.jsx)("li",{children:"1) Create new component"}),Object(s.jsx)("li",{children:"1.1) Create model"}),Object(s.jsx)("li",{children:"1.2) Create migrations"}),Object(s.jsx)("li",{children:"1.3) Create controller"}),Object(s.jsx)("li",{children:"2) Get componentList"})]},"4")]})]})},Hs=function(e){console.log("getCurrentFrontend for: "+e)},Ks=qn.a.Panel,Bs=function(e,t){return e.filter((function(e){return e.id.toString()===t}))[0]},Js=function(e){Object(c.useEffect)((function(){e.isProjectsLoaded||e.getProjectList()}),[e.isProjectsLoaded]);var t=Bs(e.projectsList,e.match.params.userId);return t?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h3",{children:t.name}),Object(s.jsxs)(qn.a,{defaultActiveKey:[],children:[t.backend_id?Object(s.jsxs)(Ks,{header:"Backend",children:["Backend data to ",t.backend_id,Object(s.jsx)(As,{projectId:Number(e.match.params.userId)})]},"1"):null,t.frontend_id?Object(s.jsx)(Ks,{header:"Frontend",children:Object(s.jsx)(qs,{projectId:Number(e.match.params.userId)})},"2"):null]})]}):Object(s.jsx)(Ye.a,{size:"large"},"spin")},Gs=Object(o.b)((function(e){return{projectsList:e.projects.projectList,isProjectsLoaded:e.projects.isProjectLoaded}}),{getProjectList:Pt,updateUser:on})((f.isMobile,Js)),$s=n(261),Ws=n(153),Xs=n.n(Ws),Qs=$s.a.TabPane,Zs=function(e){var t=Object(c.useState)(e.part),a=Object(l.a)(t,2),r=(a[0],a[1]),i=n(637);Object(c.useEffect)((function(){e.getVocabularyList(1)}),[]),Object(c.useEffect)((function(){}),[e.vocabularyList,e.count,e.part]);var o=Object(Ws.useSpeechRecognition)(),u=o.transcript,d=o.resetTranscript;if(!Xs.a.browserSupportsSpeechRecognition())return null;return console.log(u),Object(s.jsxs)($s.a,{defaultActiveKey:"1",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{onClick:function(){Xs.a.startListening({language:"ru-RU"})},children:"StartRus"}),Object(s.jsx)("button",{onClick:function(){Xs.a.startListening({language:"en-US"})},children:"StartEng"}),Object(s.jsx)("button",{onClick:function(){console.log("onStop"),Xs.a.startListening({language:"en-US"})},children:"Stop"}),Object(s.jsx)("button",{onClick:d,children:"Reset"}),Object(s.jsx)("p",{children:u})]}),Object(s.jsxs)(Qs,{tab:"Vocabulary List",children:[Object(s.jsx)(Na.a,{showQuickJumper:!0,defaultPageSize:100,current:e.part,total:e.count,onChange:function(t){r(t),console.log(t),e.getVocabularyList(t)}}),Object(s.jsx)(An.b,{size:"small",header:Object(s.jsx)("div",{children:"Header"}),footer:Object(s.jsx)("div",{children:"Footer"}),bordered:!0,dataSource:e.vocabularyList,renderItem:function(e){return Object(s.jsx)(An.b.Item,{children:Object(s.jsxs)("div",{className:"row w-100",children:[Object(s.jsx)("div",{className:"col-1 text-right",children:e.id}),Object(s.jsx)("div",{className:"col-2 text-right",children:e.eng_value}),Object(s.jsx)("div",{className:"col-3 text-right",children:e.rus_value+" "+e.part_of_speech}),Object(s.jsxs)("div",{className:"col-6",children:[Object(s.jsx)(ue.a,{type:"primary",size:"small",onClick:function(){var t;t=e.eng_value,i(t,"en-US")},children:"Eng"}),Object(s.jsx)(ue.a,{onClick:function(){var t;t=e.rus_value,i(t,"ru-RU")},className:"ml-1",type:"primary",size:"small",children:"Rus"}),Object(s.jsx)(ue.a,{className:"ml-3",type:"primary",size:"small",children:"Lern"}),Object(s.jsx)(ue.a,{className:"ml-1",type:"primary",size:"small",children:"Know it"})]})]})})}})]},"1"),Object(s.jsx)(Qs,{tab:"to Lern"},"2"),Object(s.jsx)(Qs,{tab:"Active Vocabulary"},"3"),Object(s.jsx)(Qs,{tab:"Trening"},"4")]})},ec=Object(o.b)((function(e){return{vocabularyList:e.vocabulary.vocabularyList,part:e.vocabulary.part,count:e.vocabulary.count}}),{getVocabularyList:function(e){return function(){var t=Object(Q.a)(X.a.mark((function t(n,a){var s;return X.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dn(e);case 2:s=t.sent,console.log(s),n(bn(s.data.vocabularyList,Number(s.data.part),Number(s.data.count)));case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}})(Zs),tc=Object(ut.d)(lt.j,Object(o.b)((function(e){var t;return{initialized:e.app.initialized,appLocation:e.app.location,isAuth:e.auth.isAuth,userStatus:null===(t=e.auth.user)||void 0===t?void 0:t.status}}),{initializeApp:function(){return function(e){var t=e(function(){var e=Object(Q.a)(X.a.mark((function e(t,n){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne();case 2:null!==(a=e.sent)&&0===a.data.resultCode&&t(re.setAuthUserData(a.data.user,a.data.remember_token));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());Promise.all([t]).then((function(){e(bt())}))}},addLocation:function(e){return function(t){t(mt(e))}},login:ie}))((function(e){var t=Object(c.useState)(Object(lt.h)().pathname),n=Object(l.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){if(!e.initialized){var t=ac();t.email&&t.password&&(t.remember=!0,e.login(t)),"/front1/"===a&&(e.addLocation(a),r(a)),e.initializeApp()}}),[e,a]),e.initialized?Object(s.jsxs)(fn.a,{children:[Object(s.jsx)(Dn,{}),Object(s.jsxs)(lt.d,{children:[e.isAuth?Object(s.jsx)(lt.b,{exact:!0,path:e.appLocation,render:function(){return Object(s.jsx)(lt.a,{to:e.appLocation+"toDoList"})}}):Object(s.jsx)(lt.b,{exact:!0,path:e.appLocation,render:function(){return Object(s.jsx)(lt.a,{to:e.appLocation+"login"})}}),e.isAuth?Object(s.jsx)(lt.b,{exact:!0,path:e.appLocation+"login",render:function(){return Object(s.jsx)(lt.a,{to:e.appLocation+"toDoList"})}}):null,Object(s.jsx)(lt.b,{path:e.appLocation+"login",render:function(){return Object(s.jsx)(_n,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"toDoList",render:function(){return Object(s.jsx)(it,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"tasksTree",render:function(){return Object(s.jsx)(ma,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"orders",render:function(){return Object(s.jsx)(Mn,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"vocabulary",render:function(){return Object(s.jsx)(ec,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"register",render:function(){return Object(s.jsx)(va,{})}}),Object(s.jsx)(lt.b,{path:e.appLocation+"users/:userId",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?Va:sc}),Object(s.jsx)(lt.b,{exact:!0,path:e.appLocation+"users",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?Ca:sc}),Object(s.jsx)(lt.b,{path:e.appLocation+"projects/:userId",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?Gs:sc}),Object(s.jsx)(lt.b,{exact:!0,path:e.appLocation+"projects",component:"admin"===e.userStatus||"superAdmin"===e.userStatus?Ua:sc}),Object(s.jsx)(lt.b,{path:e.appLocation+"*",component:sc})]})]}):Object(s.jsx)(Ye.a,{size:"large"},"spin")})),nc=function(){return Object(s.jsx)(ot.a,{children:Object(s.jsx)(o.a,{store:pn,children:Object(s.jsx)("div",{className:f.isMobile?"":"container",children:Object(s.jsx)(tc,{})})})})},ac=function(){var e={};return document.location.search.substr(1).split("&").forEach((function(t){var n=t.split("="),a=Object(l.a)(n,2),s=a[0],c=a[1];e[s]=c})),e},sc=function(e){return Object(s.jsx)(xn.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(s.jsx)(ue.a,{type:"primary",children:"Back Home"})})},cc=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,666)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(s.jsx)(nc,{}),document.getElementById("root")),cc()}},[[640,1,2]]]);
//# sourceMappingURL=main.b28eb333.chunk.js.map